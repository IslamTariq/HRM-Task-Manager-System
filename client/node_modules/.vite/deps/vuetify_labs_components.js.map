{
  "version": 3,
  "sources": ["../../vuetify/src/labs/VCalendar/VCalendar.tsx", "../../vuetify/src/labs/VIconBtn/VIconBtn.tsx", "../../vuetify/src/labs/VCalendar/util/dateTimeUtils.ts", "../../vuetify/src/labs/VCalendar/util/timestamp.ts", "../../vuetify/src/labs/VCalendar/composables/times.ts", "../../vuetify/src/labs/VCalendar/composables/calendarBase.ts", "../../vuetify/src/labs/VCalendar/composables/calendarWithIntervals.ts", "../../vuetify/src/labs/VCalendar/VCalendarDaily.tsx", "../../vuetify/src/labs/VCalendar/util/parser.ts", "../../vuetify/src/labs/VCalendar/VCalendarCategory.tsx", "../../vuetify/src/labs/VCalendar/VCalendarWeekly.tsx", "../../vuetify/src/labs/VCalendar/composables/calendarWithEvents.tsx", "../../vuetify/src/labs/VCalendar/modes/common.ts", "../../vuetify/src/labs/VCalendar/modes/column.ts", "../../vuetify/src/labs/VCalendar/modes/stack.ts", "../../vuetify/src/labs/VCalendar/modes/index.ts", "../../vuetify/src/labs/VCalendar/util/events.ts", "../../vuetify/src/labs/VColorInput/VColorInput.tsx", "../../vuetify/src/composables/dateFormat.ts", "../../vuetify/src/labs/VDateInput/VDateInput.tsx", "../../vuetify/src/labs/VFileUpload/VFileUpload.tsx", "../../vuetify/src/labs/VFileUpload/VFileUploadItem.tsx", "../../vuetify/src/labs/VMaskInput/VMaskInput.tsx", "../../vuetify/src/labs/VPie/VPie.tsx", "../../vuetify/src/composables/reveal.ts", "../../vuetify/src/util/svg-arc-corners.ts", "../../vuetify/src/labs/VPie/utils.ts", "../../vuetify/src/labs/VPie/VPieSegment.tsx", "../../vuetify/src/labs/VPie/VPieTooltip.tsx", "../../vuetify/src/labs/VStepperVertical/VStepperVerticalItem.tsx", "../../vuetify/src/labs/VStepperVertical/VStepperVerticalActions.tsx", "../../vuetify/src/labs/VStepperVertical/VStepperVertical.tsx", "../../vuetify/src/labs/VPullToRefresh/VPullToRefresh.tsx", "../../vuetify/src/labs/VHotkey/VHotkey.tsx", "../../vuetify/src/labs/VVideo/VVideo.tsx", "../../vuetify/src/labs/VVideo/VVideoVolume.tsx", "../../vuetify/src/labs/VVideo/VVideoControls.tsx"],
  "sourcesContent": ["// Styles\nimport './VCalendarCategory.sass'\nimport './VCalendarDaily.sass'\nimport './VCalendarWeekly.sass'\n\n// Components\nimport { VCalendarCategory } from './VCalendarCategory'\nimport { VCalendarDaily } from './VCalendarDaily'\nimport { VCalendarWeekly } from './VCalendarWeekly'\n\n// Composables\nimport { makeCalendarBaseProps } from './composables/calendarBase'\nimport { makeCalendarWithEventsProps, useCalendarWithEvents } from './composables/calendarWithEvents'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Directives\nimport vResize from '@/directives/resize'\n\n// Utilities\nimport { computed, onMounted, onUpdated, ref, watch } from 'vue'\nimport { getParsedCategories } from './util/parser'\nimport {\n  copyTimestamp,\n  DAY_MIN,\n  DAYS_IN_MONTH_MAX,\n  DAYS_IN_WEEK,\n  getEndOfMonth,\n  getStartOfMonth,\n  nextDay,\n  prevDay,\n  relativeDays,\n  timestampToDate,\n  updateFormatted,\n  updateRelative,\n  updateWeekday,\n  validateTimestamp,\n} from './util/timestamp'\nimport { genericComponent, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type {\n  CalendarCategory, CalendarCategoryTextFunction,\n  CalendarDayBodySlotScope,\n  CalendarDaySlotScope, CalendarEvent, CalendarEventParsed,\n  CalendarTimestamp,\n} from './types'\nimport type { EventProp, GenericProps, JSXComponent } from '@/util'\n\n// Types\ninterface VCalendarRenderProps {\n  start: CalendarTimestamp\n  end: CalendarTimestamp\n  component: JSXComponent & { filterProps: <T>(props: T) => Partial<T> }\n  maxDays: number\n  categories: CalendarCategory[]\n}\n\ninterface EventSlotScope {\n  event: CalendarEvent\n  outside: boolean\n  singline: boolean\n  overlapsNoon: boolean\n  formatTime: (withTime: CalendarTimestamp, ampm: boolean) => string\n  timeSummary: () => string\n  eventSummary: () => JSX.Element\n  eventParsed: CalendarEventParsed\n  day: CalendarDaySlotScope\n  start: boolean\n  end: boolean\n  timed: boolean\n}\n\ninterface DaySlotScope extends CalendarTimestamp {\n  outside: boolean\n  index: number\n  week: CalendarTimestamp[]\n}\n\ninterface DayHeaderSlotScope extends CalendarTimestamp {\n  index: number\n  week: CalendarTimestamp[]\n}\n\ninterface CalendarDayCategorySlotScope extends CalendarDayBodySlotScope {\n  category: CalendarCategory\n}\n\nexport const VCalendar = genericComponent<new (\n  props: {\n    [key: `on${Capitalize<string>}:date`]: EventProp<[Event, CalendarTimestamp]>\n    [key: `on${Capitalize<string>}:dayCategory`]: EventProp<[Event, CalendarDayCategorySlotScope]>\n    [key: `on${Capitalize<string>}:day`]: EventProp<[Event, CalendarDayBodySlotScope]>\n    [key: `on${Capitalize<string>}:event`]: EventProp<[Event, EventSlotScope]>\n    [key: `on${Capitalize<string>}:interval`]: EventProp<[Event, CalendarTimestamp]>\n    [key: `on${Capitalize<string>}:more`]: EventProp<[Event, CalendarDaySlotScope]>\n    [key: `on${Capitalize<string>}:timeCategory`]: EventProp<[Event, CalendarDayCategorySlotScope]>\n    [key: `on${Capitalize<string>}:time`]: EventProp<[Event, CalendarDayBodySlotScope]>\n  },\n  slots: {\n    'category': CalendarDayCategorySlotScope\n    'day': DaySlotScope\n    'day-body': CalendarDayBodySlotScope\n    'day-header': DayHeaderSlotScope\n    'day-label': CalendarTimestamp\n    'day-label-header': CalendarTimestamp\n    'day-month': CalendarTimestamp\n    'event': EventSlotScope\n    'interval': CalendarDayCategorySlotScope\n    'interval-header': never\n  },\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VCalendar',\n\n  directives: { vResize },\n\n  props: {\n    modelValue: {\n      type: [String, Number, Date] as PropType<string | number | Date>,\n      validate: validateTimestamp,\n    },\n    categoryDays: {\n      type: [Number, String],\n      default: 1,\n      validate: (x: any) => isFinite(parseInt(x)) && parseInt(x) > 0,\n    },\n    categories: {\n      type: [Array, String] as PropType<CalendarCategory[] | string>,\n      default: '',\n    },\n    categoryText: {\n      type: [String, Function] as PropType<string | CalendarCategoryTextFunction>,\n    },\n    maxDays: {\n      type: Number,\n      default: 7,\n    },\n    categoryHideDynamic: {\n      type: Boolean,\n    },\n    categoryShowAll: {\n      type: Boolean,\n    },\n    categoryForInvalid: {\n      type: String,\n      default: '',\n    },\n\n    ...makeCalendarBaseProps(),\n    ...makeCalendarWithEventsProps(),\n  },\n\n  setup (props, { slots, attrs, emit }) {\n    const root = ref<VCalendarWeekly | VCalendarDaily | VCalendarCategory>()\n    const base = useCalendarWithEvents(props, slots, attrs)\n\n    const lastStart = ref<CalendarTimestamp | null>(null)\n    const lastEnd = ref<CalendarTimestamp | null>(null)\n\n    const parsedCategoryDays = computed((): number => {\n      return parseInt(String(props.categoryDays)) || 1\n    })\n\n    const parsedCategories = computed((): CalendarCategory[] => {\n      return getParsedCategories(props.categories, props.categoryText)\n    })\n\n    const renderProps = computed((): VCalendarRenderProps => {\n      const around = base.parsedValue.value\n      let component: any = null\n      let maxDays = props.maxDays\n      let categories = parsedCategories.value\n      let start = around\n      let end = around\n\n      switch (props.type) {\n        case 'month':\n          component = VCalendarWeekly\n          start = getStartOfMonth(around)\n          end = getEndOfMonth(around)\n          break\n        case 'week':\n          component = VCalendarDaily\n          start = base.getStartOfWeek(around)\n          end = base.getEndOfWeek(around)\n          maxDays = 7\n          break\n        case 'day':\n          component = VCalendarDaily\n          maxDays = 1\n          break\n        case '4day':\n          component = VCalendarDaily\n          end = relativeDays(copyTimestamp(end), nextDay, 3)\n          updateFormatted(end)\n          maxDays = 4\n          break\n        case 'custom-weekly':\n          component = VCalendarWeekly\n          start = base.parsedStart.value || around\n          end = base.parsedEnd.value\n          break\n        case 'custom-daily':\n          component = VCalendarDaily\n          start = base.parsedStart.value || around\n          end = base.parsedEnd.value\n          break\n        case 'category':\n          const days = parsedCategoryDays.value\n\n          component = VCalendarCategory\n          end = relativeDays(copyTimestamp(end), nextDay, days)\n          updateFormatted(end)\n          maxDays = days\n\n          categories = getCategoryList(categories)\n          break\n        default:\n          const type = props.type satisfies never\n          throw new Error(`${type} is not a valid Calendar type`)\n      }\n\n      return { component, start, end, maxDays, categories }\n    })\n\n    const eventWeekdays = computed((): number[] => {\n      return base.effectiveWeekdays.value\n    })\n\n    const categoryMode = computed((): boolean => {\n      return props.type === 'category'\n    })\n\n    const monthLongFormatter = computed(() => {\n      return base.getFormatter({\n        timeZone: 'UTC', month: 'long',\n      })\n    })\n\n    const monthShortFormatter = computed(() => {\n      return base.getFormatter({\n        timeZone: 'UTC', month: 'short',\n      })\n    })\n\n    const title = computed((): string => {\n      const { start, end } = renderProps.value\n      const spanYears = start.year !== end.year\n      const spanMonths = spanYears || start.month !== end.month\n\n      if (spanYears) {\n        return monthShortFormatter.value(start, true) + ' ' + start.year + ' - ' + monthShortFormatter.value(end, true) + ' ' + end.year\n      }\n\n      if (spanMonths) {\n        return monthShortFormatter.value(start, true) + ' - ' + monthShortFormatter.value(end, true) + ' ' + end.year\n      } else {\n        return monthLongFormatter.value(start, false) + ' ' + start.year\n      }\n    })\n\n    function checkChange (): void {\n      const { start, end } = renderProps.value\n      if (!lastStart.value || !lastEnd.value ||\n        start.date !== lastStart.value.date ||\n        end.date !== lastEnd.value.date) {\n        lastStart.value = start\n        lastEnd.value = end\n        emit('change', { start, end })\n      }\n    }\n\n    function move (amount = 1): void {\n      const moved = copyTimestamp(base.parsedValue.value)\n      const forward = amount > 0\n      const mover = forward ? nextDay : prevDay\n      const limit = forward ? DAYS_IN_MONTH_MAX : DAY_MIN\n      let times = forward ? amount : -amount\n\n      while (--times >= 0) {\n        switch (props.type) {\n          case 'month':\n            moved.day = limit\n            mover(moved)\n            break\n          case 'week':\n            relativeDays(moved, mover, DAYS_IN_WEEK)\n            break\n          case 'day':\n            relativeDays(moved, mover, 1)\n            break\n          case '4day':\n            relativeDays(moved, mover, 4)\n            break\n          case 'category':\n            relativeDays(moved, mover, parsedCategoryDays.value)\n            break\n        }\n      }\n\n      updateWeekday(moved)\n      updateFormatted(moved)\n      updateRelative(moved, base.times.now)\n\n      if (props.modelValue instanceof Date) {\n        emit('update:modelValue', timestampToDate(moved))\n      } else if (typeof props.modelValue === 'number') {\n        emit('update:modelValue', timestampToDate(moved).getTime())\n      } else {\n        emit('update:modelValue', moved.date)\n      }\n\n      emit('moved', moved)\n    }\n\n    function next (amount = 1): void {\n      move(amount)\n    }\n\n    function prev (amount = 1): void {\n      move(-amount)\n    }\n\n    function getCategoryList (categories: CalendarCategory[]): CalendarCategory[] {\n      if (!base.noEvents.value) {\n        const categoryMap: any = categories.reduce((map: any, category, index) => {\n          if (typeof category === 'object' && category.categoryName) map[category.categoryName] = { index, count: 0 }\n          else if (typeof category === 'string') map[category] = { index, count: 0 }\n          return map\n        }, {})\n\n        if (!props.categoryHideDynamic || !props.categoryShowAll) {\n          let categoryLength = categories.length\n\n          base.parsedEvents.value.forEach(ev => {\n            let category = ev.category\n\n            if (typeof category !== 'string') {\n              category = props.categoryForInvalid\n            }\n\n            if (!category) {\n              return\n            }\n\n            if (category in categoryMap) {\n              categoryMap[category].count++\n            } else if (!props.categoryHideDynamic) {\n              categoryMap[category] = {\n                index: categoryLength++,\n                count: 1,\n              }\n            }\n          })\n        }\n\n        if (!props.categoryShowAll) {\n          for (const category in categoryMap) {\n            if (categoryMap[category].count === 0) {\n              delete categoryMap[category]\n            }\n          }\n        }\n\n        categories = categories.filter((category: CalendarCategory) => {\n          if (typeof category === 'object' && category.categoryName) {\n            return categoryMap.hasOwnProperty(category.categoryName)\n          } else if (typeof category === 'string') {\n            return categoryMap.hasOwnProperty(category)\n          }\n          return false\n        })\n      }\n      return categories\n    }\n\n    watch(renderProps, checkChange)\n\n    onMounted(() => {\n      base.updateEventVisibility()\n      checkChange()\n    })\n\n    onUpdated(() => {\n      window.requestAnimationFrame(base.updateEventVisibility)\n    })\n\n    useRender(() => {\n      const { start, end, maxDays, component: Component, categories } = renderProps.value\n      return (\n        <Component\n          ref={ root }\n          class={['v-calendar', { 'v-calendar-events': !base.noEvents.value }]}\n          v-resize_quiet={ base.updateEventVisibility }\n          role=\"grid\"\n          { ...Component.filterProps(props) }\n          start={ start.date }\n          end={ end.date }\n          maxDays={ maxDays }\n          weekdays={ base.effectiveWeekdays.value }\n          categories={ categories }\n          onClick:date={ (e: MouseEvent, day: CalendarTimestamp) => {\n            if (attrs['onUpdate:modelValue']) emit('update:modelValue', day.date)\n          }}\n          v-slots={ base.getScopedSlots() }\n        />\n      )\n    })\n\n    return forwardRefs({\n      ...base,\n      lastStart,\n      lastEnd,\n      parsedCategoryDays,\n      renderProps,\n      eventWeekdays,\n      categoryMode,\n      title,\n      monthLongFormatter,\n      monthShortFormatter,\n      parsedCategories,\n      checkChange,\n      move,\n      next,\n      prev,\n      getCategoryList,\n    }, root)\n  },\n})\n\nexport type VCalendar = InstanceType<typeof VCalendar>\n", "// Styles\nimport './VIconBtn.scss'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VIcon } from '@/components/VIcon'\nimport { VProgressCircular } from '@/components/VProgressCircular'\n\n// Composables\nimport { makeBorderProps, useBorder } from '@/composables/border'\nimport { makeComponentProps } from '@/composables/component'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { makeIconSizeProps, useIconSizes } from '@/composables/iconSizes'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\n\n// Utilities\nimport { toDisplayString } from 'vue'\nimport { convertToUnit, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { IconValue } from '@/composables/icons'\nimport type { Variant } from '@/composables/variant'\n\nexport type VIconBtnSlots = {\n  default: never\n  loader: never\n}\n\nexport type VIconBtnSizes = 'x-small' | 'small' | 'default' | 'large' | 'x-large'\n\nexport const makeVIconBtnProps = propsFactory({\n  active: {\n    type: Boolean,\n    default: undefined,\n  },\n  activeColor: String,\n  activeIcon: [String, Function, Object] as PropType<IconValue>,\n  activeVariant: String as PropType<Variant>,\n  baseVariant: {\n    type: String as PropType<Variant>,\n    default: 'tonal',\n  },\n  disabled: Boolean,\n  height: [Number, String],\n  width: [Number, String],\n  hideOverlay: Boolean,\n  icon: [String, Function, Object] as PropType<IconValue>,\n  iconColor: String,\n  loading: Boolean,\n  opacity: [Number, String],\n  readonly: Boolean,\n  rotate: [Number, String],\n  size: {\n    type: [Number, String] as PropType<VIconBtnSizes | number | string>,\n    default: 'default',\n  },\n  sizes: {\n    type: Array as PropType<[VIconBtnSizes, number][]>,\n    default: () => ([\n      ['x-small', 16],\n      ['small', 24],\n      ['default', 40],\n      ['large', 48],\n      ['x-large', 56],\n    ]),\n  },\n  text: {\n    type: [String, Number, Boolean],\n    default: undefined,\n  },\n\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeElevationProps(),\n  ...makeIconSizeProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps({ tag: 'button' }),\n  ...makeThemeProps(),\n  ...makeVariantProps({ variant: 'flat' } as const),\n}, 'VIconBtn')\n\nexport const VIconBtn = genericComponent<VIconBtnSlots>()({\n  name: 'VIconBtn',\n\n  props: makeVIconBtnProps(),\n\n  emits: {\n    'update:active': (value: boolean) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const isActive = useProxiedModel(props, 'active')\n\n    const { themeClasses } = provideTheme(props)\n    const { borderClasses } = useBorder(props)\n    const { elevationClasses } = useElevation(props)\n    const { roundedClasses } = useRounded(props)\n\n    const { colorClasses, colorStyles, variantClasses } = useVariant(() => ({\n      color: (() => {\n        if (props.disabled) return undefined\n        if (!isActive.value) return props.color\n        // Use an inline fallback as opposed to setting a default color\n        // because non-toggle buttons are default flat whereas toggle\n        // buttons are default tonal and active flat. The exact use\n        // case for this is a toggle button with no active color.\n        return props.activeColor ?? props.color ?? 'surface-variant'\n      })(),\n      variant: (() => {\n        if (isActive.value === undefined) return props.variant\n        if (isActive.value) return props.activeVariant ?? props.variant\n        return props.baseVariant ?? props.variant\n      })(),\n    }))\n\n    const btnSizeMap = new Map(props.sizes)\n\n    function onClick () {\n      if (\n        props.disabled ||\n        props.readonly ||\n        isActive.value === undefined ||\n        (props.tag === 'a' && attrs.href)\n      ) return\n\n      isActive.value = !isActive.value\n    }\n\n    useRender(() => {\n      const icon = isActive.value ? props.activeIcon ?? props.icon : props.icon\n\n      const _btnSize = props.size as VIconBtnSizes\n      const hasNamedSize = btnSizeMap.has(_btnSize)\n      const btnSize = hasNamedSize ? btnSizeMap.get(_btnSize) : _btnSize\n      const btnHeight = props.height ?? btnSize\n      const btnWidth = props.width ?? btnSize\n      const { iconSize } = useIconSizes(props, () => new Map(props.iconSizes).get(_btnSize))\n\n      const iconProps = {\n        icon,\n        size: iconSize.value,\n        color: props.iconColor,\n        opacity: props.opacity,\n      }\n\n      return (\n        <props.tag\n          type={ props.tag === 'button' ? 'button' : undefined }\n          class={[\n            {\n              'v-icon-btn': true,\n              'v-icon-btn--active': isActive.value,\n              'v-icon-btn--disabled': props.disabled,\n              'v-icon-btn--loading': props.loading,\n              'v-icon-btn--readonly': props.readonly,\n              [`v-icon-btn--${props.size}`]: true,\n            },\n            themeClasses.value,\n            colorClasses.value,\n            borderClasses.value,\n            elevationClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n            props.class,\n          ]}\n          style={[\n            {\n              '--v-icon-btn-rotate': convertToUnit(props.rotate, 'deg'),\n              '--v-icon-btn-height': convertToUnit(btnHeight),\n              '--v-icon-btn-width': convertToUnit(btnWidth),\n            },\n            colorStyles.value,\n            props.style,\n          ]}\n          tabindex={ props.disabled || props.readonly ? -1 : 0 }\n          onClick={ onClick }\n        >\n          { genOverlays(!props.hideOverlay, 'v-icon-btn') }\n\n          <div class=\"v-icon-btn__content\" data-no-activator=\"\">\n            { (!slots.default && icon) ? (\n              <VIcon\n                key=\"content-icon\"\n                { ...iconProps }\n              />\n            ) : (\n              <VDefaultsProvider\n                key=\"content-defaults\"\n                disabled={ !icon }\n                defaults={{ VIcon: { ...iconProps } }}\n                v-slots={{\n                  default: () => slots.default?.() ?? toDisplayString(props.text),\n                }}\n              />\n            )}\n          </div>\n\n          { !!props.loading && (\n            <span key=\"loader\" class=\"v-icon-btn__loader\">\n              { slots.loader?.() ?? (\n                <VProgressCircular\n                  color={ typeof props.loading === 'boolean' ? undefined : props.loading }\n                  indeterminate=\"disable-shrink\"\n                  width=\"2\"\n                  size={ iconSize.value }\n                />\n              )}\n            </span>\n          )}\n        </props.tag>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VIconBtn = InstanceType<typeof VIconBtn>\n", "function createUTCDate (year: number, month = 0, day = 1) {\n  let date\n  if (year < 100 && year >= 0) {\n    date = new Date(Date.UTC(year, month, day))\n    if (isFinite(date.getUTCFullYear())) {\n      date.setUTCFullYear(year)\n    }\n  } else {\n    date = new Date(Date.UTC(year, month, day))\n  }\n\n  return date\n}\n\nfunction firstWeekOffset (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const firstWeekDayInFirstWeek = 7 + firstDayOfWeek - firstDayOfYear\n  const firstWeekDayOfYear = (7 + createUTCDate(year, 0, firstWeekDayInFirstWeek).getUTCDay() - firstDayOfWeek) % 7\n\n  return -firstWeekDayOfYear + firstWeekDayInFirstWeek - 1\n}\n\nfunction dayOfYear (year: number, month: number, day: number, firstDayOfWeek: number) {\n  let dayOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334][month]\n  if (month > 1 && isLeapYear(year)) {\n    dayOfYear++\n  }\n\n  return dayOfYear + day\n}\n\nfunction weeksInYear (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, firstDayOfYear)\n  const weekOffsetNext = firstWeekOffset(year + 1, firstDayOfWeek, firstDayOfYear)\n  const daysInYear = isLeapYear(year) ? 366 : 365\n\n  return (daysInYear - weekOffset + weekOffsetNext) / 7\n}\n\nexport function weekNumber (year: number, month: number, day: number, firstDayOfWeek: number, localeFirstDayOfYear: number): number {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, localeFirstDayOfYear)\n  const week = Math.ceil((dayOfYear(year, month, day, firstDayOfWeek) - weekOffset) / 7)\n\n  if (week < 1) {\n    return week + weeksInYear(year - 1, firstDayOfWeek, localeFirstDayOfYear)\n  } else if (week > weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)) {\n    return week - weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)\n  } else {\n    return week\n  }\n}\n\nexport function isLeapYear (year: number): boolean {\n  return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)\n}\n", "import { isLeapYear } from './dateTimeUtils'\n\n// Types\nimport type { CalendarFormatter, CalendarTimestamp } from '../types'\n\nexport const PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/\nexport const PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/\n\nexport const DAYS_IN_MONTH: number[] = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_LEAP: number[] = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_MIN = 28\nexport const DAYS_IN_MONTH_MAX = 31\nexport const MONTH_MAX = 12\nexport const MONTH_MIN = 1\nexport const DAY_MIN = 1\nexport const DAYS_IN_WEEK = 7\nexport const MINUTES_IN_HOUR = 60\nexport const MINUTE_MAX = 59\nexport const MINUTES_IN_DAY = 24 * 60\nexport const HOURS_IN_DAY = 24\nexport const HOUR_MAX = 23\nexport const FIRST_HOUR = 0\nexport const OFFSET_YEAR = 10000\nexport const OFFSET_MONTH = 100\nexport const OFFSET_HOUR = 100\nexport const OFFSET_TIME = 10000\n\ntype CalendarTimestampFormatOptions = (timestamp: CalendarTimestamp, short: boolean) => Intl.DateTimeFormatOptions\ntype CalendarTimestampOperation = (timestamp: CalendarTimestamp) => CalendarTimestamp\nexport type VTime = number | string | {\n  hour: number\n  minute: number\n}\n\nexport type VTimestampInput = number | string | Date;\n\nexport function getStartOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  findWeekday(start, weekdays[0], prevDay)\n  updateFormatted(start)\n  if (today) {\n    updateRelative(start, today, start.hasTime)\n  }\n\n  return start\n}\n\nexport function getEndOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  findWeekday(end, weekdays[weekdays.length - 1])\n  updateFormatted(end)\n  if (today) {\n    updateRelative(end, today, end.hasTime)\n  }\n\n  return end\n}\n\nexport function getStartOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  start.day = DAY_MIN\n  updateWeekday(start)\n  updateFormatted(start)\n\n  return start\n}\n\nexport function getEndOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  end.day = daysInMonth(end.year, end.month)\n  updateWeekday(end)\n  updateFormatted(end)\n\n  return end\n}\n\nexport function validateNumber (input: any): boolean {\n  return isFinite(parseInt(input))\n}\n\nexport function validateTime (input: any): input is VTime {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (!!PARSE_TIME.exec(input)) ||\n    (typeof input === 'object' && isFinite(input.hour) && isFinite(input.minute))\n}\n\nexport function parseTime (input: any): number | false {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input)\n    if (!parts) {\n      return false\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0)\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false\n    }\n\n    return input.hour * 60 + input.minute\n  } else {\n    // unsupported type\n    return false\n  }\n}\n\nexport function validateTimestamp (input: any): input is VTimestampInput {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (typeof input === 'string' && !!PARSE_REGEX.exec(input)) ||\n    (input instanceof Date)\n}\n\nexport function parseTimestamp (input: VTimestampInput | null, required?: false, now?: CalendarTimestamp | null): CalendarTimestamp | null\nexport function parseTimestamp (input: VTimestampInput, required: true, now?: CalendarTimestamp): CalendarTimestamp\nexport function parseTimestamp (input: VTimestampInput | null, required = false, now?: CalendarTimestamp | null): CalendarTimestamp | null {\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input)\n  }\n\n  if (input instanceof Date) {\n    const date: CalendarTimestamp = parseDate(input)\n\n    if (now) {\n      updateRelative(date, now, date.hasTime)\n    }\n\n    return date\n  }\n\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n    return null\n  }\n\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input)\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n\n    return null\n  }\n\n  const timestamp: CalendarTimestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false,\n  }\n\n  updateWeekday(timestamp)\n  updateFormatted(timestamp)\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime)\n  }\n\n  return timestamp\n}\n\nexport function parseDate (date: Date): CalendarTimestamp {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false,\n  })\n}\n\nexport function getDayIdentifier (timestamp: { year: number, month: number, day: number }): number {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day\n}\n\nexport function getTimeIdentifier (timestamp: { hour: number, minute: number }): number {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute\n}\n\nexport function getTimestampIdentifier (timestamp: CalendarTimestamp): number {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp)\n}\n\nexport function updateRelative (timestamp: CalendarTimestamp, now: CalendarTimestamp, time = false): CalendarTimestamp {\n  let a = getDayIdentifier(now)\n  let b = getDayIdentifier(timestamp)\n  let present = a === b\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now)\n    b = getTimeIdentifier(timestamp)\n    present = a === b\n  }\n\n  timestamp.past = b < a\n  timestamp.present = present\n  timestamp.future = b > a\n\n  return timestamp\n}\n\nexport function isTimedless (input: VTimestampInput): input is (Date | number) {\n  return (input instanceof Date) || (typeof input === 'number' && isFinite(input))\n}\n\nexport function updateHasTime (timestamp: CalendarTimestamp, hasTime: boolean, now?: CalendarTimestamp): CalendarTimestamp {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX\n      timestamp.minute = MINUTE_MAX\n      timestamp.time = getTime(timestamp)\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime)\n    }\n  }\n\n  return timestamp\n}\n\nexport function updateMinutes (timestamp: CalendarTimestamp, minutes: number, now?: CalendarTimestamp): CalendarTimestamp {\n  timestamp.hasTime = true\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR)\n  timestamp.minute = minutes % MINUTES_IN_HOUR\n  timestamp.time = getTime(timestamp)\n  if (now) {\n    updateRelative(timestamp, now, true)\n  }\n\n  return timestamp\n}\n\nexport function updateWeekday (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.weekday = getWeekday(timestamp)\n\n  return timestamp\n}\n\nexport function updateFormatted (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.time = getTime(timestamp)\n  timestamp.date = getDate(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekday (timestamp: CalendarTimestamp): number {\n  if (timestamp.hasDay) {\n    const _ = Math.floor\n    const k = timestamp.day\n    const m = ((timestamp.month + 9) % MONTH_MAX) + 1\n    const C = _(timestamp.year / 100)\n    const Y = (timestamp.year % 100) - (timestamp.month <= 2 ? 1 : 0)\n\n    return (((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7) + 7) % 7\n  }\n\n  return timestamp.weekday\n}\n\nexport function daysInMonth (year: number, month: number) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month]\n}\n\nexport function copyTimestamp (timestamp: null): null\nexport function copyTimestamp (timestamp: CalendarTimestamp): CalendarTimestamp\nexport function copyTimestamp (timestamp: CalendarTimestamp | null): CalendarTimestamp | null {\n  if (timestamp == null) return null\n\n  const { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future } = timestamp\n\n  return { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future }\n}\n\nexport function padNumber (x: number, length: number): string {\n  let padded = String(x)\n  while (padded.length < length) {\n    padded = '0' + padded\n  }\n\n  return padded\n}\n\nexport function getDate (timestamp: CalendarTimestamp): string {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`\n\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`\n\n  return str\n}\n\nexport function getTime (timestamp: CalendarTimestamp): string {\n  if (!timestamp.hasTime) {\n    return ''\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n}\n\nexport function nextMinutes (timestamp: CalendarTimestamp, minutes: number): CalendarTimestamp {\n  timestamp.minute += minutes\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR\n    timestamp.hour++\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp)\n      timestamp.hour = FIRST_HOUR\n    }\n  }\n\n  return timestamp\n}\n\nexport function nextDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day++\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN\n    timestamp.month++\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN\n      timestamp.year++\n    }\n  }\n\n  return timestamp\n}\n\nexport function prevDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day--\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--\n      timestamp.month = MONTH_MAX\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month)\n  }\n\n  return timestamp\n}\n\nexport function relativeDays (\n  timestamp: CalendarTimestamp,\n  mover: CalendarTimestampOperation = nextDay,\n  days = 1\n): CalendarTimestamp {\n  while (--days >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function diffMinutes (min: CalendarTimestamp, max: CalendarTimestamp) {\n  const Y = (max.year - min.year) * 525600\n  const M = (max.month - min.month) * 43800\n  const D = (max.day - min.day) * 1440\n  const h = (max.hour - min.hour) * 60\n  const m = (max.minute - min.minute)\n\n  return Y + M + D + h + m\n}\n\nexport function findWeekday (timestamp: CalendarTimestamp, weekday: number,\n  mover: CalendarTimestampOperation = nextDay, maxDays = 6): CalendarTimestamp {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekdaySkips (weekdays: number[]): number[] {\n  const skips: number[] = [1, 1, 1, 1, 1, 1, 1]\n  const filled: number[] = [0, 0, 0, 0, 0, 0, 0]\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1\n  }\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK\n      if (filled[next]) {\n        break\n      }\n      skip++\n    }\n    skips[k] = filled[k] * skip\n  }\n\n  return skips\n}\n\nexport function timestampToDate (timestamp: CalendarTimestamp): Date {\n  const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n  const date = timestamp.date\n\n  return new Date(`${date}T${time}:00+00:00`)\n}\n\nexport function createDayList (\n  start: CalendarTimestamp,\n  end: CalendarTimestamp,\n  now: CalendarTimestamp,\n  weekdaySkips: number[],\n  max = 42,\n  min = 0\n): CalendarTimestamp[] {\n  const stop = getDayIdentifier(end)\n  const days: CalendarTimestamp[] = []\n  let current = copyTimestamp(start)\n  let currentIdentifier = 0\n  let stopped = currentIdentifier === stop\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.')\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current)\n    stopped = stopped || currentIdentifier === stop\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current)\n      continue\n    }\n    const day = copyTimestamp(current)\n    updateFormatted(day)\n    updateRelative(day, now)\n    days.push(day)\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday])\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.')\n\n  return days\n}\n\nexport function createIntervalList (timestamp: CalendarTimestamp, first: number,\n  minutes: number, count: number, now?: CalendarTimestamp): CalendarTimestamp[] {\n  const intervals: CalendarTimestamp[] = []\n\n  for (let i = 0; i < count; i++) {\n    const mins = first + (i * minutes)\n    const int = copyTimestamp(timestamp)\n    intervals.push(updateMinutes(int, mins, now))\n  }\n\n  return intervals\n}\n\nexport function createNativeLocaleFormatter (locale: string, getOptions: CalendarTimestampFormatOptions): CalendarFormatter {\n  const emptyFormatter: CalendarFormatter = (_t, _s) => ''\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short))\n\n      return intlFormatter.format(timestampToDate(timestamp))\n    } catch (e) {\n      return ''\n    }\n  }\n}\n\nexport function validateWeekdays (input: string | (number | string)[]): boolean {\n  if (typeof input === 'string') {\n    input = input.split(',')\n  }\n\n  if (Array.isArray(input)) {\n    const ints = input.map(x => parseInt(x))\n\n    if (ints.length > DAYS_IN_WEEK || ints.length === 0) {\n      return false\n    }\n\n    const visited: Record<number, boolean> = {}\n    let wrapped = false\n\n    for (let i = 0; i < ints.length; i++) {\n      const x = ints[i]\n\n      if (!isFinite(x) || x < 0 || x >= DAYS_IN_WEEK) {\n        return false\n      }\n\n      if (i > 0) {\n        const d = x - ints[i - 1]\n        if (d < 0) {\n          if (wrapped) {\n            return false\n          }\n          wrapped = true\n        } else if (d === 0) {\n          return false\n        }\n      }\n\n      if (visited[x]) {\n        return false\n      }\n      visited[x] = true\n    }\n\n    return true\n  }\n\n  return false\n}\n", "// Utilities\nimport { computed, reactive, watch } from 'vue'\nimport {\n  parseDate,\n  parseTimestamp,\n  validateTimestamp,\n} from '../util/timestamp'\n\n// Types\nimport type { CalendarTimestamp } from '../types'\n\nexport function useTimes (props: { now: string | undefined }) {\n  const times = reactive({\n    now: parseTimestamp('0000-00-00 00:00', true),\n    today: parseTimestamp('0000-00-00', true),\n  })\n\n  const parsedNow = computed((): CalendarTimestamp | null => {\n    return props.now && validateTimestamp(props.now) ? parseTimestamp(props.now, true) : null\n  })\n\n  function setPresent (): void {\n    times.now.present = times.today.present = true\n    times.now.past = times.today.past = false\n    times.now.future = times.today.future = false\n  }\n\n  function getNow (): CalendarTimestamp {\n    return parseDate(new Date())\n  }\n\n  function updateDay (now: CalendarTimestamp, target: CalendarTimestamp): void {\n    if (now.date !== target.date) {\n      target.year = now.year\n      target.month = now.month\n      target.day = now.day\n      target.weekday = now.weekday\n      target.date = now.date\n    }\n  }\n\n  function updateTime (now: CalendarTimestamp, target: CalendarTimestamp): void {\n    if (now.time !== target.time) {\n      target.hour = now.hour\n      target.minute = now.minute\n      target.time = now.time\n    }\n  }\n\n  function updateTimes (): void {\n    const now: CalendarTimestamp = parsedNow.value || getNow()\n    updateDay(now, times.now)\n    updateTime(now, times.now)\n    updateDay(now, times.today)\n  }\n\n  watch(parsedNow, updateTimes)\n\n  updateTimes()\n  setPresent()\n\n  return {\n    times,\n    parsedNow,\n    updateTimes,\n    setPresent,\n    getNow,\n    updateDay,\n    updateTime,\n  }\n}\n", "// Composables\nimport { useTimes } from './times'\nimport { computeColor } from '@/composables/color'\nimport { provideLocale } from '@/composables/locale'\n\n// Utilities\nimport { computed } from 'vue'\nimport {\n  createDayList,\n  createNativeLocaleFormatter, getEndOfMonth,\n  getEndOfWeek, getStartOfMonth,\n  getStartOfWeek,\n  getTimestampIdentifier,\n  getWeekdaySkips,\n  parseDate,\n  parseTimestamp,\n  validateTimestamp,\n  validateWeekdays,\n} from '../util/timestamp'\nimport { propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { CalendarFormatter, CalendarTimestamp } from '../types'\nimport type { ColorValue } from '@/composables/color'\n\nexport const makeCalendarBaseProps = propsFactory({\n  start: {\n    type: [String, Number, Date],\n    validate: validateTimestamp,\n    default: () => parseDate(new Date()).date,\n  },\n  end: {\n    type: [String, Number, Date],\n    validate: validateTimestamp,\n  },\n  weekdays: {\n    type: [Array, String] as PropType<number[] | string>,\n    default: () => [0, 1, 2, 3, 4, 5, 6],\n    validate: validateWeekdays,\n  },\n  weekdayFormat: {\n    type: Function as PropType<CalendarFormatter>,\n    default: null,\n  },\n  dayFormat: {\n    type: Function as PropType<CalendarFormatter>,\n    default: null,\n  },\n  locale: String,\n  now: {\n    type: String,\n    validator: validateTimestamp,\n  },\n  type: {\n    type: String as PropType<'month' | 'week' | 'day' | '4day' | 'custom-weekly' | 'custom-daily' | 'category'>,\n    default: 'month',\n  },\n}, 'VCalendar-base')\n\nexport interface CalendarBaseProps {\n  modelValue?: string | number | Date\n  categoryDays?: string | number\n  start: string | number | Date\n  end: string | number | Date | undefined\n  weekdays: string | number[]\n  weekdayFormat: CalendarFormatter | string | undefined\n  dayFormat: CalendarFormatter | string | undefined\n  locale: string | undefined\n  now: string | undefined\n  type: 'month' | 'week' | 'day' | '4day' | 'custom-weekly' | 'custom-daily' | 'category'\n}\n\nexport function useCalendarBase (props: CalendarBaseProps) {\n  const { times } = useTimes({ now: props.now })\n  const locale = provideLocale(props)\n\n  const parsedStart = computed((): CalendarTimestamp => {\n    if (props.type === 'month') {\n      return getStartOfMonth(parseTimestamp(props.start, true))\n    }\n    return parseTimestamp(props.start, true)\n  })\n\n  const parsedEnd = computed((): CalendarTimestamp => {\n    const start = parsedStart.value\n    const end: CalendarTimestamp = props.end ? parseTimestamp(props.end) || start : start\n    const value = getTimestampIdentifier(end) < getTimestampIdentifier(start) ? start : end\n\n    if (props.type === 'month') {\n      return getEndOfMonth(value)\n    }\n    return value\n  })\n\n  const parsedValue = computed((): CalendarTimestamp => {\n    return (validateTimestamp(props.modelValue)\n      ? parseTimestamp(props.modelValue, true)\n      : (parsedStart.value || times.today))\n  })\n\n  const parsedWeekdays = computed((): number[] => {\n    return Array.isArray(props.weekdays)\n      ? props.weekdays\n      : (props.weekdays || '').split(',').map(x => parseInt(x, 10))\n  })\n\n  const effectiveWeekdays = computed((): number[] => {\n    const start = parsedValue.value\n    const days = parseInt(String(props.categoryDays)) || 1\n\n    switch (props.type) {\n      case 'day': return [start.weekday]\n      case '4day': return [\n        start.weekday,\n        (start.weekday + 1) % 7,\n        (start.weekday + 2) % 7,\n        (start.weekday + 3) % 7,\n      ]\n      case 'category': return Array.from({ length: days }, (_, i) => (start.weekday + i) % 7)\n      default: return parsedWeekdays.value\n    }\n  })\n\n  const weekdaySkips = computed((): number[] => {\n    return getWeekdaySkips(parsedWeekdays.value)\n  })\n\n  const days = computed((): CalendarTimestamp[] => {\n    return createDayList(\n      parsedStart.value,\n      parsedEnd.value,\n      times.today,\n      weekdaySkips.value,\n    )\n  })\n\n  const dayFormatter = computed((): CalendarFormatter => {\n    if (props.dayFormat) {\n      return props.dayFormat as CalendarFormatter\n    }\n\n    return createNativeLocaleFormatter(\n      locale.current.value,\n      () => ({ timeZone: 'UTC', day: 'numeric' })\n    )\n  })\n\n  const weekdayFormatter = computed((): CalendarFormatter => {\n    if (props.weekdayFormat) {\n      return props.weekdayFormat as CalendarFormatter\n    }\n\n    return createNativeLocaleFormatter(\n      locale.current.value,\n      (_tms, short) => ({ timeZone: 'UTC', weekday: short ? 'short' : 'long' })\n    )\n  })\n\n  function getColorProps (colors: { background?: ColorValue, text?: ColorValue }) {\n    return computeColor(colors)\n  }\n\n  function getRelativeClasses (timestamp: CalendarTimestamp, outside = false) {\n    return {\n      'v-present': timestamp.present,\n      'v-past': timestamp.past,\n      'v-future': timestamp.future,\n      'v-outside': outside,\n    }\n  }\n\n  function _getStartOfWeek (timestamp: CalendarTimestamp): CalendarTimestamp {\n    return getStartOfWeek(timestamp, parsedWeekdays.value, times.today)\n  }\n\n  function _getEndOfWeek (timestamp: CalendarTimestamp): CalendarTimestamp {\n    return getEndOfWeek(timestamp, parsedWeekdays.value, times.today)\n  }\n\n  function getFormatter (options: Intl.DateTimeFormatOptions): CalendarFormatter {\n    return createNativeLocaleFormatter(locale.current.value, () => options)\n  }\n\n  return {\n    times,\n    locale,\n    parsedValue,\n    parsedWeekdays,\n    effectiveWeekdays,\n    weekdaySkips,\n    parsedStart,\n    parsedEnd,\n    days,\n    dayFormatter,\n    weekdayFormatter,\n    getColorProps,\n    getRelativeClasses,\n    getStartOfWeek: _getStartOfWeek,\n    getEndOfWeek: _getEndOfWeek,\n    getFormatter,\n  }\n}\n", "// Composables\nimport { useCalendarBase } from './calendarBase'\n\n// Utilities\nimport { computed, shallowRef } from 'vue'\nimport {\n  copyTimestamp,\n  createDayList,\n  createIntervalList,\n  createNativeLocaleFormatter,\n  MINUTES_IN_DAY,\n  parseTime,\n  updateMinutes,\n  validateNumber,\n  validateTime,\n} from '../util/timestamp'\nimport { propsFactory } from '@/util'\n\n// Types\nimport type { PropType, StyleValue } from 'vue'\nimport type { CalendarBaseProps } from './calendarBase'\nimport type { CalendarDayBodySlotScope, CalendarFormatter, CalendarTimestamp } from '../types'\nimport type { VTime } from '../util/timestamp'\n\nexport const makeCalendarWithIntervalsProps = propsFactory({\n  maxDays: {\n    type: Number,\n    default: 7,\n  },\n  intervalHeight: {\n    type: [Number, String],\n    default: 48,\n    validate: validateNumber,\n  },\n  intervalWidth: {\n    type: [Number, String],\n    default: 60,\n    validate: validateNumber,\n  },\n  intervalMinutes: {\n    type: [Number, String],\n    default: 60,\n    validate: validateNumber,\n  },\n  firstInterval: {\n    type: [Number, String],\n    default: 0,\n    validate: validateNumber,\n  },\n  firstTime: {\n    type: [Number, String, Object] as PropType<VTime>,\n    validate: validateTime,\n  },\n  intervalCount: {\n    type: [Number, String],\n    default: 24,\n    validate: validateNumber,\n  },\n  intervalFormat: {\n    type: Function as PropType<CalendarFormatter>,\n    default: null,\n  },\n  intervalStyle: {\n    type: Function as PropType<(interval: CalendarTimestamp) => StyleValue>,\n    default: null,\n  },\n  showIntervalLabel: {\n    type: Function as PropType<(interval: CalendarTimestamp) => boolean>,\n    default: null,\n  },\n}, 'VCalendar-intervals')\n\ninterface CalendarWithIntervalsProps extends CalendarBaseProps {\n  maxDays: number\n  intervalHeight: string | number\n  intervalMinutes: string | number\n  firstInterval: string | number\n  firstTime: VTime | undefined\n  intervalCount: string | number\n  intervalFormat: CalendarFormatter | string | undefined\n}\n\nexport function useCalendarWithIntervals (props: CalendarWithIntervalsProps) {\n  const base = useCalendarBase(props)\n\n  const scrollAreaRef = shallowRef<HTMLElement>()\n\n  const parsedFirstInterval = computed((): number => {\n    return parseInt(String(props.firstInterval || 0))\n  })\n\n  const parsedIntervalMinutes = computed((): number => {\n    return parseInt(String(props.intervalMinutes || 60))\n  })\n\n  const parsedIntervalCount = computed((): number => {\n    return parseInt(String(props.intervalCount || 24))\n  })\n\n  const parsedIntervalHeight = computed((): number => {\n    return parseFloat(String(props.intervalHeight || 48))\n  })\n\n  const parsedFirstTime = computed((): number | false => {\n    return parseTime(props.firstTime)\n  })\n\n  const firstMinute = computed((): number => {\n    const time = parsedFirstTime.value\n\n    return time !== false && time >= 0 && time <= MINUTES_IN_DAY\n      ? time\n      : parsedFirstInterval.value * parsedIntervalMinutes.value\n  })\n\n  const bodyHeight = computed((): number => {\n    return parsedIntervalCount.value * parsedIntervalHeight.value\n  })\n\n  const days = computed((): CalendarTimestamp[] => {\n    return createDayList(\n      base.parsedStart.value,\n      base.parsedEnd.value,\n      base.times.today,\n      base.weekdaySkips.value,\n      props.maxDays\n    )\n  })\n\n  const intervals = computed((): CalendarTimestamp[][] => {\n    const daysValue = days.value\n    const first: number = firstMinute.value\n    const minutes: number = parsedIntervalMinutes.value\n    const count: number = parsedIntervalCount.value\n    const now: CalendarTimestamp = base.times.now\n\n    return daysValue.map(d => createIntervalList(d, first, minutes, count, now))\n  })\n\n  const intervalFormatter = computed((): CalendarFormatter => {\n    if (props.intervalFormat) {\n      return props.intervalFormat as CalendarFormatter\n    }\n\n    return createNativeLocaleFormatter(\n      base.locale.current.value,\n      (tms, short) => (\n        !short ? { timeZone: 'UTC', hour: '2-digit', minute: '2-digit' }\n        : tms.minute === 0 ? { timeZone: 'UTC', hour: 'numeric' }\n        : { timeZone: 'UTC', hour: 'numeric', minute: '2-digit' }\n      )\n    )\n  })\n\n  function showIntervalLabelDefault (interval: CalendarTimestamp): boolean {\n    const first: CalendarTimestamp = intervals.value[0][0]\n    const isFirst: boolean = first.hour === interval.hour && first.minute === interval.minute\n    return !isFirst\n  }\n\n  function intervalStyleDefault (_interval: CalendarTimestamp): StyleValue {\n    return undefined\n  }\n\n  function getTimestampAtEvent (e: Event, day: CalendarTimestamp): CalendarTimestamp {\n    const timestamp: CalendarTimestamp = copyTimestamp(day)\n    const bounds = (e.currentTarget as HTMLElement).getBoundingClientRect()\n    const baseMinutes: number = firstMinute.value\n    const touchEvent: TouchEvent = e as TouchEvent\n    const mouseEvent: MouseEvent = e as MouseEvent\n    const touches: TouchList = touchEvent.changedTouches || touchEvent.touches\n    const clientY: number = touches && touches[0] ? touches[0].clientY : mouseEvent.clientY\n    const addIntervals: number = (clientY - bounds.top) / parsedIntervalHeight.value\n    const addMinutes: number = Math.floor(addIntervals * parsedIntervalMinutes.value)\n    const minutes: number = baseMinutes + addMinutes\n\n    return updateMinutes(timestamp, minutes, base.times.now)\n  }\n\n  function getSlotScope (timestamp: CalendarTimestamp): CalendarDayBodySlotScope {\n    const scope = copyTimestamp(timestamp) as any\n    scope.timeToY = timeToY\n    scope.timeDelta = timeDelta\n    scope.minutesToPixels = minutesToPixels\n    scope.week = days.value\n    return scope\n  }\n\n  function scrollToTime (time: VTime): boolean {\n    const y = timeToY(time)\n\n    const pane = scrollAreaRef.value\n\n    if (y === false || !pane) {\n      return false\n    }\n\n    pane.scrollTop = y\n\n    return true\n  }\n\n  function minutesToPixels (minutes: number): number {\n    return minutes / parsedIntervalMinutes.value * parsedIntervalHeight.value\n  }\n\n  function timeToY (time: VTime, clamp = true): number | false {\n    let y = timeDelta(time)\n\n    if (y !== false) {\n      y *= bodyHeight.value\n\n      if (clamp) {\n        if (y < 0) {\n          y = 0\n        }\n        if (y > bodyHeight.value) {\n          y = bodyHeight.value\n        }\n      }\n    }\n\n    return y\n  }\n\n  function timeDelta (time: VTime): number | false {\n    const minutes = parseTime(time)\n\n    if (minutes === false) {\n      return false\n    }\n\n    const min: number = firstMinute.value\n    const gap: number = parsedIntervalCount.value * parsedIntervalMinutes.value\n\n    return (minutes - min) / gap\n  }\n\n  return {\n    ...base,\n    scrollAreaRef,\n    parsedFirstInterval,\n    parsedIntervalMinutes,\n    parsedIntervalCount,\n    parsedIntervalHeight,\n    parsedFirstTime,\n    firstMinute,\n    bodyHeight,\n    days,\n    intervals,\n    intervalFormatter,\n    showIntervalLabelDefault,\n    intervalStyleDefault,\n    getTimestampAtEvent,\n    getSlotScope,\n    scrollToTime,\n    minutesToPixels,\n    timeToY,\n    timeDelta,\n  }\n}\n", "// Components\nimport { VIconBtn } from '@/labs/VIconBtn'\n\n// Composables\nimport { makeCalendarBaseProps } from './composables/calendarBase'\nimport { makeCalendarWithIntervalsProps, useCalendarWithIntervals } from './composables/calendarWithIntervals'\n\n// Directives\nimport vResize from '@/directives/resize'\n\n// Utilities\nimport { nextTick, onMounted, ref } from 'vue'\nimport { convertToUnit, defineComponent, getPrefixedEventHandlers, useRender } from '@/util'\n\n// Types\nimport type { CalendarTimestamp } from './types'\n\nexport const VCalendarDaily = defineComponent({\n  name: 'VCalendarDaily',\n\n  directives: { vResize },\n\n  props: {\n    color: String,\n    shortWeekdays: {\n      type: Boolean,\n      default: true,\n    },\n    shortIntervals: {\n      type: Boolean,\n      default: true,\n    },\n    hideHeader: Boolean,\n\n    ...makeCalendarBaseProps(),\n    ...makeCalendarWithIntervalsProps(),\n  },\n\n  setup (props, { slots, attrs }) {\n    const scrollPush = ref(0)\n    const scrollArea = ref<HTMLElement>()\n    const pane = ref<HTMLElement>()\n\n    const base = useCalendarWithIntervals(props)\n\n    function init () {\n      nextTick(onResize)\n    }\n\n    function onResize () {\n      scrollPush.value = getScrollPush()\n    }\n\n    function getScrollPush (): number {\n      return scrollArea.value && pane.value\n        ? (scrollArea.value.offsetWidth - pane.value.offsetWidth)\n        : 0\n    }\n\n    function genHead () {\n      return (\n        <div\n          class=\"v-calendar-daily__head\"\n          style={{ marginRight: scrollPush.value + 'px' }}\n        >\n          { genHeadIntervals() }\n          { genHeadDays() }\n        </div>\n      )\n    }\n\n    function genHeadIntervals () {\n      const width: string | undefined = convertToUnit(props.intervalWidth)\n      return (\n        <div\n          class=\"v-calendar-daily__intervals-head\"\n          style={{ width }}\n        >\n          { slots['interval-header']?.() }\n        </div>\n      )\n    }\n\n    function genHeadDays () {\n      return base.days.value.map(genHeadDay)\n    }\n\n    function genHeadDay (day: CalendarTimestamp, index: number) {\n      const events = getPrefixedEventHandlers(attrs, ':day', nativeEvent => ({\n        nativeEvent, ...base.getSlotScope(day),\n      }))\n      return (\n        <div\n          key={ day.date }\n          class={['v-calendar-daily_head-day', base.getRelativeClasses(day)]}\n          { ...events }\n        >\n          { genHeadWeekday(day) }\n          { genHeadDayLabel(day) }\n          { genDayHeader(day, index) }\n        </div>\n      )\n    }\n\n    function genDayHeader (day: CalendarTimestamp, index: number) {\n      return slots['day-header']?.({\n        week: base.days.value,\n        ...day,\n        index,\n      }) ?? []\n    }\n\n    function genHeadWeekday (day: CalendarTimestamp) {\n      const color = day.present ? props.color : undefined\n      return (\n        <div\n          { ...base.getColorProps({ text: color }) }\n          class=\"v-calendar-daily_head-weekday\"\n        >\n          { base.weekdayFormatter.value(day, props.shortWeekdays) }\n        </div>\n      )\n    }\n\n    function genHeadDayLabel (day: CalendarTimestamp) {\n      return (\n        <div class=\"v-calendar-daily_head-day-label\">\n          { slots['day-label-header']?.(day) ?? genHeadDayButton(day) }\n        </div>\n      )\n    }\n\n    function genHeadDayButton (day: CalendarTimestamp) {\n      const events = getPrefixedEventHandlers(attrs, ':date', nativeEvent => ({\n        nativeEvent, ...day,\n      }))\n      return (\n        <VIconBtn\n          active={ day.present }\n          activeColor={ props.color }\n          variant={ props.color ? 'flat' : 'tonal' }\n          baseVariant=\"text\"\n          { ...events }\n        >\n          { base.dayFormatter.value(day, false) }\n        </VIconBtn>\n      )\n    }\n\n    function genBody () {\n      return (\n        <div class=\"v-calendar-daily__body\">\n          { genScrollArea() }\n        </div>\n      )\n    }\n\n    function genScrollArea () {\n      return (\n        <div ref={ scrollArea } class=\"v-calendar-daily__scroll-area\">\n          { genPane() }\n        </div>\n      )\n    }\n\n    function genPane () {\n      return (\n        <div\n          ref={ pane }\n          class=\"v-calendar-daily__pane\"\n          style={{ height: convertToUnit(base.bodyHeight.value) }}\n        >\n          { genDayContainer() }\n        </div>\n      )\n    }\n\n    function genDayContainer () {\n      return (\n        <div class=\"v-calendar-daily__day-container\">\n          { genBodyIntervals() }\n          { slots.days?.() ?? genDays() }\n        </div>\n      )\n    }\n\n    function genDays () {\n      return base.days.value.map((day, index) => {\n        const events = getPrefixedEventHandlers(attrs, ':time', nativeEvent => ({\n          nativeEvent,\n          ...base.getSlotScope(base.getTimestampAtEvent(nativeEvent, day)),\n        }))\n        return (\n          <div\n            key={ day.date }\n            class={['v-calendar-daily__day', base.getRelativeClasses(day)]}\n            { ...events }\n          >\n            { genDayIntervals(index) }\n            { genDayBody(day) }\n          </div>\n        )\n      })\n    }\n\n    function genDayBody (day: CalendarTimestamp) {\n      return slots['day-body']?.(base.getSlotScope(day)) ?? []\n    }\n\n    function genDayIntervals (index: number) {\n      return base.intervals.value[index].map(genDayInterval)\n    }\n\n    function genDayInterval (interval: CalendarTimestamp) {\n      const height: string | undefined = convertToUnit(props.intervalHeight)\n      const styler = props.intervalStyle || base.intervalStyleDefault\n      return (\n        <div\n          class=\"v-calendar-daily__day-interval\"\n          key={ interval.time }\n          style={[{ height }, styler(interval)]}\n        >\n          { slots.interval?.(base.getSlotScope(interval)) }\n        </div>\n      )\n    }\n\n    function genBodyIntervals () {\n      const width: string | undefined = convertToUnit(props.intervalWidth)\n      const events = getPrefixedEventHandlers(attrs, ':interval', nativeEvent => ({\n        nativeEvent, ...base.getTimestampAtEvent(nativeEvent, base.parsedStart.value),\n      }))\n      return (\n        <div\n          class=\"v-calendar-daily__intervals-body\"\n          style={{ width }}\n          { ...events }\n        >\n          { genIntervalLabels() }\n        </div>\n      )\n    }\n\n    function genIntervalLabels () {\n      if (!base.intervals.value.length) return null\n      return base.intervals.value[0].map(genIntervalLabel)\n    }\n\n    function genIntervalLabel (interval: CalendarTimestamp) {\n      const height: string | undefined = convertToUnit(props.intervalHeight)\n      const short = props.shortIntervals\n      const shower = props.showIntervalLabel || base.showIntervalLabelDefault\n      const show = shower(interval)\n      const label = show ? base.intervalFormatter.value(interval, short) : undefined\n      return (\n        <div\n          key={ interval.time }\n          class=\"v-calendar-daily__interval\"\n          style={{ height }}\n        >\n          <div class=\"v-calendar-daily__interval-text\">\n            { label }\n          </div>\n        </div>\n      )\n    }\n\n    onMounted(init)\n\n    useRender(() => (\n      <div\n        class={['v-calendar-daily', attrs.class]}\n        onDragstart={ (e: MouseEvent) => e.preventDefault() }\n        v-resize_quiet={ onResize }\n      >\n        { !props.hideHeader ? genHead() : undefined }\n        { genBody() }\n      </div>\n    ))\n\n    return {\n      ...base,\n      scrollPush,\n      scrollArea,\n      pane,\n      init,\n      onResize,\n      getScrollPush,\n    }\n  },\n})\n\nexport type VCalendarDaily = InstanceType<typeof VCalendarDaily>\n", "// Types\nimport type { CalendarCategory, CalendarCategoryTextFunction } from '../types'\n\nexport function parsedCategoryText (\n  category: CalendarCategory,\n  categoryText: string | CalendarCategoryTextFunction | undefined\n): string {\n  return typeof categoryText === 'function' ? categoryText(category)\n    : typeof categoryText === 'string' && typeof category === 'object' && category ? category[categoryText]\n    : typeof category === 'string' ? category\n    : ''\n}\n\nexport function getParsedCategories (\n  categories: CalendarCategory | CalendarCategory[],\n  categoryText: string | CalendarCategoryTextFunction | undefined\n): CalendarCategory[] {\n  if (typeof categories === 'string') return categories.split(/\\s*,\\s/)\n  if (Array.isArray(categories)) {\n    return categories.map((category: CalendarCategory) => {\n      if (typeof category === 'string') return category\n\n      const categoryName = typeof category.categoryName === 'string'\n        ? category.categoryName\n        : parsedCategoryText(category, categoryText)\n      return { ...category, categoryName }\n    })\n  }\n  return []\n}\n", "// Components\nimport { VCalendarDaily } from './VCalendarDaily'\n\n// Composables\nimport { makeCalendarBaseProps } from './composables/calendarBase'\nimport { makeCalendarWithIntervalsProps, useCalendarWithIntervals } from './composables/calendarWithIntervals'\n\n// Utilities\nimport { computed } from 'vue'\nimport { getParsedCategories } from './util/parser'\nimport { convertToUnit, defineComponent, getPrefixedEventHandlers, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { CalendarCategory, CalendarCategoryTextFunction, CalendarTimestamp } from './types'\n\nexport const VCalendarCategory = defineComponent({\n  name: 'VCalendarCategory',\n\n  props: {\n    categories: {\n      type: [Array, String] as PropType<CalendarCategory[] | string>,\n      default: '',\n    },\n    categoryText: [String, Function] as PropType<string | CalendarCategoryTextFunction>,\n    categoryForInvalid: {\n      type: String,\n      default: '',\n    },\n\n    ...makeCalendarBaseProps(),\n    ...makeCalendarWithIntervalsProps(),\n  },\n\n  setup (props, { slots, attrs }) {\n    const base = useCalendarWithIntervals(props)\n\n    const parsedCategories = computed((): CalendarCategory[] => {\n      return getParsedCategories(props.categories, props.categoryText)\n    })\n\n    function getCategoryScope (scope: any, category: CalendarCategory) {\n      const cat = typeof category === 'object' && category &&\n          category.categoryName === props.categoryForInvalid ? null : category\n      return {\n        ...scope,\n        category: cat,\n      }\n    }\n\n    function genDayHeader (scope: CalendarTimestamp & { week: any, index: number }) {\n      return (\n        <div class=\"v-calendar-category__columns\">\n          { parsedCategories.value.map(category => {\n            return genDayHeaderCategory(scope, getCategoryScope(scope, category))\n          })}\n        </div>\n      )\n    }\n\n    function genDayHeaderCategory (day: CalendarTimestamp, scope: any) {\n      const headerTitle = typeof scope.category === 'object' ? scope.category.categoryName : scope.category\n      const events = getPrefixedEventHandlers(attrs, ':dayCategory', () => {\n        return getCategoryScope(base.getSlotScope(day) || day, scope.category)\n      })\n      return (\n        <div\n          class=\"v-calendar-category__column-header\"\n          { ...events }\n        >\n          { slots.category?.(scope) ?? genDayHeaderCategoryTitle(headerTitle) }\n          { slots['day-header']?.(scope) }\n        </div>\n      )\n    }\n\n    function genDayHeaderCategoryTitle (categoryName: string | null) {\n      return (\n        <div class=\"v-calendar-category__category\">\n          { categoryName === null ? props.categoryForInvalid : categoryName }\n        </div>\n      )\n    }\n\n    function genDays () {\n      const days: any[] = []\n      base.days.value.forEach((d: CalendarTimestamp, j: number) => {\n        const day = new Array(parsedCategories.value.length || 1)\n        day.fill(d)\n        days.push(...day.map((v: CalendarTimestamp, i: number) => genDay(v, j, i)))\n      })\n      return days\n    }\n\n    function genDay (day: CalendarTimestamp, index: number, categoryIndex: number) {\n      const category = parsedCategories.value[categoryIndex]\n      const events = getPrefixedEventHandlers(attrs, ':time', e => {\n        return base.getSlotScope(base.getTimestampAtEvent(e, day))\n      })\n      return (\n        <div\n          key={ day.date + '-' + categoryIndex }\n          class={['v-calendar-daily__day', base.getRelativeClasses(day)]}\n          { ...events }\n        >\n          { genDayIntervals(index, category) }\n          { genDayBody(day, category) }\n        </div>\n      )\n    }\n\n    function genDayIntervals (index: number, category: CalendarCategory) {\n      return base.intervals.value[index].map((v: CalendarTimestamp) => genDayInterval(v, category))\n    }\n\n    function genDayInterval (interval: CalendarTimestamp, category: CalendarCategory) {\n      const height: string | undefined = convertToUnit(props.intervalHeight)\n      const styler = props.intervalStyle || base.intervalStyleDefault\n\n      return (\n        <div\n          key={ interval.time }\n          class=\"v-calendar-daily__day-interval\"\n          style={[{ height }, styler({ ...interval, category })]}\n        >\n          { slots.interval?.(\n            getCategoryScope(base.getSlotScope(interval), category)\n          )}\n        </div>\n      )\n    }\n\n    function genDayBody (day: CalendarTimestamp, category: CalendarCategory) {\n      return (\n        <div class=\"v-calendar-category__columns\">\n          { genDayBodyCategory(day, category) }\n        </div>\n      )\n    }\n\n    function genDayBodyCategory (day: CalendarTimestamp, category: CalendarCategory) {\n      const events = getPrefixedEventHandlers(attrs, ':timeCategory', e => {\n        return getCategoryScope(\n          base.getSlotScope(base.getTimestampAtEvent(e, day)),\n          category\n        )\n      })\n\n      return (\n        <div class=\"v-calendar-category__column\" { ...events }>\n          { slots['day-body']?.(getCategoryScope(base.getSlotScope(day), category)) }\n        </div>\n      )\n    }\n\n    useRender(() => (\n      <VCalendarDaily\n        class={[\n          'v-calendar-daily',\n          'v-calendar-category',\n        ]}\n        { ...props }\n      >\n        {{\n          ...slots,\n          days: genDays,\n          'day-header': genDayHeader,\n        }}\n      </VCalendarDaily>\n    ))\n\n    return {\n      ...base,\n      parsedCategories,\n    }\n  },\n})\n\nexport type VCalendarCategory = InstanceType<typeof VCalendarCategory>\n", "// Components\nimport { VIconBtn } from '@/labs/VIconBtn'\n\n// Composables\nimport { makeCalendarBaseProps, useCalendarBase } from './composables/calendarBase'\nimport { useTheme } from '@/composables'\n\n// Utilities\nimport { computed } from 'vue'\nimport { weekNumber } from './util/dateTimeUtils'\nimport {\n  createDayList,\n  createNativeLocaleFormatter,\n  getDayIdentifier,\n  validateNumber,\n} from './util/timestamp'\nimport { defineComponent, getPrefixedEventHandlers, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { CalendarFormatter, CalendarTimestamp } from './types'\n\nexport const VCalendarWeekly = defineComponent({\n  name: 'VCalendarWeekly',\n\n  props: {\n    minWeeks: {\n      validate: validateNumber,\n      default: 1,\n    },\n    monthFormat: Function as PropType<CalendarFormatter>,\n    showWeek: Boolean,\n    color: String,\n    shortWeekdays: {\n      type: Boolean,\n      default: true,\n    },\n    localeFirstDayOfYear: {\n      type: [String, Number],\n      default: 0,\n    },\n    showMonthOnFirst: {\n      type: Boolean,\n      default: true,\n    },\n    shortMonths: {\n      type: Boolean,\n      default: true,\n    },\n    hideHeader: Boolean,\n\n    ...makeCalendarBaseProps(),\n  },\n\n  setup (props, { slots, attrs }) {\n    const base = useCalendarBase(props)\n\n    const theme = useTheme()\n\n    const parsedMinWeeks = computed((): number => {\n      return parseInt(String(props.minWeeks))\n    })\n\n    const days = computed((): CalendarTimestamp[] => {\n      const minDays = parsedMinWeeks.value * base.parsedWeekdays.value.length\n      const start = base.getStartOfWeek(base.parsedStart.value)\n      const end = base.getEndOfWeek(base.parsedEnd.value)\n\n      return createDayList(\n        start,\n        end,\n        base.times.today,\n        base.weekdaySkips.value,\n        Number.MAX_SAFE_INTEGER,\n        minDays\n      )\n    })\n\n    const todayWeek = computed((): CalendarTimestamp[] => {\n      const today = base.times.today\n      const start = base.getStartOfWeek(today)\n      const end = base.getEndOfWeek(today)\n\n      return createDayList(\n        start,\n        end,\n        today,\n        base.weekdaySkips.value,\n        base.parsedWeekdays.value.length,\n        base.parsedWeekdays.value.length\n      )\n    })\n\n    const monthFormatter = computed((): CalendarFormatter => {\n      if (props.monthFormat) {\n        // TODO: what happens when this is a string?\n        return props.monthFormat as CalendarFormatter\n      }\n\n      return createNativeLocaleFormatter(\n        base.locale.current.value,\n        (_tms, short) => ({ timeZone: 'UTC', month: short ? 'short' : 'long' })\n      )\n    })\n\n    function isOutside (day: CalendarTimestamp): boolean {\n      const dayIdentifier = getDayIdentifier(day)\n\n      return dayIdentifier < getDayIdentifier(base.parsedStart.value) ||\n             dayIdentifier > getDayIdentifier(base.parsedEnd.value)\n    }\n\n    function genHead () {\n      return (\n        <div class=\"v-calendar-weekly__head\" role=\"row\">\n          { genHeadDays() }\n        </div>\n      )\n    }\n\n    function genHeadDays () {\n      const header = todayWeek.value.map(genHeadDay)\n\n      if (props.showWeek) {\n        header.unshift(\n          <div class=\"v-calendar-weekly__head-weeknumber\" />\n        )\n      }\n\n      return header\n    }\n\n    function genHeadDay (day: CalendarTimestamp, index: number) {\n      const outside = isOutside(days.value[index])\n      const color = day.present ? props.color : undefined\n\n      return (\n        <div\n          { ...base.getColorProps({ text: color }) }\n          key={ day.date }\n          class={['v-calendar-weekly__head-weekday', base.getRelativeClasses(day, outside)]}\n          role=\"columnheader\"\n        >\n          { base.weekdayFormatter.value(day, props.shortWeekdays) }\n        </div>\n      )\n    }\n\n    function genWeeks () {\n      const daysValue = days.value\n      const weekDays = base.parsedWeekdays.value.length\n      const weeks: any[] = []\n\n      for (let i = 0; i < daysValue.length; i += weekDays) {\n        weeks.push(genWeek(daysValue.slice(i, i + weekDays), getWeekNumber(daysValue[i])))\n      }\n\n      return weeks\n    }\n\n    function genWeek (week: CalendarTimestamp[], weekNumber: number) {\n      const weekNodes = week.map((day, index) => genDay(day, index, week))\n\n      if (props.showWeek) {\n        weekNodes.unshift(genWeekNumber(weekNumber))\n      }\n\n      return (\n        <div\n          key={ week[0].date }\n          class=\"v-calendar-weekly__week\"\n          role=\"row\"\n        >\n          { weekNodes }\n        </div>\n      )\n    }\n\n    function getWeekNumber (determineDay: CalendarTimestamp) {\n      return weekNumber(\n        determineDay.year,\n        determineDay.month - 1,\n        determineDay.day,\n        base.parsedWeekdays.value[0],\n        parseInt(String(props.localeFirstDayOfYear))\n      )\n    }\n\n    function genWeekNumber (weekNumber: number) {\n      return (\n        <div class=\"v-calendar-weekly__weeknumber\">\n          <small>{ String(weekNumber) }</small>\n        </div>\n      )\n    }\n\n    function genDay (day: CalendarTimestamp, index: number, week: CalendarTimestamp[]) {\n      const outside = isOutside(day)\n      const events = getPrefixedEventHandlers(attrs, ':day', nativeEvent => {\n        return { nativeEvent, ...day }\n      })\n\n      return (\n        <div\n          key={ day.date }\n          class={['v-calendar-weekly__day', base.getRelativeClasses(day, outside)]}\n          role=\"cell\"\n          { ...events }\n        >\n          { genDayLabel(day) }\n          { slots.day?.({ outside, index, week, ...day }) }\n        </div>\n      )\n    }\n\n    function genDayLabel (day: CalendarTimestamp) {\n      return (\n        <div class=\"v-calendar-weekly__day-label\">\n          { slots['day-label']?.(day) ?? genDayLabelButton(day) }\n        </div>\n      )\n    }\n\n    function genDayLabelButton (day: CalendarTimestamp) {\n      const hasMonth = day.day === 1 && props.showMonthOnFirst\n      const events = getPrefixedEventHandlers(attrs, ':date', nativeEvent => ({ nativeEvent, ...day }))\n\n      return (\n        <VIconBtn\n          active={ day.present }\n          activeColor={ props.color }\n          variant={ props.color ? 'flat' : 'tonal' }\n          baseVariant=\"text\"\n          { ...events }\n        >\n          { hasMonth\n            ? monthFormatter.value(day, props.shortMonths) + ' ' + base.dayFormatter.value(day, false)\n            : base.dayFormatter.value(day, false)\n          }\n        </VIconBtn>\n      )\n    }\n\n    useRender(() => (\n      <div\n        class={['v-calendar-weekly', theme.themeClasses.value]}\n        onDragstart={ (e: MouseEvent) => e.preventDefault() }\n      >\n        { !props.hideHeader ? genHead() : undefined }\n        { genWeeks() }\n      </div>\n    ))\n\n    return {\n      ...base,\n      days,\n      todayWeek,\n      monthFormatter,\n      isOutside,\n    }\n  },\n})\n\nexport type VCalendarWeekly = InstanceType<typeof VCalendarWeekly>\n", "// Styles\nimport './calendarWithEvents.sass'\n\n// Composables\nimport { useCalendarBase } from './calendarBase'\n\n// Directives\nimport vRipple from '@/directives/ripple'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { CalendarEventOverlapModes } from '../modes'\nimport {\n  isEventHiddenOn,\n  isEventOn,\n  isEventOverlapping,\n  isEventStart,\n  parseEvent,\n} from '../util/events'\nimport { diffMinutes, getDayIdentifier } from '../util/timestamp'\nimport { getPrefixedEventHandlers, propsFactory } from '@/util'\n\n// Types\nimport type { PropType, VNode } from 'vue'\nimport type { CalendarBaseProps } from './calendarBase'\nimport type {\n  CalendarCategory,\n  CalendarDayBodySlotScope,\n  CalendarDaySlotScope,\n  CalendarEvent,\n  CalendarEventCategoryFunction,\n  CalendarEventColorFunction,\n  CalendarEventNameFunction,\n  CalendarEventOverlapMode,\n  CalendarEventParsed,\n  CalendarEventTimedFunction,\n  CalendarEventVisual,\n  CalendarTimestamp,\n} from '../types'\n\n// Constants\nconst WIDTH_FULL = 100\nconst WIDTH_START = 95\nconst MINUTES_IN_DAY = 1440\n\ntype VEventGetter<D> = (day: D) => CalendarEventParsed[]\ntype VEventVisualToNode<D> = (visual: CalendarEventVisual, day: D) => VNode | false\ntype VEventsToNodes = <D extends CalendarDaySlotScope>(\n  day: D,\n  getter: VEventGetter<D>,\n  mapper: VEventVisualToNode<D>,\n  timed: boolean) => VNode[] | undefined\n\ntype VDailyEventsMap = {\n  [date: string]: {\n    parent: HTMLElement\n    more: HTMLElement | null\n    events: HTMLElement[]\n  }\n}\n\nexport interface VEventScopeInput {\n  eventParsed: CalendarEventParsed\n  day: CalendarDaySlotScope\n  start: boolean\n  end: boolean\n  timed: boolean\n}\n\n// Prevent import from being erased\nvoid vRipple\n\nexport const makeCalendarWithEventsProps = propsFactory({\n  events: {\n    type: Array as PropType<CalendarEvent[]>,\n    default: () => [],\n  },\n  eventStart: {\n    type: String,\n    default: 'start',\n  },\n  eventEnd: {\n    type: String,\n    default: 'end',\n  },\n  eventTimed: {\n    type: [String, Function] as PropType<string | CalendarEventTimedFunction>,\n    default: 'timed',\n  },\n  eventCategory: {\n    type: [String, Function] as PropType<string | CalendarEventCategoryFunction>,\n    default: 'category',\n  },\n  eventHeight: {\n    type: Number,\n    default: 20,\n  },\n  eventColor: {\n    type: [String, Function] as PropType<string | CalendarEventColorFunction>,\n    default: 'primary',\n  },\n  eventTextColor: {\n    type: [String, Function] as PropType<string | CalendarEventColorFunction>,\n  },\n  eventName: {\n    type: [String, Function] as PropType<string | CalendarEventNameFunction>,\n    default: 'name',\n  },\n  eventOverlapThreshold: {\n    type: [String, Number],\n    default: 60,\n  },\n  eventOverlapMode: {\n    type: [String, Function] as PropType<'stack' | 'column' | CalendarEventOverlapMode>,\n    default: 'stack',\n    validate: (mode: any) => mode in CalendarEventOverlapModes || typeof mode === 'function',\n  },\n  eventMore: {\n    type: Boolean,\n    default: true,\n  },\n  eventMoreText: {\n    type: String,\n    default: '$vuetify.calendar.moreEvents',\n  },\n  eventRipple: {\n    type: [Boolean, Object],\n    default: null,\n  },\n  eventMarginBottom: {\n    type: Number,\n    default: 1,\n  },\n}, 'VCalendar-events')\n\ninterface CalendarWithEventsProps extends CalendarBaseProps {\n  events: CalendarEvent[]\n  eventStart: string\n  eventEnd: string\n  eventTimed: string | CalendarEventTimedFunction\n  eventCategory: string | CalendarEventCategoryFunction\n  eventHeight: number\n  eventColor: string | CalendarEventColorFunction\n  eventTextColor: string | CalendarEventColorFunction | undefined\n  eventName: string | CalendarEventNameFunction\n  eventOverlapThreshold: string | number\n  eventOverlapMode: string | CalendarEventOverlapMode\n  eventMore: boolean\n  eventMoreText: string\n  eventRipple: boolean | object | null | undefined\n  eventMarginBottom: number\n  type: 'month' | 'week' | 'day' | '4day' | 'custom-weekly' | 'custom-daily' | 'category'\n}\n\nexport function useCalendarWithEvents (props: CalendarWithEventsProps, slots: any, attrs: any) {\n  const base = useCalendarBase(props)\n\n  const noEvents = computed((): boolean => {\n    return !Array.isArray(props.events) || props.events.length === 0\n  })\n\n  const categoryMode = computed((): boolean => {\n    return props.type === 'category'\n  })\n\n  const eventTimedFunction = computed((): CalendarEventTimedFunction => {\n    return typeof props.eventTimed === 'function'\n      ? props.eventTimed\n      : event => !!event[props.eventTimed as string]\n  })\n\n  const eventCategoryFunction = computed((): CalendarEventCategoryFunction => {\n    return typeof props.eventCategory === 'function'\n      ? props.eventCategory\n      : event => event[props.eventCategory as string]\n  })\n\n  const parsedEvents = computed((): CalendarEventParsed[] => {\n    if (!props.events) return []\n    return props.events.map((event, index) => parseEvent(\n      event,\n      index,\n      props.eventStart || '',\n      props.eventEnd || '',\n      eventTimedFunction.value(event),\n      categoryMode.value ? eventCategoryFunction.value(event) : false,\n    ))\n  })\n\n  const parsedEventOverlapThreshold = computed((): number => {\n    return parseInt(String(props.eventOverlapThreshold || 0))\n  })\n\n  const eventTextColorFunction = computed((): CalendarEventColorFunction => {\n    return typeof props.eventTextColor === 'function'\n      ? props.eventTextColor\n      : () => props.eventTextColor as string\n  })\n\n  const eventNameFunction = computed((): CalendarEventNameFunction => {\n    return typeof props.eventName === 'function'\n      ? props.eventName\n      : (event, timedEvent) => event.input[props.eventName as string] as string || ''\n  })\n\n  const eventModeFunction = computed((): CalendarEventOverlapMode => {\n    return typeof props.eventOverlapMode === 'function'\n      ? props.eventOverlapMode\n      : CalendarEventOverlapModes[props.eventOverlapMode as keyof typeof CalendarEventOverlapModes]\n  })\n\n  const eventWeekdays = computed((): number[] => {\n    return base.effectiveWeekdays.value\n  })\n\n  function eventColorFunction (e: CalendarEvent): string | undefined {\n    return typeof props.eventColor === 'function'\n      ? props.eventColor(e)\n      : e.color || props.eventColor\n  }\n\n  const eventsRef = ref<HTMLElement[]>([])\n\n  function updateEventVisibility () {\n    if (noEvents.value || !props.eventMore) {\n      return\n    }\n\n    const eventHeight = props.eventHeight || 0\n    const eventsMap = getEventsMap()\n\n    for (const date in eventsMap) {\n      const { parent, events, more } = eventsMap[date]\n      if (!more) {\n        break\n      }\n\n      const parentBounds = parent.getBoundingClientRect()\n      const last = events.length - 1\n      const eventsSorted = events.map(event => ({\n        event,\n        bottom: event.getBoundingClientRect().bottom,\n      })).sort((a, b) => a.bottom - b.bottom)\n      let hidden = 0\n\n      for (let i = 0; i <= last; i++) {\n        const bottom = eventsSorted[i].bottom\n        const hide = i === last\n          ? (bottom > parentBounds.bottom)\n          : (bottom + eventHeight > parentBounds.bottom)\n\n        if (hide) {\n          eventsSorted[i].event.style.display = 'none'\n          hidden++\n        }\n      }\n\n      // TODO: avoid direct DOM manipulation\n      if (hidden) {\n        more.style.display = ''\n        more.innerHTML = base.locale.t(props.eventMoreText, hidden)\n      } else {\n        more.style.display = 'none'\n      }\n    }\n  }\n\n  function getEventsMap (): VDailyEventsMap {\n    const eventsMap: VDailyEventsMap = {}\n    const elements = eventsRef.value\n\n    if (!elements || !elements.length) {\n      return eventsMap\n    }\n\n    elements.forEach(el => {\n      const date = el.getAttribute('data-date')\n      if (el.parentElement && date) {\n        if (!(date in eventsMap)) {\n          eventsMap[date] = {\n            parent: el.parentElement,\n            more: null,\n            events: [],\n          }\n        }\n        if (el.getAttribute('data-more')) {\n          eventsMap[date].more = el\n        } else {\n          eventsMap[date].events.push(el)\n          el.style.display = ''\n        }\n      }\n    })\n\n    return eventsMap\n  }\n\n  function genDayEvent ({ event }: CalendarEventVisual, day: CalendarDaySlotScope): VNode {\n    const eventHeight = props.eventHeight || 0\n    const eventMarginBottom = props.eventMarginBottom || 0\n    const dayIdentifier = getDayIdentifier(day)\n    const week = day.week\n    const start = dayIdentifier === event.startIdentifier\n    let end = dayIdentifier === event.endIdentifier\n    let width = WIDTH_START\n\n    if (!categoryMode.value) {\n      for (let i = day.index + 1; i < week.length; i++) {\n        const weekdayIdentifier = getDayIdentifier(week[i])\n        if (event.endIdentifier >= weekdayIdentifier) {\n          width += WIDTH_FULL\n          end = end || weekdayIdentifier === event.endIdentifier\n        } else {\n          end = true\n          break\n        }\n      }\n    }\n    const scope = { eventParsed: event, day, start, end, timed: false }\n\n    return genEvent(event, scope, false, {\n      class: [\n        'v-event',\n        { 'v-event-start': start, 'v-event-end': end },\n      ],\n      style: {\n        height: `${eventHeight}px`,\n        width: `${width}%`,\n        marginBottom: `${eventMarginBottom}px`,\n      },\n      'data-date': day.date,\n    })\n  }\n\n  function genTimedEvent ({ event, left, width }: CalendarEventVisual, day: CalendarDayBodySlotScope): VNode | false {\n    const endDelta = day.timeDelta(event.end)\n    const startDelta = day.timeDelta(event.start)\n    if (\n      endDelta === false ||\n      startDelta === false ||\n      endDelta < 0 ||\n      startDelta >= 1 ||\n      isEventHiddenOn(event, day)\n    ) {\n      return false\n    }\n\n    const dayIdentifier = getDayIdentifier(day)\n    const start = event.startIdentifier >= dayIdentifier\n    const end = event.endIdentifier > dayIdentifier\n    const top = start ? day.timeToY(event.start) : 0\n    const bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end)\n    const height = Math.max(props.eventHeight || 0, bottom - top)\n    const scope = { eventParsed: event, day, start, end, timed: true }\n\n    return genEvent(event, scope, true, {\n      class: 'v-event-timed',\n      style: {\n        top: `${top}px`,\n        height: `${height}px`,\n        left: `${left}%`,\n        width: `${width}%`,\n      },\n    })\n  }\n\n  function genEvent (\n    event: CalendarEventParsed,\n    scopeInput: VEventScopeInput,\n    timedEvent: boolean,\n    data: Record<string, unknown>\n  ): VNode {\n    const slot = slots.event\n    const text = eventTextColorFunction.value(event.input)\n    const background = eventColorFunction(event.input)\n    const overlapsNoon = event.start.hour < 12 && event.end.hour >= 12\n    const singline = diffMinutes(event.start, event.end) <= parsedEventOverlapThreshold.value\n    const formatTime = (withTime: CalendarTimestamp, ampm: boolean): string => {\n      const formatter = base.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined,\n      })\n      return formatter(withTime, true)\n    }\n\n    const timeSummary = () => formatTime(event.start, overlapsNoon) + ' - ' + formatTime(event.end, true)\n\n    const eventSummary = () => {\n      const name = eventNameFunction.value(event, timedEvent)\n      if (event.start.hasTime) {\n        if (timedEvent) {\n          const time = timeSummary()\n          const delimiter = singline ? ', ' : <br />\n\n          return (\n            <span class=\"v-event-summary\">\n              <strong>{ name }</strong>\n              { delimiter }\n              { time }\n            </span>\n          )\n        } else {\n          const time = formatTime(event.start, true)\n\n          return (\n            <span class=\"v-event-summary\">\n              <strong>{ time }</strong> { name }\n            </span>\n          )\n        }\n      }\n\n      return <span class=\"v-event-summary\">{ name }</span>\n    }\n\n    const scope = {\n      ...scopeInput,\n      event: event.input,\n      outside: scopeInput.day.outside,\n      singline,\n      overlapsNoon,\n      formatTime,\n      timeSummary,\n      eventSummary,\n    }\n\n    const events = getPrefixedEventHandlers(attrs, ':event', (nativeEvent: Event) => ({ ...scope, nativeEvent }))\n\n    return (\n      <div\n        { ...base.getColorProps({ text, background }) }\n        { ...events }\n        { ...data }\n        ref_for\n        ref={ eventsRef }\n        v-ripple={ props.eventRipple ?? true }\n      >\n        { slot?.(scope) ?? genName(eventSummary) }\n      </div>\n    )\n  }\n\n  function genName (eventSummary: () => string | VNode): VNode {\n    return (\n      <div class=\"pl-1\">\n        { eventSummary() }\n      </div>\n    )\n  }\n\n  function genPlaceholder (day: CalendarTimestamp): VNode {\n    const height = (props.eventHeight || 0) + (props.eventMarginBottom || 0)\n    return (\n      <div\n        style={{ height: `${height}px` }}\n        data-date={ day.date }\n        ref_for\n        ref={ eventsRef }\n      />\n    )\n  }\n\n  function genMore (day: CalendarDaySlotScope): VNode {\n    const eventHeight = props.eventHeight || 0\n    const eventMarginBottom = props.eventMarginBottom || 0\n    const events = getPrefixedEventHandlers(attrs, ':more', (nativeEvent: Event) => ({ nativeEvent, ...day }))\n\n    return (\n      <div\n        class={['v-event-more pl-1', { 'v-outside': day.outside }]}\n        data-date={ day.date }\n        data-more=\"1\"\n        style={{\n          display: 'none',\n          height: `${eventHeight}px`,\n          marginBottom: `${eventMarginBottom}px`,\n        }}\n        ref_for\n        ref={ eventsRef }\n        v-ripple={ props.eventRipple ?? true }\n        { ...events }\n      />\n    )\n  }\n\n  function getVisibleEvents (): CalendarEventParsed[] {\n    const days = base.days.value\n    const start = getDayIdentifier(days[0])\n    const end = getDayIdentifier(days[days.length - 1])\n\n    return parsedEvents.value.filter(\n      event => isEventOverlapping(event, start, end)\n    )\n  }\n\n  function isEventForCategory (event: CalendarEventParsed, category: CalendarCategory): boolean {\n    return !categoryMode.value ||\n      (typeof category === 'object' && category.categoryName &&\n      category.categoryName === event.category) ||\n      (typeof event.category === 'string' && category === event.category) ||\n      (typeof event.category !== 'string' && category === null)\n  }\n\n  function getEventsForDay (day: CalendarDaySlotScope): CalendarEventParsed[] {\n    const identifier = getDayIdentifier(day)\n    const firstWeekday = eventWeekdays.value[0]\n\n    return parsedEvents.value.filter(\n      event => isEventStart(event, day, identifier, firstWeekday)\n    )\n  }\n\n  function getEventsForDayAll (day: CalendarDaySlotScope): CalendarEventParsed[] {\n    const identifier = getDayIdentifier(day)\n    const firstWeekday = eventWeekdays.value[0]\n\n    return parsedEvents.value.filter(\n      event => event.allDay &&\n        (categoryMode.value ? isEventOn(event, identifier) : isEventStart(event, day, identifier, firstWeekday)) &&\n        isEventForCategory(event, day.category)\n    )\n  }\n\n  function getEventsForDayTimed (day: CalendarDaySlotScope): CalendarEventParsed[] {\n    const identifier = getDayIdentifier(day)\n    return parsedEvents.value.filter(\n      event => !event.allDay &&\n        isEventOn(event, identifier) &&\n        isEventForCategory(event, day.category)\n    )\n  }\n\n  function getScopedSlots () {\n    if (noEvents.value) {\n      return { ...slots }\n    }\n\n    const mode = eventModeFunction.value(\n      parsedEvents.value,\n      eventWeekdays.value[0],\n      parsedEventOverlapThreshold.value\n    )\n\n    const isNode = (input: VNode | false): input is VNode => !!input\n    const getSlotChildren: VEventsToNodes = (day, getter, mapper, timed) => {\n      const events = getter(day)\n      const visuals = mode(day, events, timed, categoryMode.value)\n\n      if (timed) {\n        return visuals.map(visual => mapper(visual, day)).filter(isNode)\n      }\n\n      const children: VNode[] = []\n\n      visuals.forEach((visual, index) => {\n        while (children.length < visual.column) {\n          children.push(genPlaceholder(day) as VNode)\n        }\n\n        const mapped = mapper(visual, day)\n        if (mapped) {\n          children.push(mapped)\n        }\n      })\n\n      return children\n    }\n\n    return {\n      ...slots,\n      day: (day: CalendarDaySlotScope) => {\n        let children = getSlotChildren(day, getEventsForDay, genDayEvent, false)\n        if (children && children.length > 0 && props.eventMore) {\n          children.push(genMore(day) as VNode)\n        }\n        if (slots.day) {\n          const slot = slots.day(day)\n          if (slot) {\n            children = children ? children.concat(slot) : slot\n          }\n        }\n        return children\n      },\n      'day-header': (day: CalendarDaySlotScope) => {\n        let children = getSlotChildren(day, getEventsForDayAll, genDayEvent, false)\n\n        if (slots['day-header']) {\n          const slot = slots['day-header'](day)\n          if (slot) {\n            children = children ? children.concat(slot) : slot\n          }\n        }\n        return children\n      },\n      'day-body': (day: CalendarDayBodySlotScope) => {\n        const events = getSlotChildren(day, getEventsForDayTimed, genTimedEvent, true)\n        let children: VNode[] = [\n          <div class=\"v-event-timed-container\">{ events }</div>,\n        ]\n\n        if (slots['day-body']) {\n          const slot = slots['day-body'](day)\n          if (slot) {\n            children = children.concat(slot)\n          }\n        }\n        return children\n      },\n    }\n  }\n\n  return {\n    ...base,\n    noEvents,\n    parsedEvents,\n    parsedEventOverlapThreshold,\n    eventTimedFunction,\n    eventCategoryFunction,\n    eventTextColorFunction,\n    eventNameFunction,\n    eventModeFunction,\n    eventWeekdays,\n    categoryMode,\n    eventColorFunction,\n    eventsRef,\n    updateEventVisibility,\n    getEventsMap,\n    genDayEvent,\n    genTimedEvent,\n    genEvent,\n    genName,\n    genPlaceholder,\n    genMore,\n    getVisibleEvents,\n    isEventForCategory,\n    getEventsForDay,\n    getEventsForDayAll,\n    getEventsForDayTimed,\n    getScopedSlots,\n  }\n}\n", "// Types\nimport type { CalendarEventParsed, CalendarEventVisual, CalendarTimestamp } from '../types'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\nconst MILLIS_IN_DAY = 86400000\n\nexport type GetRange = (event: CalendarEventParsed) => [number, number]\n\nexport function getVisuals (events: CalendarEventParsed[], minStart = 0): CalendarEventVisual[] {\n  const visuals = events.map(event => ({\n    event,\n    columnCount: 0,\n    column: 0,\n    left: 0,\n    width: 100,\n  }))\n\n  visuals.sort((a, b) => {\n    return (\n      Math.max(minStart, a.event.startTimestampIdentifier) - Math.max(minStart, b.event.startTimestampIdentifier)\n    ) || (b.event.endTimestampIdentifier - a.event.endTimestampIdentifier)\n  })\n\n  return visuals\n}\n\nexport interface ColumnGroup {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\nexport function hasOverlap (s0: number, e0: number, s1: number, e1: number, exclude = true): boolean {\n  return exclude ? !(s0 >= e1 || e0 <= s1) : !(s0 > e1 || e0 < s1)\n}\n\nexport function setColumnCount (groups: ColumnGroup[]) {\n  groups.forEach(group => {\n    group.visuals.forEach(groupVisual => {\n      groupVisual.columnCount = groups.length\n    })\n  })\n}\n\nexport function getRange (event: CalendarEventParsed): [number, number] {\n  return [event.startTimestampIdentifier, event.endTimestampIdentifier]\n}\n\nexport function getDayRange (event: CalendarEventParsed): [number, number] {\n  return [event.startIdentifier, event.endIdentifier]\n}\n\nexport function getNormalizedRange (event: CalendarEventParsed, dayStart: number): [number, number] {\n  return [Math.max(dayStart, event.startTimestampIdentifier), Math.min(dayStart + MILLIS_IN_DAY, event.endTimestampIdentifier)]\n}\n\nexport function getOpenGroup (groups: ColumnGroup[], start: number, end: number, timed: boolean) {\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i]\n    let intersected = false\n\n    if (hasOverlap(start, end, group.start, group.end, timed)) {\n      for (let k = 0; k < group.visuals.length; k++) {\n        const groupVisual = group.visuals[k]\n        const [groupStart, groupEnd] = timed ? getRange(groupVisual.event) : getDayRange(groupVisual.event)\n\n        if (hasOverlap(start, end, groupStart, groupEnd, timed)) {\n          intersected = true\n          break\n        }\n      }\n    }\n\n    if (!intersected) {\n      return i\n    }\n  }\n\n  return -1\n}\n\nexport function getOverlapGroupHandler (firstWeekday: number) {\n  const handler = {\n    groups: [] as ColumnGroup[],\n    min: -1,\n    max: -1,\n    reset: () => {\n      handler.groups = []\n      handler.min = handler.max = -1\n    },\n    getVisuals: (day: CalendarTimestamp, dayEvents: CalendarEventParsed[], timed: boolean, reset = false) => {\n      if (day.weekday === firstWeekday || reset) {\n        handler.reset()\n      }\n\n      const dayStart = getTimestampIdentifier(day)\n      const visuals = getVisuals(dayEvents, dayStart)\n\n      visuals.forEach(visual => {\n        const [start, end] = timed ? getRange(visual.event) : getDayRange(visual.event)\n\n        if (handler.groups.length > 0 && !hasOverlap(start, end, handler.min, handler.max, timed)) {\n          setColumnCount(handler.groups)\n          handler.reset()\n        }\n\n        let targetGroup = getOpenGroup(handler.groups, start, end, timed)\n\n        if (targetGroup === -1) {\n          targetGroup = handler.groups.length\n\n          handler.groups.push({ start, end, visuals: [] })\n        }\n\n        const target = handler.groups[targetGroup]\n        target.visuals.push(visual)\n        target.start = Math.min(target.start, start)\n        target.end = Math.max(target.end, end)\n\n        visual.column = targetGroup\n\n        if (handler.min === -1) {\n          handler.min = start\n          handler.max = end\n        } else {\n          handler.min = Math.min(handler.min, start)\n          handler.max = Math.max(handler.max, end)\n        }\n      })\n\n      setColumnCount(handler.groups)\n\n      if (timed) {\n        handler.reset()\n      }\n\n      return visuals\n    },\n  }\n\n  return handler\n}\n", "// Types\nimport { getOverlapGroupHandler } from './common'\nimport type { CalendarEventOverlapMode } from '../types'\n\nconst FULL_WIDTH = 100\n\nexport const column: CalendarEventOverlapMode = (events, firstWeekday, overlapThreshold) => {\n  const handler = getOverlapGroupHandler(firstWeekday)\n\n  return (day, dayEvents, timed, reset) => {\n    const visuals = handler.getVisuals(day, dayEvents, timed, reset)\n\n    if (timed) {\n      visuals.forEach(visual => {\n        visual.left = visual.column * FULL_WIDTH / visual.columnCount\n        visual.width = FULL_WIDTH / visual.columnCount\n      })\n    }\n\n    return visuals\n  }\n}\n", "// Types\nimport { getNormalizedRange, getOverlapGroupHandler, getVisuals, hasOverlap } from './common'\nimport type { CalendarEventOverlapMode, CalendarEventVisual } from '../types'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\ninterface Group {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\ninterface Node {\n  parent: Node | null\n  sibling: boolean\n  index: number\n  visual: CalendarEventVisual\n  start: number\n  end: number\n  children: Node[]\n}\n\nconst FULL_WIDTH = 100\n\nconst DEFAULT_OFFSET = 5\n\nconst WIDTH_MULTIPLIER = 1.7\n\n/**\n * Variation of column mode where events can be stacked. The priority of this\n * mode is to stack events together taking up the least amount of space while\n * trying to ensure the content of the event is always visible as well as its\n * start and end. A sibling column has intersecting event content and must be\n * placed beside each other. Non-sibling columns are offset by 5% from the\n * previous column. The width is scaled by 1.7 so the events overlap and\n * whitespace is reduced. If there is a hole in columns the event width is\n * scaled up so it intersects with the next column. The columns have equal\n * width in the space they are given. If the event doesn't have any to the\n * right of it that intersect with it's content it's right side is extended\n * to the right side.\n */\n\nexport const stack: CalendarEventOverlapMode = (events, firstWeekday, overlapThreshold) => {\n  const handler = getOverlapGroupHandler(firstWeekday)\n\n  // eslint-disable-next-line max-statements\n  return (day, dayEvents, timed, reset) => {\n    if (!timed) {\n      return handler.getVisuals(day, dayEvents, timed, reset)\n    }\n\n    const dayStart = getTimestampIdentifier(day)\n    const visuals = getVisuals(dayEvents, dayStart)\n    const groups = getGroups(visuals, dayStart)\n\n    for (const group of groups) {\n      const nodes: Node[] = []\n\n      for (const visual of group.visuals) {\n        const child = getNode(visual, dayStart)\n        const index = getNextIndex(child, nodes)\n\n        if (index === false) {\n          const parent = getParent(child, nodes)\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            child.index = parent.index + 1\n            parent.children.push(child)\n          }\n        } else {\n          const [parent] = getOverlappingRange(child, nodes, index - 1, index - 1)\n          const children = getOverlappingRange(child, nodes, index + 1, index + nodes.length, true)\n\n          child.children = children\n          child.index = index\n\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            parent.children.push(child)\n          }\n\n          for (const grand of children) {\n            if (grand.parent === parent) {\n              grand.parent = child\n            }\n\n            const grandNext = grand.index - child.index <= 1\n            if (grandNext && child.sibling &&\n              hasOverlap(child.start, addTime(child.start, overlapThreshold), grand.start, grand.end)) {\n              grand.sibling = true\n            }\n          }\n        }\n\n        nodes.push(child)\n      }\n\n      calculateBounds(nodes, overlapThreshold)\n    }\n\n    visuals.sort((a, b) => (a.left - b.left) || (a.event.startTimestampIdentifier - b.event.startTimestampIdentifier))\n\n    return visuals\n  }\n}\n\nfunction calculateBounds (nodes: Node[], overlapThreshold: number) {\n  for (const node of nodes) {\n    const { visual, parent } = node\n    const columns = getMaxChildIndex(node) + 1\n    const spaceLeft = parent ? parent.visual.left : 0\n    const spaceWidth = FULL_WIDTH - spaceLeft\n    const offset = Math.min(DEFAULT_OFFSET, FULL_WIDTH / columns)\n    const columnWidthMultiplier = getColumnWidthMultiplier(node, nodes)\n    const columnOffset = spaceWidth / (columns - node.index + 1)\n    const columnWidth = spaceWidth / (columns - node.index + (node.sibling ? 1 : 0)) * columnWidthMultiplier\n\n    if (parent) {\n      visual.left = node.sibling\n        ? spaceLeft + columnOffset\n        : spaceLeft + offset\n    }\n\n    visual.width = hasFullWidth(node, nodes, overlapThreshold)\n      ? FULL_WIDTH - visual.left\n      : Math.min(FULL_WIDTH - visual.left, columnWidth * WIDTH_MULTIPLIER)\n  }\n}\n\nfunction getColumnWidthMultiplier (node: Node, nodes: Node[]): number {\n  if (!node.children.length) {\n    return 1\n  }\n\n  const maxColumn = node.index + nodes.length\n  const minColumn = node.children.reduce((min, c) => Math.min(min, c.index), maxColumn)\n\n  return minColumn - node.index\n}\n\nfunction getOverlappingIndices (node: Node, nodes: Node[]): number[] {\n  const indices: number[] = []\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end)) {\n      indices.push(other.index)\n    }\n  }\n  return indices\n}\n\nfunction getNextIndex (node: Node, nodes: Node[]): number | false {\n  const indices = getOverlappingIndices(node, nodes)\n  indices.sort()\n\n  for (let i = 0; i < indices.length; i++) {\n    if (i < indices[i]) {\n      return i\n    }\n  }\n  return false\n}\n\nfunction getOverlappingRange (node: Node, nodes: Node[], indexMin: number, indexMax: number, returnFirstColumn = false): Node[] {\n  const overlapping: Node[] = []\n  for (const other of nodes) {\n    if (other.index >= indexMin && other.index <= indexMax && hasOverlap(node.start, node.end, other.start, other.end)) {\n      overlapping.push(other)\n    }\n  }\n  if (returnFirstColumn && overlapping.length > 0) {\n    const first = overlapping.reduce((min, n) => Math.min(min, n.index), overlapping[0].index)\n    return overlapping.filter(n => n.index === first)\n  }\n  return overlapping\n}\n\nfunction getParent (node: Node, nodes: Node[]): Node | null {\n  let parent: Node | null = null\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end) && (parent === null || other.index > parent.index)) {\n      parent = other\n    }\n  }\n  return parent\n}\n\nfunction hasFullWidth (node: Node, nodes: Node[], overlapThreshold: number): boolean {\n  for (const other of nodes) {\n    if (other !== node &&\n      other.index > node.index &&\n      hasOverlap(node.start, addTime(node.start, overlapThreshold), other.start, other.end)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction getGroups (visuals: CalendarEventVisual[], dayStart: number): Group[] {\n  const groups: Group[] = []\n\n  for (const visual of visuals) {\n    const [start, end] = getNormalizedRange(visual.event, dayStart)\n    let added = false\n\n    for (const group of groups) {\n      if (hasOverlap(start, end, group.start, group.end)) {\n        group.visuals.push(visual)\n        group.end = Math.max(group.end, end)\n        added = true\n        break\n      }\n    }\n\n    if (!added) {\n      groups.push({ start, end, visuals: [visual] })\n    }\n  }\n\n  return groups\n}\n\nfunction getNode (visual: CalendarEventVisual, dayStart: number): Node {\n  const [start, end] = getNormalizedRange(visual.event, dayStart)\n\n  return {\n    parent: null,\n    sibling: true,\n    index: 0,\n    visual,\n    start,\n    end,\n    children: [],\n  }\n}\n\nfunction getMaxChildIndex (node: Node): number {\n  let max = node.index\n  for (const child of node.children) {\n    const childMax = getMaxChildIndex(child)\n    if (childMax > max) {\n      max = childMax\n    }\n  }\n  return max\n}\n\nfunction addTime (identifier: number, minutes: number): number {\n  const removeMinutes = identifier % 100\n  const totalMinutes = removeMinutes + minutes\n  const addHours = Math.floor(totalMinutes / 60)\n  const addMinutes = totalMinutes % 60\n\n  return identifier - removeMinutes + addHours * 100 + addMinutes\n}\n", "// Types\nimport { column } from './column'\nimport { stack } from './stack'\nimport type { CalendarEventOverlapMode } from '../types'\n\nexport const CalendarEventOverlapModes: Record<string, CalendarEventOverlapMode> = {\n  stack,\n  column,\n}\n", "import {\n  getDayIdentifier,\n  getTimestampIdentifier,\n  isTimedless,\n  parseTimestamp,\n  updateHasTime,\n} from './timestamp'\n\n// Types\nimport type { CalendarEvent, CalendarEventParsed, CalendarTimestamp } from '../types'\n\nexport function parseEvent (\n  input: CalendarEvent,\n  index: number,\n  startProperty: string,\n  endProperty: string,\n  timed = false,\n  category: string | false = false,\n): CalendarEventParsed {\n  const startInput = input[startProperty]\n  const endInput = input[endProperty]\n  const startParsed: CalendarTimestamp = parseTimestamp(startInput, true)\n  const endParsed: CalendarTimestamp = (endInput ? parseTimestamp(endInput, true) : startParsed)\n  const start: CalendarTimestamp = isTimedless(startInput)\n    ? updateHasTime(startParsed, timed)\n    : startParsed\n  const end: CalendarTimestamp = isTimedless(endInput)\n    ? updateHasTime(endParsed, timed)\n    : endParsed\n  const startIdentifier: number = getDayIdentifier(start)\n  const startTimestampIdentifier: number = getTimestampIdentifier(start)\n  const endIdentifier: number = getDayIdentifier(end)\n  const endOffset: number = start.hasTime ? 0 : 2359\n  const endTimestampIdentifier: number = getTimestampIdentifier(end) + endOffset\n  const allDay = !start.hasTime\n\n  return { input, start, startIdentifier, startTimestampIdentifier, end, endIdentifier, endTimestampIdentifier, allDay, index, category }\n}\n\nexport function isEventOn (event: CalendarEventParsed, dayIdentifier: number): boolean {\n  return dayIdentifier >= event.startIdentifier && dayIdentifier <= event.endIdentifier\n}\n\nexport function isEventHiddenOn (event: CalendarEventParsed, day: CalendarTimestamp): boolean {\n  return event.end.time === '00:00' && event.end.date === day.date && event.start.date !== day.date\n}\n\nexport function isEventStart (\n  event: CalendarEventParsed,\n  day: CalendarTimestamp,\n  dayIdentifier: number,\n  firstWeekday: number\n): boolean {\n  return dayIdentifier === event.startIdentifier || (firstWeekday === day.weekday && isEventOn(event, dayIdentifier))\n}\n\nexport function isEventOverlapping (\n  event: CalendarEventParsed,\n  startIdentifier: number,\n  endIdentifier: number\n): boolean {\n  return startIdentifier <= event.endIdentifier && endIdentifier >= event.startIdentifier\n}\n", "// Styles\nimport './VColorInput.sass'\n\n// Components\nimport { VAvatar } from '@/components/VAvatar'\nimport { makeVColorPickerProps, VColorPicker } from '@/components/VColorPicker/VColorPicker'\nimport { makeVConfirmEditProps, VConfirmEdit } from '@/components/VConfirmEdit/VConfirmEdit'\nimport { VMenu } from '@/components/VMenu/VMenu'\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { makeFocusProps } from '@/composables/focus'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, shallowRef } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VTextFieldSlots } from '@/components/VTextField/VTextField'\n\nexport type VColorInputActionsSlot = {\n  save: () => void\n  cancel: () => void\n  isPristine: boolean\n}\n\nexport type VColorInputSlots = Omit<VTextFieldSlots, 'default'> & {\n  actions: VColorInputActionsSlot\n  default: never\n}\n\nconst availablePipLocations = ['prepend', 'prepend-inner', 'append', 'append-inner'] as const\nexport type PipLocation = typeof availablePipLocations[number]\n\nexport const makeVColorInputProps = propsFactory({\n  hidePip: Boolean,\n  colorPip: Boolean,\n  pipIcon: {\n    type: String,\n    default: '$color',\n  },\n  pipLocation: {\n    type: String as PropType<PipLocation>,\n    default: 'prepend',\n    validator: (v: any) => availablePipLocations.includes(v),\n  },\n  pipVariant: {\n    type: String as PropType<VAvatar['$props']['variant']>,\n    default: 'text',\n  },\n\n  ...makeFocusProps(),\n  ...makeVConfirmEditProps(),\n  ...makeVTextFieldProps(),\n  ...omit(makeVColorPickerProps(), ['width']),\n}, 'VColorInput')\n\nexport const VColorInput = genericComponent<VColorInputSlots>()({\n  name: 'VColorInput',\n\n  props: makeVColorInputProps(),\n\n  emits: {\n    'update:modelValue': (val: string) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const menu = shallowRef(false)\n    const isFocused = shallowRef(props.focused)\n\n    const isInteractive = computed(() => !props.disabled && !props.readonly)\n\n    const display = computed(() => model.value || null)\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key !== 'Enter') return\n\n      if (!menu.value || !isFocused.value) {\n        menu.value = true\n\n        return\n      }\n\n      const target = e.target as HTMLInputElement\n\n      model.value = target.value\n    }\n\n    function onClick (e: MouseEvent) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      menu.value = true\n    }\n\n    function onSave () {\n      menu.value = false\n    }\n\n    function onCancel () {\n      menu.value = false\n    }\n\n    useRender(() => {\n      const confirmEditProps = VConfirmEdit.filterProps(props)\n      const colorPickerProps = VColorPicker.filterProps(omit(props, ['active', 'color']))\n      const textFieldProps = VTextField.filterProps(props)\n\n      const slotWithPip = props.hidePip\n        ? undefined\n        : {\n          [props.pipLocation]: (arg: any) => (\n            <>\n              <VAvatar\n                class=\"v-color-input__pip\"\n                color={ props.colorPip ? model.value as string : undefined }\n                variant={ props.pipVariant }\n                icon={ props.pipIcon }\n              />\n              { slots[props.pipLocation]?.(arg) }\n            </>\n          ),\n        }\n\n      return (\n        <VTextField\n          { ...textFieldProps }\n          class={[\n            'v-color-input',\n            props.class,\n          ]}\n          style={ props.style }\n          modelValue={ display.value }\n          onKeydown={ isInteractive.value ? onKeydown : undefined }\n          focused={ menu.value || isFocused.value }\n          onClick:control={ isInteractive.value ? onClick : undefined }\n          onClick:prependInner={ isInteractive.value ? onClick : undefined }\n          onUpdate:focused={ event => isFocused.value = event }\n          onClick:appendInner={ isInteractive.value ? onClick : undefined }\n          onUpdate:modelValue={ val => {\n            model.value = val\n          }}\n        >\n          {{\n            ...slots,\n            ...slotWithPip,\n            default: () => (\n              <>\n                <VMenu\n                  v-model={ menu.value }\n                  activator=\"parent\"\n                  minWidth=\"0\"\n                  closeOnContentClick={ false }\n                  openOnClick={ false }\n                >\n                  <VConfirmEdit\n                    { ...confirmEditProps }\n                    v-model={ model.value }\n                    onSave={ onSave }\n                    onCancel={ onCancel }\n                  >\n                    {{\n                      default: ({ actions, model: proxyModel, save, cancel, isPristine }) => {\n                        function onUpdateModel (value: string) {\n                          if (!props.hideActions) {\n                            proxyModel.value = value\n                          } else {\n                            model.value = value\n                          }\n                        }\n\n                        return (\n                          <VColorPicker\n                            { ...colorPickerProps }\n                            modelValue={ props.hideActions ? model.value : proxyModel.value }\n                            onUpdate:modelValue={ value => onUpdateModel(value) }\n                          >\n                            {{\n                              actions: !props.hideActions ? () => slots.actions?.({ save, cancel, isPristine }) ?? actions() : undefined,\n                            }}\n                          </VColorPicker>\n                        )\n                      },\n                    }}\n                  </VConfirmEdit>\n                </VMenu>\n\n                { slots.default?.() }\n              </>\n            ),\n          }}\n        </VTextField>\n      )\n    })\n  },\n})\n\nexport type VColorInput = InstanceType<typeof VColorInput>\n", "// Composables\nimport { useDate } from '@/composables/date/date'\n\n// Utilities\nimport { toRef } from 'vue'\nimport { consoleWarn, propsFactory } from '@/util'\n\n// Types\nimport type { Ref } from 'vue'\n\n// Types\nexport interface DateFormatProps {\n  inputFormat?: string\n}\n\nclass DateFormatSpec {\n  constructor (\n    public readonly order: string, // mdy | dmy | ymd\n    public readonly separator: string // / | - | .\n  ) { }\n\n  get format () {\n    return this.order.split('')\n      .map(sign => `${sign}${sign}`)\n      .join(this.separator)\n      .replace('yy', 'yyyy')\n  }\n\n  static canBeParsed (v: any) {\n    if (typeof v !== 'string') return false\n    const lowercase = v.toLowerCase()\n    return ['y', 'm', 'd'].every(sign => lowercase.includes(sign)) &&\n      ['/', '-', '.'].some(sign => v.includes(sign))\n  }\n\n  static parse (v: string) {\n    if (!DateFormatSpec.canBeParsed(v)) {\n      throw new Error(`[${v}] cannot be parsed into date format specification`)\n    }\n    const order = v.toLowerCase().split('')\n      .filter((c, i, all) => 'dmy'.includes(c) && all.indexOf(c) === i)\n      .join('')\n    const separator = ['/', '-', '.'].find(sign => v.includes(sign))!\n    return new DateFormatSpec(order, separator)\n  }\n}\n\nexport const makeDateFormatProps = propsFactory({\n  inputFormat: {\n    type: String,\n    validator: (v: string) => !v || DateFormatSpec.canBeParsed(v),\n  },\n}, 'date-format')\n\nexport function useDateFormat (props: DateFormatProps, locale: Ref<string>) {\n  const adapter = useDate()\n\n  function inferFromLocale () {\n    const localeForDateFormat = locale.value ?? 'en-US'\n    const formatFromLocale = Intl.DateTimeFormat(localeForDateFormat, { year: 'numeric', month: '2-digit', day: '2-digit' })\n      .format(adapter.toJsDate(adapter.parseISO('1999-12-07')))\n      .replace(/(07)|()|()|()|()/, 'dd')\n      .replace(/(12)|()|()|()|()/, 'mm')\n      .replace(/(1999)|(2542)|()|()|()|()/, 'yyyy')\n      .replace(/[^ymd\\-/.]/g, '')\n      .replace(/\\.$/, '')\n\n    if (!DateFormatSpec.canBeParsed(formatFromLocale)) {\n      consoleWarn(`Date format inferred from locale [${localeForDateFormat}] is invalid: [${formatFromLocale}]`)\n      return 'mm/dd/yyyy'\n    }\n\n    return formatFromLocale\n  }\n\n  const currentFormat = toRef(() => {\n    return DateFormatSpec.canBeParsed(props.inputFormat)\n      ? DateFormatSpec.parse(props.inputFormat!)\n      : DateFormatSpec.parse(inferFromLocale())\n  })\n\n  function parseDate (dateString: string) {\n    function parseDateParts (text: string): Record<'y' |'m' | 'd', number> {\n      const parts = text.trim().split(currentFormat.value.separator)\n\n      return {\n        y: Number(parts[currentFormat.value.order.indexOf('y')]),\n        m: Number(parts[currentFormat.value.order.indexOf('m')]),\n        d: Number(parts[currentFormat.value.order.indexOf('d')]),\n      }\n    }\n\n    function validateDateParts (dateParts: Record<string, number>) {\n      const { y: year, m: month, d: day } = dateParts\n      if (!year || !month || !day) return null\n      if (month < 1 || month > 12) return null\n      if (day < 1 || day > 31) return null\n\n      return { year: autoFixYear(year), month, day }\n    }\n\n    function autoFixYear (year: number) {\n      const currentYear = adapter.getYear(adapter.date())\n      if (year > 100 || currentYear % 100 >= 50) {\n        return year\n      }\n\n      const currentCentury = ~~(currentYear / 100) * 100\n\n      return year < 50\n        ? currentCentury + year\n        : (currentCentury - 100) + year\n    }\n\n    const dateParts = parseDateParts(dateString)\n    const validatedParts = validateDateParts(dateParts)\n\n    if (!validatedParts) return null\n\n    const { year, month, day } = validatedParts\n\n    const pad = (v: number) => String(v).padStart(2, '0')\n\n    return adapter.parseISO(`${year}-${pad(month)}-${pad(day)}`)\n  }\n\n  function isValid (text: string) {\n    return !!parseDate(text)\n  }\n\n  function formatDate (value: unknown) {\n    const parts = adapter.toISO(value).split('T')[0].split('-')\n\n    return currentFormat.value.order.split('')\n      .map(sign => parts['ymd'.indexOf(sign)])\n      .join(currentFormat.value.separator)\n  }\n\n  return {\n    isValid,\n    parseDate,\n    formatDate,\n    parserFormat: toRef(() => currentFormat.value.format),\n  }\n}\n", "// Components\nimport { makeVConfirmEditProps, VConfirmEdit } from '@/components/VConfirmEdit/VConfirmEdit'\nimport { makeVDatePickerProps, VDatePicker } from '@/components/VDatePicker/VDatePicker'\nimport { VMenu } from '@/components/VMenu/VMenu'\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { useDate } from '@/composables/date'\nimport { createDateRange } from '@/composables/date/date'\nimport { makeDateFormatProps, useDateFormat } from '@/composables/dateFormat'\nimport { makeDisplayProps, useDisplay } from '@/composables/display'\nimport { makeFocusProps } from '@/composables/focus'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref, shallowRef, watch } from 'vue'\nimport { genericComponent, omit, pick, propsFactory, useRender, wrapInArray } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VDatePickerSlots } from '@/components/VDatePicker/VDatePicker'\nimport type { StrategyProps } from '@/components/VOverlay/locationStrategies'\nimport type { VTextFieldSlots } from '@/components/VTextField/VTextField'\nimport type { GenericProps } from '@/util'\n\n// Types\nexport type VDateInputActionsSlot = {\n  save: () => void\n  cancel: () => void\n  isPristine: boolean\n}\n\nexport type VDateInputSlots = Omit<VTextFieldSlots, 'default'> &\n  Pick<VDatePickerSlots, 'title' | 'header' | 'day' | 'month' | 'year'> & {\n    actions: VDateInputActionsSlot\n    default: never\n  }\n\nexport const makeVDateInputProps = propsFactory({\n  displayFormat: {\n    type: [Function, String] as PropType<string | ((date: unknown) => any)>,\n    default: undefined,\n  },\n  location: {\n    type: String as PropType<StrategyProps['location']>,\n    default: 'bottom start',\n  },\n  menu: Boolean,\n  updateOn: {\n    type: Array as PropType<('blur' | 'enter')[]>,\n    default: () => ['blur', 'enter'],\n  },\n\n  ...makeDateFormatProps(),\n  ...makeDisplayProps({\n    mobile: null,\n  }),\n  ...makeFocusProps(),\n  ...makeVConfirmEditProps({\n    hideActions: true,\n  }),\n  ...makeVTextFieldProps({\n    prependIcon: '$calendar',\n  }),\n  ...omit(makeVDatePickerProps({\n    hideHeader: true,\n    showAdjacentMonths: true,\n  }), ['active', 'location', 'rounded']),\n}, 'VDateInput')\n\nexport const VDateInput = genericComponent<new <\n  T,\n  Multiple extends boolean | 'range' | number | (string & {}) = false,\n  TModel = Multiple extends true | number | string\n    ? T[]\n    : T,\n> (\n  props: {\n    modelValue?: TModel\n    onSave?: (value: TModel) => void\n    'onUpdate:modelValue'?: (value: TModel) => void\n    multiple?: Multiple\n  },\n  slots: VDateInputSlots\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VDateInput',\n\n  props: makeVDateInputProps(),\n\n  emits: {\n    save: (value: unknown) => true,\n    cancel: () => true,\n    'update:focused': (val: boolean) => true,\n    'update:modelValue': (val: unknown) => true,\n    'update:menu': (val: boolean) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { t, current: currentLocale } = useLocale()\n    const adapter = useDate()\n    const { isValid, parseDate, formatDate, parserFormat } = useDateFormat(props, currentLocale)\n    const { mobile } = useDisplay(props)\n\n    const emptyModelValue = () => props.multiple ? [] : null\n\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      emptyModelValue(),\n      val => Array.isArray(val) ? val.map(item => adapter.toJsDate(item)) : val ? adapter.toJsDate(val) : val,\n      val => Array.isArray(val) ? val.map(item => adapter.date(item)) : val ? adapter.date(val) : val\n    )\n\n    const menu = useProxiedModel(props, 'menu')\n    const isEditingInput = shallowRef(false)\n    const isFocused = shallowRef(props.focused)\n    const vTextFieldRef = ref<VTextField>()\n    const disabledActions = ref<typeof VConfirmEdit['props']['disabled']>(['save'])\n\n    function format (date: unknown) {\n      if (typeof props.displayFormat === 'function') {\n        return props.displayFormat(date)\n      }\n      if (props.displayFormat) {\n        return adapter.format(date, props.displayFormat ?? 'keyboardDate')\n      }\n      return formatDate(date)\n    }\n\n    const display = computed(() => {\n      const value = wrapInArray(model.value)\n\n      if (!value.length) return null\n\n      if (props.multiple === true) {\n        return t('$vuetify.datePicker.itemsSelected', value.length)\n      }\n\n      if (props.multiple === 'range') {\n        const start = value[0]\n        const end = value[value.length - 1]\n\n        if (!adapter.isValid(start) || !adapter.isValid(end)) return ''\n\n        return `${format(adapter.date(start))} - ${format(adapter.date(end))}`\n      }\n\n      return adapter.isValid(model.value) ? format(adapter.date(model.value)) : ''\n    })\n\n    const inputmode = computed(() => {\n      if (!mobile.value) return undefined\n      if (isEditingInput.value) return 'text'\n\n      return 'none'\n    })\n\n    const isInteractive = computed(() => !props.disabled && !props.readonly)\n\n    const isReadonly = computed(() => {\n      if (!props.updateOn.length) return true\n\n      return !(mobile.value && isEditingInput.value) && props.readonly\n    })\n\n    watch(menu, val => {\n      if (val) return\n\n      isEditingInput.value = false\n      disabledActions.value = ['save']\n    })\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key !== 'Enter') return\n\n      if (!menu.value || !isFocused.value) {\n        menu.value = true\n      }\n\n      if (props.updateOn.includes('enter')) {\n        onUserInput(e.target as HTMLInputElement)\n      }\n    }\n\n    function onClick (e: MouseEvent) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      if (menu.value && mobile.value) {\n        isEditingInput.value = true\n      } else {\n        menu.value = true\n      }\n    }\n\n    function onCancel () {\n      emit('cancel')\n      menu.value = false\n      isEditingInput.value = false\n    }\n\n    function onSave (value: string) {\n      emit('save', value)\n      menu.value = false\n    }\n\n    function onUpdateDisplayModel (value: unknown) {\n      if (value != null) return\n\n      model.value = emptyModelValue()\n    }\n\n    function onBlur (e: FocusEvent) {\n      if (props.updateOn.includes('blur')) {\n        onUserInput(e.target as HTMLInputElement)\n      }\n\n      // When in mobile mode and editing is done (due to keyboard dismissal), close the menu\n      if (mobile.value && isEditingInput.value && !isFocused.value) {\n        menu.value = false\n        isEditingInput.value = false\n      }\n    }\n\n    function onUserInput ({ value }: HTMLInputElement) {\n      if (!value.trim()) {\n        model.value = emptyModelValue()\n      } else if (!props.multiple) {\n        if (isValid(value)) {\n          model.value = parseDate(value)\n        }\n      } else {\n        const parts = value.trim().split(/\\D+-\\D+|[^\\d\\-/.]+/)\n        if (parts.every(isValid)) {\n          if (props.multiple === 'range') {\n            const [start, stop] = parts.map(parseDate).toSorted((a, b) => adapter.isAfter(a, b) ? 1 : -1)\n            model.value = createDateRange(adapter, start, stop)\n          } else {\n            model.value = parts.map(parseDate)\n          }\n        }\n      }\n    }\n\n    useRender(() => {\n      const confirmEditProps = VConfirmEdit.filterProps(props)\n      const datePickerProps = VDatePicker.filterProps(omit(props, ['active', 'location', 'rounded']))\n      const datePickerSlots = pick(slots, ['title', 'header', 'day', 'month', 'year'])\n      const textFieldProps = VTextField.filterProps(omit(props, ['placeholder']))\n\n      return (\n        <VTextField\n          ref={ vTextFieldRef }\n          { ...textFieldProps }\n          class={ props.class }\n          style={ props.style }\n          modelValue={ display.value }\n          inputmode={ inputmode.value }\n          placeholder={ props.placeholder ?? parserFormat.value }\n          readonly={ isReadonly.value }\n          onKeydown={ isInteractive.value ? onKeydown : undefined }\n          focused={ menu.value || isFocused.value }\n          onBlur={ onBlur }\n          validationValue={ model.value }\n          onClick:control={ isInteractive.value ? onClick : undefined }\n          onClick:prepend={ isInteractive.value ? onClick : undefined }\n          onUpdate:modelValue={ onUpdateDisplayModel }\n          onUpdate:focused={ event => isFocused.value = event }\n        >\n          {{\n            ...slots,\n            default: () => (\n              <>\n                <VMenu\n                  v-model={ menu.value }\n                  activator=\"parent\"\n                  minWidth=\"0\"\n                  eager={ isFocused.value }\n                  location={ props.location }\n                  closeOnContentClick={ false }\n                  openOnClick={ false }\n                >\n                  <VConfirmEdit\n                    { ...confirmEditProps }\n                    v-model={ model.value }\n                    disabled={ disabledActions.value }\n                    onSave={ onSave }\n                    onCancel={ onCancel }\n                  >\n                    {{\n                      default: ({ actions, model: proxyModel, save, cancel, isPristine }) => {\n                        function onUpdateModel (value: string) {\n                          if (!props.hideActions) {\n                            proxyModel.value = value\n                          } else {\n                            model.value = value\n\n                            if (!props.multiple) {\n                              menu.value = false\n                            }\n                          }\n\n                          emit('save', value)\n\n                          disabledActions.value = []\n                        }\n\n                        return (\n                          <VDatePicker\n                            { ...datePickerProps }\n                            modelValue={ props.hideActions ? model.value : proxyModel.value }\n                            onUpdate:modelValue={ value => onUpdateModel(value) }\n                            onMousedown={ (e: MouseEvent) => e.preventDefault() }\n                          >\n                            {{\n                              ...datePickerSlots,\n                              actions: !props.hideActions ? () => slots.actions?.({ save, cancel, isPristine }) ?? actions() : undefined,\n                            }}\n                          </VDatePicker>\n                        )\n                      },\n                    }}\n                  </VConfirmEdit>\n                </VMenu>\n\n                { slots.default?.() }\n              </>\n            ),\n          }}\n        </VTextField>\n      )\n    })\n\n    return forwardRefs({}, vTextFieldRef)\n  },\n})\n\nexport type VDateInput = InstanceType<typeof VDateInput>\n", "// Styles\nimport './VFileUpload.sass'\n\n// Components\nimport { VFileUploadItem } from './VFileUploadItem'\nimport { VBtn } from '@/components/VBtn/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider/VDefaultsProvider'\nimport { makeVDividerProps, VDivider } from '@/components/VDivider/VDivider'\nimport { VIcon } from '@/components/VIcon/VIcon'\nimport { VOverlay } from '@/components/VOverlay/VOverlay'\nimport { makeVSheetProps, VSheet } from '@/components/VSheet/VSheet'\n\n// Composables\nimport { makeDelayProps } from '@/composables/delay'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { useFileDrop } from '@/composables/fileDrop'\nimport { makeFileFilterProps, useFileFilter } from '@/composables/fileFilter'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { ref, shallowRef } from 'vue'\nimport { filterInputAttrs, genericComponent, pick, propsFactory, useRender, wrapInArray } from '@/util'\n\n// Types\nimport type { PropType, VNode } from 'vue'\n\nexport type VFileUploadSlots = {\n  browse: {\n    props: { onClick: (e: MouseEvent) => void }\n  }\n  default: never\n  icon: never\n  input: {\n    inputNode: VNode\n  }\n  item: {\n    file: File\n    props: { 'onClick:remove': () => void }\n  }\n  title: never\n  divider: never\n}\n\nexport const makeVFileUploadProps = propsFactory({\n  browseText: {\n    type: String,\n    default: '$vuetify.fileUpload.browse',\n  },\n  dividerText: {\n    type: String,\n    default: '$vuetify.fileUpload.divider',\n  },\n  title: {\n    type: String,\n    default: '$vuetify.fileUpload.title',\n  },\n  subtitle: String,\n  icon: {\n    type: IconValue,\n    default: '$upload',\n  },\n  modelValue: {\n    type: [Array, Object] as PropType<File[] | File>,\n    default: null,\n    validator: (val: any) => {\n      return wrapInArray(val).every(v => v != null && typeof v === 'object')\n    },\n  },\n  clearable: Boolean,\n  disabled: Boolean,\n  hideBrowse: Boolean,\n  multiple: Boolean,\n  scrim: {\n    type: [Boolean, String],\n    default: true,\n  },\n  showSize: Boolean,\n  name: String,\n\n  ...makeFileFilterProps(),\n  ...makeDelayProps(),\n  ...makeDensityProps(),\n  ...pick(makeVDividerProps({\n    length: 150,\n  }), ['length', 'thickness', 'opacity']),\n  ...makeVSheetProps(),\n}, 'VFileUpload')\n\nexport const VFileUpload = genericComponent<VFileUploadSlots>()({\n  name: 'VFileUpload',\n\n  inheritAttrs: false,\n\n  props: makeVFileUploadProps(),\n\n  emits: {\n    'update:modelValue': (files: File[]) => true,\n    rejected: (files: File[]) => true,\n  },\n\n  setup (props, { attrs, emit, slots }) {\n    const { t } = useLocale()\n    const { densityClasses } = useDensity(props)\n    const { filterAccepted } = useFileFilter(props)\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      props.modelValue,\n      val => wrapInArray(val),\n      val => (props.multiple || Array.isArray(props.modelValue)) ? val : val[0],\n    )\n\n    const isDragging = shallowRef(false)\n    const vSheetRef = ref<InstanceType<typeof VSheet> | null>(null)\n    const inputRef = ref<HTMLInputElement | null>(null)\n    const { handleDrop } = useFileDrop()\n\n    function onDragover (e: DragEvent) {\n      e.preventDefault()\n      e.stopImmediatePropagation()\n      isDragging.value = true\n    }\n\n    function onDragleave (e: DragEvent) {\n      e.preventDefault()\n      isDragging.value = false\n    }\n\n    async function onDrop (e: DragEvent) {\n      e.preventDefault()\n      e.stopImmediatePropagation()\n      isDragging.value = false\n\n      if (!inputRef.value) return\n\n      const allDroppedFiles = await handleDrop(e)\n      selectAccepted(allDroppedFiles)\n    }\n\n    function onFileSelection (e: Event) {\n      if (!e.target || (e as any).repack) return // prevent loop\n\n      if (!props.filterByType) {\n        const target = e.target as HTMLInputElement\n        model.value = [...target.files ?? []]\n      } else {\n        selectAccepted([...(e as any).target.files])\n      }\n    }\n\n    function selectAccepted (files: File[]) {\n      const dataTransfer = new DataTransfer()\n      const { accepted, rejected } = filterAccepted(files)\n\n      if (rejected.length) {\n        emit('rejected', rejected)\n      }\n\n      for (const file of accepted) {\n        dataTransfer.items.add(file)\n      }\n\n      inputRef.value!.files = dataTransfer.files\n      model.value = [...dataTransfer.files]\n\n      const event = new Event('change', { bubbles: true }) as any\n      event.repack = true\n      inputRef.value!.dispatchEvent(event)\n    }\n\n    function onClick () {\n      inputRef.value?.click()\n    }\n\n    function onClickRemove (index: number) {\n      const newValue = model.value.filter((_, i) => i !== index)\n      model.value = newValue\n\n      if (newValue.length > 0 || !inputRef.value) return\n\n      inputRef.value.value = ''\n    }\n\n    useRender(() => {\n      const hasTitle = !!(slots.title || props.title)\n      const hasIcon = !!(slots.icon || props.icon)\n      const hasBrowse = !!(!props.hideBrowse && (slots.browse || props.density === 'default'))\n      const cardProps = VSheet.filterProps(props)\n      const dividerProps = VDivider.filterProps(props)\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs)\n\n      const expectsDirectory = attrs.webkitdirectory !== undefined && attrs.webkitdirectory !== false\n      const acceptFallback = attrs.accept ? String(attrs.accept) : undefined\n      const inputAccept = expectsDirectory ? undefined : (props.filterByType ?? acceptFallback)\n\n      const inputNode = (\n        <input\n          ref={ inputRef }\n          type=\"file\"\n          accept={ inputAccept }\n          disabled={ props.disabled }\n          multiple={ props.multiple }\n          name={ props.name }\n          onChange={ onFileSelection }\n          { ...inputAttrs }\n        />\n      )\n\n      return (\n        <>\n          <VSheet\n            ref={ vSheetRef }\n            { ...cardProps }\n            class={[\n              'v-file-upload',\n              {\n                'v-file-upload--clickable': !hasBrowse,\n                'v-file-upload--disabled': props.disabled,\n                'v-file-upload--dragging': isDragging.value,\n              },\n              densityClasses.value,\n              props.class,\n            ]}\n            style={[\n              props.style,\n            ]}\n            onDragleave={ onDragleave }\n            onDragover={ onDragover }\n            onDrop={ onDrop }\n            onClick={ !hasBrowse ? onClick : undefined }\n            { ...rootAttrs }\n          >\n            { hasIcon && (\n              <div key=\"icon\" class=\"v-file-upload-icon\">\n                { !slots.icon ? (\n                  <VIcon\n                    key=\"icon-icon\"\n                    icon={ props.icon }\n                  />\n                ) : (\n                  <VDefaultsProvider\n                    key=\"icon-defaults\"\n                    defaults={{\n                      VIcon: {\n                        icon: props.icon,\n                      },\n                    }}\n                  >\n                    { slots.icon() }\n                  </VDefaultsProvider>\n                )}\n              </div>\n            )}\n\n            { hasTitle && (\n              <div key=\"title\" class=\"v-file-upload-title\">\n                { slots.title?.() ?? t(props.title) }\n              </div>\n            )}\n\n            { props.density === 'default' && (\n              <>\n                <div key=\"upload-divider\" class=\"v-file-upload-divider\">\n                  { slots.divider?.() ?? (\n                    <VDivider { ...dividerProps }>\n                      { t(props.dividerText) }\n                    </VDivider>\n                  )}\n                </div>\n\n                { hasBrowse && (\n                  <>\n                    { !slots.browse ? (\n                      <VBtn\n                        readonly={ props.disabled }\n                        size=\"large\"\n                        text={ t(props.browseText) }\n                        variant=\"tonal\"\n                        onClick={ onClick }\n                      />\n                    ) : (\n                      <VDefaultsProvider\n                        defaults={{\n                          VBtn: {\n                            readonly: props.disabled,\n                            size: 'large',\n                            text: t(props.browseText),\n                            variant: 'tonal',\n                          },\n                        }}\n                      >\n                        { slots.browse({ props: { onClick } }) }\n                      </VDefaultsProvider>\n                    )}\n                  </>\n                )}\n\n                { props.subtitle && (\n                  <div class=\"v-file-upload-subtitle\">\n                    { props.subtitle }\n                  </div>\n                )}\n              </>\n            )}\n\n            <VOverlay\n              modelValue={ isDragging.value }\n              contained\n              scrim={ props.scrim }\n            />\n\n            { slots.input?.({ inputNode }) ?? inputNode }\n          </VSheet>\n\n          { model.value.length > 0 && (\n            <div class=\"v-file-upload-items\">\n              { model.value.map((file, i) => {\n                const slotProps = {\n                  file,\n                  props: {\n                    'onClick:remove': () => onClickRemove(i),\n                  },\n                }\n\n                return (\n                  <VDefaultsProvider\n                    key={ i }\n                    defaults={{\n                      VFileUploadItem: {\n                        file,\n                        clearable: props.clearable,\n                        disabled: props.disabled,\n                        showSize: props.showSize,\n                      },\n                    }}\n                  >\n                    { slots.item?.(slotProps) ?? (\n                      <VFileUploadItem\n                        key={ i }\n                        onClick:remove={ () => onClickRemove(i) }\n                        v-slots={ slots }\n                      />\n                    )}\n                  </VDefaultsProvider>\n                )\n              })}\n            </div>\n          )}\n        </>\n      )\n    })\n  },\n})\n\nexport type VFileUpload = InstanceType<typeof VFileUpload>\n", "// Components\nimport { VAvatar } from '@/components/VAvatar/VAvatar'\nimport { VBtn } from '@/components/VBtn/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider/VDefaultsProvider'\nimport { makeVListItemProps, VListItem } from '@/components/VList/VListItem'\n\n// Utilities\nimport { computed, ref, watchEffect } from 'vue'\nimport { genericComponent, humanReadableFileSize, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VListItemSlots } from '@/components/VList/VListItem'\n\nexport type VFileUploadItemSlots = {\n  clear: {\n    props: { onClick: () => void }\n  }\n} & VListItemSlots\n\nexport const makeVFileUploadItemProps = propsFactory({\n  clearable: Boolean,\n  file: {\n    type: Object as PropType<File>,\n    default: null,\n  },\n  fileIcon: {\n    type: String,\n    // TODO: setup up a proper aliased icon\n    default: 'mdi-file-document',\n  },\n  showSize: Boolean,\n\n  ...makeVListItemProps({\n    border: true,\n    rounded: true,\n    lines: 'two' as const,\n  }),\n}, 'VFileUploadItem')\n\nexport const VFileUploadItem = genericComponent<VFileUploadItemSlots>()({\n  name: 'VFileUploadItem',\n\n  props: makeVFileUploadItemProps(),\n\n  emits: {\n    'click:remove': () => true,\n    click: (e: MouseEvent | KeyboardEvent) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const preview = ref()\n    const base = computed(() => typeof props.showSize !== 'boolean' ? props.showSize : undefined)\n\n    function onClickRemove () {\n      emit('click:remove')\n    }\n\n    watchEffect(() => {\n      preview.value = props.file?.type.startsWith('image') ? URL.createObjectURL(props.file) : undefined\n    })\n\n    useRender(() => {\n      const listItemProps = VListItem.filterProps(props)\n\n      return (\n        <VListItem\n          { ...listItemProps }\n          class={[\n            'v-file-upload-item',\n            props.class,\n          ]}\n          title={ props.title ?? props.file?.name }\n          subtitle={ props.showSize ? humanReadableFileSize(props.file?.size, base.value) : props.file?.type }\n          style={ props.style }\n        >\n          {{\n            ...slots,\n            title: slots.title ?? (() => props?.title ?? props.file?.name),\n            prepend: slotProps => (\n              <>\n                { !slots.prepend ? (\n                  <VAvatar\n                    icon={ props.fileIcon }\n                    image={ preview.value }\n                    rounded\n                  />\n                ) : (\n                  <VDefaultsProvider\n                    defaults={{\n                      VAvatar: {\n                        image: preview.value,\n                        icon: !preview.value ? props.fileIcon : undefined,\n                        rounded: true,\n                      },\n                    }}\n                  >\n                    { slots.prepend?.(slotProps) ?? (\n                      <VAvatar />\n                    )}\n                  </VDefaultsProvider>\n                )}\n              </>\n            ),\n            append: slotProps => (\n              <>\n                { props.clearable && (\n                  <>\n                    { !slots.clear ? (\n                      <VBtn\n                        icon=\"$clear\"\n                        density=\"comfortable\"\n                        variant=\"text\"\n                        onClick={ onClickRemove }\n                      />\n                    ) : (\n                      <VDefaultsProvider\n                        defaults={{\n                          VBtn: {\n                            icon: '$clear',\n                            density: 'comfortable',\n                            variant: 'text',\n                          },\n                        }}\n                      >\n                        { slots.clear?.({\n                          ...slotProps,\n                          props: { onClick: onClickRemove },\n                        }) ?? (<VBtn />)}\n                      </VDefaultsProvider>\n                    )}\n                  </>\n                )}\n\n                { slots.append?.(slotProps) }\n              </>\n            ),\n          }}\n        </VListItem>\n      )\n    })\n  },\n})\n\nexport type VFileUploadItem = InstanceType<typeof VFileUploadItem>\n", "// Components\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { isMaskDelimiter, makeMaskProps, useMask } from '@/composables/mask'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, onBeforeMount, ref, shallowRef, toRef } from 'vue'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VTextFieldSlots } from '@/components/VTextField/VTextField'\n\nexport type VMaskInputSlots = VTextFieldSlots\n\nexport const makeVMaskInputProps = propsFactory({\n  returnMaskedValue: Boolean,\n  ...makeVTextFieldProps(),\n  ...makeMaskProps(),\n}, 'VMaskInput')\n\nexport const VMaskInput = genericComponent<VMaskInputSlots>()({\n  name: 'VMaskInput',\n\n  props: makeVMaskInputProps(),\n\n  emits: {\n    'update:modelValue': (val: string) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const vTextFieldRef = ref<VTextField>()\n\n    const inputAction = shallowRef()\n    const caretPosition = shallowRef(0)\n\n    const mask = useMask(props)\n    const returnMaskedValue = computed(() => props.mask && props.returnMaskedValue)\n\n    const model = useProxiedModel(\n      props,\n      'modelValue',\n      undefined,\n      // Always display masked value in input when mask is applied\n      val => props.mask ? mask.mask(mask.unmask(val)) : val,\n      val => {\n        if (props.mask) {\n          const valueWithoutDelimiters = removeMaskDelimiters(val)\n\n          // E.g. mask is #-# and the input value is '2-23'\n          // model-value should be enforced to '2-2'\n          const newMaskedValue = mask.mask(valueWithoutDelimiters)\n          const newUnmaskedValue = mask.unmask(newMaskedValue)\n\n          const newCaretPosition = getNewCaretPosition({\n            oldValue: model.value,\n            newValue: newMaskedValue,\n            oldCaret: caretPosition.value,\n          })\n\n          vTextFieldRef.value!.value = newMaskedValue\n          vTextFieldRef.value!.setSelectionRange(newCaretPosition, newCaretPosition)\n\n          return returnMaskedValue.value ? mask.mask(newUnmaskedValue) : newUnmaskedValue\n        }\n        return val\n      },\n    )\n\n    const validationValue = toRef(() => returnMaskedValue.value ? model.value : mask.unmask(model.value))\n\n    function removeMaskDelimiters (val: string): string {\n      return val.split('').filter(ch => !isMaskDelimiter(ch)).join('')\n    }\n\n    function getNewCaretPosition ({\n      oldValue,\n      newValue,\n      oldCaret,\n    }: {\n      oldValue: string\n      newValue: string\n      oldCaret: number\n    }): number {\n      if (!newValue) return 0\n      if (!oldValue) return newValue.length\n\n      let newCaret: number\n\n      if (inputAction.value === 'Backspace') {\n        newCaret = oldCaret - 1\n        while (newCaret > 0 && isMaskDelimiter(newValue[newCaret - 1])) newCaret--\n      } else if (inputAction.value === 'Delete') {\n        newCaret = oldCaret\n      } else { // insertion\n        newCaret = oldCaret + 1\n        while (isMaskDelimiter(newValue[newCaret])) newCaret++\n        if (isMaskDelimiter(newValue[oldCaret])) newCaret++\n      }\n\n      return newCaret\n    }\n\n    onBeforeMount(() => {\n      if (props.returnMaskedValue) {\n        emit('update:modelValue', model.value)\n      }\n    })\n\n    function onKeyDown (e: KeyboardEvent) {\n      if (e.metaKey) return\n\n      const inputElement = e.target as HTMLInputElement\n\n      caretPosition.value = inputElement.selectionStart || 0\n      inputAction.value = e.key\n\n      const hasSelection = inputElement.selectionStart !== inputElement.selectionEnd\n      if (e.key === 'Backspace' && hasSelection) {\n        e.preventDefault()\n        deleteSelection(e)\n      }\n    }\n\n    async function onCut (e: Event) {\n      e.preventDefault()\n\n      copySelectionToClipboard(e)\n      deleteSelection(e)\n    }\n\n    async function onPaste (e: ClipboardEvent) {\n      e.preventDefault()\n\n      const inputElement = e.target as HTMLInputElement\n      const pastedString = removeMaskDelimiters(e.clipboardData?.getData('text') || '')\n\n      if (!pastedString) return\n\n      const pastedCharacters = [...pastedString]\n\n      const hasSelection = inputElement.selectionStart !== inputElement.selectionEnd\n\n      if (hasSelection) {\n        replaceSelection(inputElement, pastedCharacters)\n      } else {\n        insertCharacters(inputElement, pastedCharacters)\n      }\n    }\n\n    function copySelectionToClipboard (e: Event) {\n      const inputElement = e.target as HTMLInputElement\n      const start = inputElement.selectionStart || 0\n      const end = inputElement.selectionEnd || 0\n      const selectedText = inputElement.value.substring(start, end)\n      navigator.clipboard.writeText(selectedText)\n    }\n\n    async function deleteSelection (e: Event) {\n      const inputElement = e.target as HTMLInputElement\n      const curStart = inputElement.selectionStart || 0\n      caretPosition.value = inputElement.selectionEnd || 0\n\n      while (caretPosition.value > curStart) {\n        const success = await simulateBackspace(inputElement)\n        if (!success) break\n      }\n    }\n\n    async function simulateBackspace (inputElement: HTMLInputElement) {\n      inputAction.value = 'Backspace'\n      model.value = inputElement.value.slice(0, caretPosition.value - 1) + inputElement.value.slice(caretPosition.value)\n      inputAction.value = ''\n      if (caretPosition.value === inputElement.selectionEnd) return false\n      caretPosition.value = inputElement.selectionEnd || 0\n      await nextTick()\n      return true\n    }\n\n    async function insertCharacters (inputElement: HTMLInputElement, pastedCharacters: string[]) {\n      for (let i = 0; i < pastedCharacters.length; i++) {\n        await insertCharacter(inputElement, pastedCharacters[i])\n      }\n    }\n\n    async function insertCharacter (inputElement: HTMLInputElement, character: string) {\n      caretPosition.value = inputElement.selectionEnd || 0\n      model.value = inputElement.value.slice(0, caretPosition.value) + character + inputElement.value.slice(caretPosition.value)\n      await nextTick()\n    }\n\n    async function replaceSelection (inputElement: HTMLInputElement, pastedCharacters: string[]) {\n      caretPosition.value = inputElement.selectionStart || 0\n      for (let i = 0; i < pastedCharacters.length; i++) {\n        await replaceCharacter(caretPosition.value, pastedCharacters[i])\n        caretPosition.value++\n      }\n    }\n\n    async function replaceCharacter (index: number, character: string) {\n      let targetIndex = index\n\n      // Find next non-delimiter position\n      while (targetIndex < model.value.length && isMaskDelimiter(model.value[targetIndex])) targetIndex++\n\n      model.value = model.value.slice(0, targetIndex) + character + model.value.slice(targetIndex + 1)\n      await nextTick()\n    }\n\n    useRender(() => {\n      const textFieldProps = VTextField.filterProps(props)\n\n      return (\n        <VTextField\n          { ...textFieldProps }\n          v-model={ model.value }\n          ref={ vTextFieldRef }\n          validationValue={ validationValue.value }\n          onCut={ onCut }\n          onPaste={ onPaste }\n          onKeydown={ onKeyDown }\n        >\n          {{ ...slots }}\n        </VTextField>\n      )\n    })\n\n    return forwardRefs({}, vTextFieldRef)\n  },\n})\n\nexport type VMaskInput = InstanceType<typeof VMaskInput>\n", "// Styles\nimport './VPie.sass'\n\n// Components\nimport { makeVPieSegmentProps, VPieSegment } from './VPieSegment'\nimport { VPieTooltip } from './VPieTooltip'\nimport { VAvatar } from '@/components/VAvatar'\nimport { VChip } from '@/components/VChip'\nimport { VChipGroup } from '@/components/VChipGroup'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\n\n// Composables\nimport { useColor } from '@/composables/color'\nimport { makeDensityProps } from '@/composables/density'\n\n// Directives\nimport vClickOutside from '@/directives/click-outside'\n\n// Utilities\nimport { computed, shallowRef, toRef, watch } from 'vue'\nimport { formatTextTemplate } from './utils'\nimport { convertToUnit, genericComponent, pick, propsFactory } from '@/util'\n\n// Types\nimport type { PropType, TransitionProps } from 'vue'\nimport type { PieItem, TextTemplate } from './types'\n\nexport type VPieSlots = {\n  center: { total: number }\n  legend: {\n    isActive: (item: PieItem) => boolean\n    toggle: (item: PieItem) => void\n    items: PieItem[]\n    total: number\n  }\n  'legend-text': {\n    item: PieItem\n    total: number\n  }\n  title: never\n  tooltip: {\n    item: PieItem\n    total: number\n  }\n}\n\nexport const makeVPieProps = propsFactory({\n  title: String,\n  bgColor: String,\n  items: {\n    type: Array as PropType<Record<string, any> | { color?: string, pattern?: string }[]>,\n    default: () => [],\n  },\n  palette: {\n    type: Array as PropType<({ color?: string, pattern?: string } | string)[]>,\n    default: () => [],\n  },\n  itemKey: {\n    type: String,\n    default: 'key',\n  },\n  itemValue: {\n    type: String,\n    default: 'value',\n  },\n  itemTitle: {\n    type: String,\n    default: 'title',\n  },\n  size: {\n    type: [Number, String],\n    default: 250,\n  },\n  rotate: [Number, String],\n  gaugeCut: [Number, String],\n  legend: {\n    type: [Boolean, Object] as PropType<boolean | {\n      position?: 'left' | 'top' | 'right' | 'bottom'\n      textFormat?: TextTemplate\n    }>,\n    default: false,\n  },\n  tooltip: {\n    type: [Boolean, Object] as PropType<boolean | {\n      titleFormat?: TextTemplate\n      subtitleFormat?: TextTemplate\n      avatarSize?: number\n      transition?: string | boolean | TransitionProps\n      offset?: number\n    }>,\n    default: false,\n  },\n\n  ...makeDensityProps(),\n  ...pick(makeVPieSegmentProps(), [\n    'animation',\n    'gap',\n    'rounded',\n    'innerCut',\n    'hoverScale',\n    'hideSlice',\n    'reveal',\n  ]),\n}, 'VPie')\n\nexport const VPie = genericComponent<VPieSlots>()({\n  name: 'VPie',\n\n  directives: { vClickOutside },\n\n  props: makeVPieProps(),\n\n  setup (props, { slots }) {\n    const legendConfig = computed(() => ({\n      visible: !!props.legend,\n      position: 'bottom',\n      textFormat: '[title]',\n      ...(typeof props.legend === 'object' ? props.legend : {}),\n    }))\n\n    const { colorClasses, colorStyles } = useColor(() => ({ background: props.bgColor }))\n    const textColorStyles = toRef(() => pick(colorStyles.value, ['color', 'caretColor']))\n\n    const legendAvatarSize = toRef(() => ({ default: 20, comfortable: 18, compact: 16 }[props.density ?? 'default']))\n    const legendDirection = toRef(() => ['left', 'right'].includes(legendConfig.value.position) ? 'vertical' : 'horizontal')\n\n    const legendMode = toRef(() => !legendConfig.value.visible ? 'hidden' : legendConfig.value.position)\n\n    const legendTextFormatFunction = toRef(() => (item: PieItem) => {\n      return typeof legendConfig.value.textFormat === 'function'\n        ? legendConfig.value.textFormat(item)\n        : formatTextTemplate(legendConfig.value.textFormat, item)\n    })\n\n    const arcs = computed<PieItem[]>(() => {\n      // hidden items get (value: 0) to trigger disappearing animation\n      return props.items\n        .filter(Boolean)\n        .map((item: any, index: number) => {\n          return {\n            key: item[props.itemKey],\n            color: item.color ?? colorFromPalette(index),\n            value: item[props.itemValue],\n            title: String(item[props.itemTitle]),\n            pattern: item.pattern ?? patternFromPalette(index),\n            raw: item,\n          } as PieItem\n        })\n    })\n\n    const visibleItemsKeys = shallowRef<PieItem['key'][]>([])\n\n    watch(() => arcs.value.length, () => {\n      // reset when number of items changes\n      visibleItemsKeys.value = arcs.value.map(a => a.key)\n    }, { immediate: true })\n\n    const visibleItems = computed(() => {\n      // hidden items get (value: 0) to trigger disappearing animation\n      return arcs.value.map(item => {\n        return isVisible(item)\n          ? item\n          : { ...item, value: 0 }\n      })\n    })\n\n    const total = computed(() => visibleItems.value.reduce((sum, item) => sum + item.value, 0))\n\n    const gaugeCut = toRef(() => Number(props.gaugeCut ?? 0))\n    const gaugeOffset = computed(() => (1 - Math.cos(Math.PI * Math.min(90, gaugeCut.value / 2) / 180)) / 2)\n    const rotateDeg = computed(() => `${gaugeCut.value ? (180 + gaugeCut.value / 2) : (props.rotate ?? 0)}deg`)\n\n    function arcOffset (index: number) {\n      return visibleItems.value\n        .slice(0, index)\n        .reduce((acc, s) => acc + (total.value > 0 ? s.value / total.value : 0) * (360 - gaugeCut.value), 0)\n    }\n\n    function arcSize (v: number) { return v / total.value * (100 - gaugeCut.value / 3.6) }\n\n    function colorFromPalette (index: number) {\n      if (props.palette.length === 0) return undefined\n      const paletteItem = props.palette[index % props.palette.length]\n      return typeof paletteItem === 'object' ? paletteItem.color : paletteItem\n    }\n\n    function patternFromPalette (index: number) {\n      if (props.palette.length === 0) return undefined\n      const paletteItem = props.palette[index % props.palette.length]\n      return typeof paletteItem === 'object' ? paletteItem.pattern : undefined\n    }\n\n    function isVisible (item: PieItem) {\n      return visibleItemsKeys.value.includes(item.key)\n    }\n\n    function toggle (item: PieItem) {\n      if (isVisible(item)) {\n        visibleItemsKeys.value = visibleItemsKeys.value.filter(x => x !== item.key)\n      } else {\n        visibleItemsKeys.value = [...visibleItemsKeys.value, item.key]\n      }\n    }\n\n    const tooltipItem = shallowRef<PieItem | null>(null)\n    const tooltipVisible = shallowRef(false)\n    const tooltipTarget = shallowRef<[x: number, y: number]>([0, 0])\n\n    let mouseLeaveTimeout = null! as ReturnType<typeof setTimeout>\n\n    function setItemActive (item: PieItem, active: boolean) {\n      arcs.value.forEach(a => a.isActive = a.key === item.key && active)\n\n      if (props.tooltip) {\n        setTooltip(item, active)\n      }\n    }\n\n    function setTooltip (item: PieItem, active: boolean) {\n      clearTimeout(mouseLeaveTimeout)\n\n      if (active) {\n        tooltipVisible.value = true\n        tooltipItem.value = item\n      } else {\n        mouseLeaveTimeout = setTimeout(() => {\n          tooltipVisible.value = false\n\n          // intentionally reusing timeout here\n          mouseLeaveTimeout = setTimeout(() => {\n            tooltipItem.value = null\n          }, 500)\n        }, 100)\n      }\n    }\n\n    let frame = -1\n    function onSvgMousemove ({ clientX, clientY }: MouseEvent) {\n      cancelAnimationFrame(frame)\n      frame = requestAnimationFrame(() => {\n        tooltipTarget.value = [clientX, clientY]\n      })\n    }\n\n    function onSvgTouchstart ({ touches }: TouchEvent) {\n      if (!touches) return\n      const { clientX, clientY } = touches[0]\n      tooltipTarget.value = [clientX, clientY]\n    }\n\n    function onSvgClickOutside () {\n      arcs.value.forEach(a => a.isActive = false)\n      tooltipVisible.value = false\n    }\n\n    return () => {\n      const segmentProps = pick(props, [\n        'animation',\n        'gap',\n        'rounded',\n        'hideSlice',\n        'reveal',\n        'innerCut',\n        'hoverScale',\n      ])\n\n      const defaultTooltipTransition = {\n        name: 'fade-transition',\n        duration: 150,\n      }\n\n      const tooltipProps = {\n        item: tooltipItem.value,\n        modelValue: tooltipVisible.value,\n        titleFormat: typeof props.tooltip === 'object' ? props.tooltip.titleFormat : '[title]',\n        subtitleFormat: typeof props.tooltip === 'object' ? props.tooltip.subtitleFormat : '[value]',\n        transition: typeof props.tooltip === 'object' ? props.tooltip.transition : defaultTooltipTransition,\n        offset: typeof props.tooltip === 'object' ? props.tooltip.offset : 16,\n        target: tooltipTarget.value,\n      }\n\n      const legendDefaults = {\n        VChipGroup: {\n          direction: legendDirection.value,\n        },\n        VChip: {\n          density: props.density,\n        },\n        VAvatar: {\n          size: legendAvatarSize.value,\n        },\n      }\n\n      const tooltipDefaults = {\n        VAvatar: {\n          size: typeof props.tooltip === 'object' ? props.tooltip.avatarSize : 28,\n        },\n      }\n\n      const avatarSlot = ({ item }: { item: PieItem }) => (\n        <VAvatar color={ item.color } start>\n          { item.pattern && (\n            <svg height=\"40\" width=\"40\">\n              <rect width=\"40\" height=\"40\" fill={ item.pattern } />\n            </svg>\n          )}\n        </VAvatar>\n      )\n\n      return (\n        <div\n          class={[\n            'v-pie',\n            `v-pie--legend-${legendMode.value}`,\n          ]}\n          style={{\n            '--v-pie-size': convertToUnit(props.size),\n          }}\n        >\n          { slots.title?.() ?? (props.title && (<div class=\"v-pie__title\">{ props.title }</div>)) }\n          <div\n            class={[\n              'v-pie__content',\n              colorClasses.value,\n            ]}\n            style={[\n              {\n                transform: `rotate(${rotateDeg.value})`,\n                marginBottom: `calc(-1 * ${convertToUnit(props.size)} * ${gaugeOffset.value})`,\n              },\n              textColorStyles.value,\n            ]}\n          >\n            <div\n              class={[\n                'v-pie__content-underlay',\n                colorClasses.value,\n              ]}\n              style={ colorStyles.value }\n            />\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 100 100\"\n              class=\"v-pie__segments\"\n              onMousemove={ onSvgMousemove }\n              onTouchstart={ onSvgTouchstart }\n              v-click-outside={{ handler: onSvgClickOutside }}\n            >\n              { arcs.value.map((item, index) => (\n                <VPieSegment\n                  { ...segmentProps }\n                  key={ item.key }\n                  active={ item.isActive }\n                  color={ item.color }\n                  value={ isVisible(item) ? arcSize(item.value) : 0 }\n                  rotate={ arcOffset(index) }\n                  pattern={ item.pattern }\n                  onUpdate:active={ val => setItemActive(item, val) }\n                  onTouchend={ () => setItemActive(item, true) }\n                />\n              ))}\n            </svg>\n\n            <div\n              class=\"v-pie__center-content\"\n              style={{\n                transform: `translate(-50%, -50%)\n                  rotate(-${rotateDeg.value})\n                  translateY(calc(-100% * ${gaugeOffset.value}))`,\n              }}\n            >\n              <div>\n                { slots.center?.({ total: total.value }) }\n              </div>\n            </div>\n          </div>\n\n          { legendConfig.value.visible && (\n            <VDefaultsProvider key=\"legend\" defaults={ legendDefaults }>\n              <div class=\"v-pie__legend\">\n                { slots.legend?.({ isActive: isVisible, toggle, items: arcs.value, total: total.value }) ?? (\n                  <VChipGroup\n                    column\n                    multiple\n                    v-model={ visibleItemsKeys.value }\n                  >\n                    { arcs.value.map(item => (\n                      <VChip\n                        value={ item.key }\n                        v-slots={{\n                          prepend: () => avatarSlot({ item }),\n                          default: () => (\n                            <div class=\"v-pie__legend__text\">\n                              { slots['legend-text']?.({ item, total: total.value }) ?? legendTextFormatFunction.value(item) }\n                            </div>\n                          ),\n                        }}\n                      />\n                    ))}\n                  </VChipGroup>\n                )}\n              </div>\n            </VDefaultsProvider>\n          )}\n          { !!props.tooltip && (\n            <VDefaultsProvider defaults={ tooltipDefaults }>\n              <VPieTooltip\n                { ...tooltipProps }\n                v-slots={{\n                  default: slots.tooltip ? slotProps => slots.tooltip?.({ ...slotProps, total: total.value }) : undefined,\n                  prepend: avatarSlot,\n                }}\n              />\n            </VDefaultsProvider>\n          )}\n        </div>\n      )\n    }\n  },\n})\n\nexport type VPie = InstanceType<typeof VPie>\n", "// Utilities\nimport { onMounted, shallowRef, toRef } from 'vue'\nimport { propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\n// Types\nexport interface RevealProps {\n  reveal: boolean | { duration?: number }\n}\n\n// Composables\nexport const makeRevealProps = propsFactory({\n  reveal: {\n    type: [Boolean, Object] as PropType<boolean | {\n      duration?: number\n    }>,\n    default: false,\n  },\n}, 'reveal')\n\nexport function useReveal (props: RevealProps) {\n  const defaultDuration = 900\n  const duration = toRef(() => typeof props.reveal === 'object'\n    ? Math.max(0, Number(props.reveal.duration ?? defaultDuration))\n    : defaultDuration\n  )\n\n  const state = shallowRef(props.reveal ? 'initial' : 'disabled')\n\n  onMounted(async () => {\n    if (props.reveal) {\n      state.value = 'initial'\n      await new Promise(resolve => requestAnimationFrame(resolve))\n      state.value = 'pending'\n      await new Promise(resolve => setTimeout(resolve, duration.value))\n      state.value = 'done'\n    }\n  })\n\n  return {\n    duration,\n    state,\n  }\n}\n", "/*\n * Credits: Alexander Milevski https://github.com/w8r/svg-arc-corners\n */\n\ntype Point = [x: number, y: number]\n\nfunction pointOnArc (center: Point, radius: number, angle: number) {\n  const radians = (angle - 90) * Math.PI / 180.0\n  return [center[0] + radius * Math.cos(radians), center[1] + radius * Math.sin(radians)]\n}\n\nfunction drawCircle ([x, y]: Point, r: number, width: number) {\n  const innerRadius = r - width\n  return [\n    'M', x - r, y,\n    'A', r, r, 0, 1, 0, x + r, y,\n    'A', r, r, 0, 1, 0, x - r, y,\n    'M', x - innerRadius, y,\n    'A', innerRadius, innerRadius, 0, 1, 0, x + innerRadius, y,\n    'A', innerRadius, innerRadius, 0, 1, 0, x - innerRadius, y,\n    'Z',\n  ]\n}\n\nexport function simpleArc (center: Point, r: number, startAngle: number, endAngle: number) {\n  const start = pointOnArc(center, r, startAngle)\n  const end = pointOnArc(center, r, endAngle)\n  const sweep = endAngle - startAngle > 180 ? 1 : 0\n\n  return [\n    `M${start[0]} ${start[1]}`,\n    `A${r} ${r} 0 ${sweep} 1 ${end[0]} ${end[1]}`,\n    `L${center[0]} ${center[1]}Z`,\n  ]\n    .join(' ')\n}\n\nexport function roundedArc (center: Point, radius: number, startAngle: number, endAngle: number, width: number, rounding: number): string {\n  width = Math.min(radius, width)\n\n  if (Math.abs(endAngle - startAngle) === 360) {\n    return drawCircle(center, radius, width).join(' ')\n  }\n\n  if (rounding === 0 && radius === width) {\n    return simpleArc(center, radius, startAngle, endAngle)\n  }\n\n  const innerR = radius - width\n  const circumference = Math.abs(endAngle - startAngle)\n  rounding = Math.min(width / 2, rounding)\n\n  if (360 * (rounding / (Math.PI * (radius - width))) > Math.abs(startAngle - endAngle)) {\n    rounding = circumference / 360 * innerR * Math.PI\n  }\n\n  // inner and outer radiuses\n  const innerR2 = innerR + rounding\n  const outerRadius = radius - rounding\n\n  // butts corner points\n  const oStart = pointOnArc(center, outerRadius, startAngle)\n  const oEnd = pointOnArc(center, outerRadius, endAngle)\n\n  const iStart = pointOnArc(center, innerR2, startAngle)\n  const iEnd = pointOnArc(center, innerR2, endAngle)\n\n  const iSection = innerR ? 360 * (rounding / (2 * Math.PI * innerR)) : 0\n  const oSection = 360 * (rounding / (2 * Math.PI * radius))\n\n  // arcs endpoints\n  const iArcStart = pointOnArc(center, innerR, startAngle + iSection)\n  const iArcEnd = pointOnArc(center, innerR, endAngle - iSection)\n\n  const oArcStart = pointOnArc(center, radius, startAngle + oSection)\n  const oArcEnd = pointOnArc(center, radius, endAngle - oSection)\n\n  const arcSweep1 = circumference > 180 + 2 * oSection ? 1 : 0\n  const arcSweep2 = circumference > 180 + 2 * iSection ? 1 : 0\n\n  return [\n    // begin path\n    'M', oStart[0], oStart[1],\n    // outer start corner\n    'A', rounding, rounding, 0, 0, 1, oArcStart[0], oArcStart[1],\n    // outer main arc\n    'A', radius, radius, 0, arcSweep1, 1, oArcEnd[0], oArcEnd[1],\n    // outer end corner\n    'A', rounding, rounding, 0, 0, 1, oEnd[0], oEnd[1],\n    // end butt\n    'L', iEnd[0], iEnd[1],\n    // inner end corner\n    'A', rounding, rounding, 0, 0, 1, iArcEnd[0], iArcEnd[1],\n    // inner arc\n    'A', innerR, innerR, 0, arcSweep2, 0, iArcStart[0], iArcStart[1],\n    // inner start corner\n    'A', rounding, rounding, 0, 0, 1, iStart[0], iStart[1], 'Z', // end path\n  ]\n    .join(' ')\n}\n", "// Utilities\nimport { computed, toRef, toValue } from 'vue'\nimport { clamp } from '@/util'\nimport { roundedArc, simpleArc } from '@/util/svg-arc-corners'\n\n// Types\nimport type { MaybeRefOrGetter, Ref } from 'vue'\nimport type { PieItem, PieSegmentProps } from './types'\n\nexport function formatTextTemplate (template: string, item?: PieItem) {\n  return item\n    ? template\n      .replaceAll('[title]', item.title)\n      .replaceAll('[value]', String(item.value))\n    : undefined\n}\n\nexport function usePieArc (props: PieSegmentProps, isHovering: Ref<boolean>) {\n  const hoverZoomRatio = toRef(() => clamp(Number(props.hoverScale ?? 0), 0, 0.25))\n  const normalizedValue = toRef(() => clamp(props.value - 100 * Number(props.gap ?? 0) / 360, 0.01, 99.99))\n  const normalizedInnerCut = toRef(() => {\n    const min = Number(props.rounded ?? 0) > 0 ? 0.2 : 0\n    return clamp(Number(props.innerCut ?? 0) / 100, min, 1)\n  })\n\n  const radians = computed(() => (360 * (-normalizedValue.value / 100) + 90) * (Math.PI / 180))\n  const arcWidth = computed(() => 50 * (1 - normalizedInnerCut.value) * (isHovering.value ? 1 : (1 - hoverZoomRatio.value)))\n\n  const outerX = toRef(() => 50 + 50 * Math.cos(radians.value))\n  const outerY = toRef(() => 50 - 50 * Math.sin(radians.value))\n\n  return {\n    hoverZoomRatio,\n    normalizedValue,\n    normalizedInnerCut,\n    outerX,\n    outerY,\n    arcWidth,\n  }\n}\n\nexport function useOuterSlicePath ({\n  angle,\n  radius,\n  size,\n  width,\n  rounded,\n}: {\n  angle: MaybeRefOrGetter<number>\n  radius: MaybeRefOrGetter<number>\n  size: MaybeRefOrGetter<number>\n  width: MaybeRefOrGetter<number>\n  rounded: MaybeRefOrGetter<number>\n}) {\n  return computed(() =>\n    roundedArc(\n      [50, 50],\n      toValue(radius),\n      toValue(angle),\n      toValue(angle) + 360 * toValue(size) / 100, // angle end,\n      toValue(width),\n      toValue(rounded),\n    )\n  )\n}\n\nexport function useInnerSlicePath ({\n  angle,\n  radius,\n  size,\n}: {\n  angle: MaybeRefOrGetter<number>\n  radius: MaybeRefOrGetter<number>\n  size: MaybeRefOrGetter<number>\n}) {\n  return computed(() =>\n    simpleArc(\n      [50, 50],\n      toValue(radius),\n      toValue(angle),\n      toValue(angle) + 360 * toValue(size) / 100, // angle end,\n    )\n  )\n}\n", "// Composables\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeRevealProps, useReveal } from '@/composables/reveal'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { useInnerSlicePath, useOuterSlicePath, usePieArc } from './utils'\nimport { easingPatterns, genericComponent, propsFactory, useTransition } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const makeVPieSegmentProps = propsFactory({\n  active: Boolean,\n  rotate: [Number, String],\n  value: {\n    type: Number,\n    default: 0,\n  },\n  color: String,\n  innerCut: [Number, String],\n  hoverScale: {\n    type: [Number, String],\n    default: 0.05,\n  },\n  gap: [Number, String],\n  rounded: [Number, String],\n  animation: {\n    type: [Boolean, Object] as PropType<boolean | {\n      duration?: number\n      easing?: keyof typeof easingPatterns\n    }>,\n    default: false,\n  },\n  pattern: String,\n  hideSlice: Boolean,\n  ...makeRevealProps(),\n}, 'VPieSegment')\n\nexport const VPieSegment = genericComponent()({\n  name: 'VPieSegment',\n\n  props: makeVPieSegmentProps(),\n\n  emits: {\n    'update:active': (val: boolean) => true,\n  },\n\n  setup (props) {\n    const isActive = useProxiedModel(props, 'active')\n\n    const { state: revealState, duration: revealDuration } = useReveal(props)\n\n    const transitionConfig = computed(() => {\n      const defaultEasing = 'easeInOutCubic'\n      const defaultDuration = 400\n\n      const easingName = typeof props.animation === 'object'\n        ? props.animation.easing ?? defaultEasing\n        : defaultEasing\n\n      return {\n        duration: ['initial', 'pending'].includes(revealState.value)\n          ? revealDuration.value\n          : typeof props.animation === 'object'\n            ? props.animation.duration\n            : (props.animation ? defaultDuration : 0),\n        transition: easingPatterns[easingName],\n      }\n    })\n\n    const {\n      hoverZoomRatio,\n      normalizedValue,\n      normalizedInnerCut,\n      outerX,\n      outerY,\n      arcWidth,\n    } = usePieArc(props, isActive)\n\n    const arcSize = toRef(() => revealState.value === 'initial' ? 0 : normalizedValue.value)\n    const currentArcSize = useTransition(arcSize, transitionConfig)\n\n    const angle = toRef(() => revealState.value === 'initial' ? 0 : (Number(props.rotate ?? 0) + Number(props.gap ?? 0) / 2))\n    const currentAngle = useTransition(angle, transitionConfig)\n\n    const arcRadius = toRef(() => 50 * (isActive.value ? 1 : (1 - hoverZoomRatio.value)))\n    const currentArcRadius = useTransition(arcRadius, transitionConfig)\n    const currentArcWidth = useTransition(arcWidth, transitionConfig)\n\n    const outerSlicePath = useOuterSlicePath({\n      angle: currentAngle,\n      radius: currentArcRadius,\n      size: currentArcSize,\n      width: currentArcWidth,\n      rounded: () => Number(props.rounded ?? 0),\n    })\n\n    const innerSlicePath = useInnerSlicePath({\n      angle: currentAngle,\n      radius: () => currentArcRadius.value - currentArcWidth.value,\n      size: currentArcSize,\n    })\n\n    const overlayPath = toRef(() => `M 50 0 A 50 50 0 ${normalizedValue.value > 50 ? 1 : 0} 1 ${outerX.value} ${outerY.value} L 50 50`)\n\n    return () => (\n      <g\n        class=\"v-pie-segment\"\n        style={{ color: props.color }}\n      >\n        <path\n          key=\"outer-slice\"\n          fill=\"currentColor\"\n          shape-rendering=\"geometricPrecision\"\n          d={ outerSlicePath.value }\n        />\n        { props.pattern && (\n          <path\n            key=\"pattern-overlay\"\n            shape-rendering=\"geometricPrecision\"\n            fill={ props.pattern }\n            d={ outerSlicePath.value }\n          />\n        )}\n        { !props.hideSlice && normalizedInnerCut.value > 0 && (\n          <path\n            key=\"inner-slice\"\n            fill=\"oklch(from currentColor l c h / calc(alpha / 2))\"\n            d={ innerSlicePath.value }\n          />\n        )}\n        {['disabled', 'done'].includes(revealState.value) && (\n          <path\n            transform={ `rotate(${currentAngle.value} 50 50)` }\n            class=\"v-pie-segment__overlay\"\n            d={ overlayPath.value }\n            onMouseenter={ () => isActive.value = true }\n            onMouseleave={ () => isActive.value = false }\n          />\n        )}\n      </g>\n    )\n  },\n})\n\nexport type VPieSegment = InstanceType<typeof VPieSegment>\n", "// Components\nimport { VListItem } from '@/components/VList/VListItem'\nimport { makeVTooltipProps, VTooltip } from '@/components/VTooltip/VTooltip'\n\n// Composables\nimport { makeTransitionProps, MaybeTransition } from '@/composables/transition'\n\n// Utilities\nimport { toRef } from 'vue'\nimport { formatTextTemplate } from './utils'\nimport { genericComponent, pick, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { PieItem, TextTemplate } from './types'\n\nexport type VPieTooltipSlots = {\n  default: { item: PieItem }\n  prepend: { item: PieItem }\n}\n\nexport const makeVPieTooltipProps = propsFactory({\n  modelValue: Boolean,\n  target: Object as PropType<[x: number, y: number]>,\n  item: {\n    type: Object as PropType<PieItem | null>,\n    default: null,\n  },\n  titleFormat: {\n    type: [String, Function] as PropType<TextTemplate>,\n    default: '[title]',\n  },\n  subtitleFormat: {\n    type: [String, Function] as PropType<TextTemplate>,\n    default: '[value]',\n  },\n  ...makeTransitionProps(),\n  ...pick(makeVTooltipProps(), ['offset']),\n}, 'VPieTooltip')\n\nexport const VPieTooltip = genericComponent<VPieTooltipSlots>()({\n  name: 'VPieTooltip',\n\n  props: makeVPieTooltipProps(),\n\n  setup (props, { slots }) {\n    const tooltipTitleFormatFunction = toRef(() => (segment: PieItem) => {\n      return typeof props.titleFormat === 'function'\n        ? props.titleFormat(segment)\n        : formatTextTemplate(props.titleFormat, segment)\n    })\n\n    const tooltipSubtitleFormatFunction = toRef(() => (segment: PieItem) => {\n      return typeof props.subtitleFormat === 'function'\n        ? props.subtitleFormat(segment)\n        : formatTextTemplate(props.subtitleFormat, segment)\n    })\n\n    return () => (\n      <VTooltip\n        offset={ props.offset }\n        modelValue={ props.modelValue }\n        target={ props.target }\n        contentClass=\"v-pie__tooltip-content\"\n      >\n        { !!props.item && (\n          slots.default?.({ item: props.item }) ?? (\n            <MaybeTransition transition={ props.transition } mode=\"out-in\">\n              <VListItem\n                key={ props.item.key }\n                density=\"compact\"\n                title={ tooltipTitleFormatFunction.value(props.item) }\n                subtitle={ tooltipSubtitleFormatFunction.value(props.item) }\n                v-slots={{\n                  prepend: slots.prepend\n                    ? () => slots.prepend!({ item: props.item! })\n                    : undefined,\n                }}\n              />\n            </MaybeTransition>\n          )\n        )}\n      </VTooltip>\n    )\n  },\n})\n\nexport type VPieTooltip = InstanceType<typeof VPieTooltip>\n", "// Styles\nimport './VStepperVerticalItem.sass'\n\n// Components\nimport { VStepperVerticalActions } from './VStepperVerticalActions'\nimport { VAvatar } from '@/components/VAvatar/VAvatar'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider/VDefaultsProvider'\nimport { makeVExpansionPanelProps, VExpansionPanel } from '@/components/VExpansionPanel/VExpansionPanel'\nimport { VIcon } from '@/components/VIcon/VIcon'\nimport { makeStepperItemProps } from '@/components/VStepper/VStepperItem'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { StepperItemSlot } from '@/components/VStepper/VStepperItem'\n\nexport type StepperVerticalItemActionSlot<T = any> = StepperItemSlot<T> & {\n  next: () => void\n  prev: () => void\n}\n\nexport type VStepperVerticalItemSlots<T = any> = {\n  default: StepperItemSlot<T>\n  icon: StepperItemSlot<T>\n  subtitle: StepperItemSlot<T>\n  title: StepperItemSlot<T>\n  text: StepperItemSlot<T>\n  prev: StepperVerticalItemActionSlot<T>\n  next: StepperVerticalItemActionSlot<T>\n  actions: StepperVerticalItemActionSlot<T>\n}\n\nexport const makeVStepperVerticalItemProps = propsFactory({\n  hideActions: Boolean,\n\n  ...makeStepperItemProps(),\n  ...omit(makeVExpansionPanelProps({\n    expandIcon: '',\n    collapseIcon: '',\n  }), ['hideActions']),\n}, 'VStepperVerticalItem')\n\nexport const VStepperVerticalItem = genericComponent<VStepperVerticalItemSlots>()({\n  name: 'VStepperVerticalItem',\n\n  props: makeVStepperVerticalItemProps(),\n\n  emits: {\n    'click:next': () => true,\n    'click:prev': () => true,\n    'click:finish': () => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const vExpansionPanelRef = ref<typeof VExpansionPanel>()\n    const step = computed(() => !isNaN(parseInt(props.value)) ? Number(props.value) : props.value)\n    const groupItem = computed(() => vExpansionPanelRef.value?.groupItem)\n    const isSelected = computed(() => groupItem.value?.isSelected.value ?? false)\n    const isValid = computed(() => isSelected.value ? props.rules.every(handler => handler() === true) : null)\n    const canEdit = computed(() => !props.disabled && props.editable)\n    const hasError = computed(() => props.error || (isSelected.value && !isValid.value))\n    const hasCompleted = computed(() => props.complete || (props.rules.length > 0 && isValid.value === true))\n\n    const disabled = computed(() => {\n      if (props.disabled) return props.disabled\n      if (groupItem.value?.isFirst.value) return 'prev'\n\n      return false\n    })\n    const icon = computed(() => {\n      if (hasError.value) return props.errorIcon\n      if (hasCompleted.value) return props.completeIcon\n      if (groupItem.value?.isSelected.value && props.editable) return props.editIcon\n\n      return props.icon\n    })\n\n    const slotProps = computed(() => ({\n      canEdit: canEdit.value,\n      hasError: hasError.value,\n      hasCompleted: hasCompleted.value,\n      title: props.title,\n      subtitle: props.subtitle,\n      step: step.value,\n    } satisfies StepperItemSlot))\n\n    const actionProps = computed(() => ({\n      ...slotProps.value,\n      prev: onClickPrev,\n      next: onClickNext,\n    } satisfies StepperVerticalItemActionSlot))\n\n    function onClickNext () {\n      emit('click:next')\n\n      if (groupItem.value?.isLast.value) return\n\n      groupItem.value.group.next()\n    }\n\n    function onClickPrev () {\n      emit('click:prev')\n\n      groupItem.value.group.prev()\n    }\n\n    useRender(() => {\n      const hasColor = (\n        hasCompleted.value ||\n        groupItem.value?.isSelected.value\n      ) && (\n        !hasError.value &&\n        !props.disabled\n      )\n\n      const hasActions = !props.hideActions || !!slots.actions\n      const expansionPanelProps = VExpansionPanel.filterProps(props)\n\n      return (\n        <VExpansionPanel\n          _as=\"VStepperVerticalItem\"\n          ref={ vExpansionPanelRef }\n          { ...expansionPanelProps }\n          class={[\n            'v-stepper-vertical-item',\n            {\n              'v-stepper-vertical-item--complete': hasCompleted.value,\n              'v-stepper-vertical-item--disabled': props.disabled,\n              'v-stepper-vertical-item--editable': canEdit.value,\n              'v-stepper-vertical-item--error': hasError.value,\n            },\n            props.class,\n          ]}\n          readonly={ !props.editable }\n          style={ props.style }\n          color=\"\"\n          hideActions={ false }\n          value={ step.value }\n        >\n          {{\n            title: () => (\n              <>\n                <VAvatar\n                  key=\"stepper-avatar\"\n                  class=\"v-stepper-vertical-item__avatar\"\n                  color={ hasColor ? props.color : undefined }\n                  size={ 24 }\n                  start\n                >\n                  { slots.icon?.(slotProps.value) ?? (\n                    icon.value ? (\n                      <VIcon icon={ icon.value }></VIcon>\n                    ) : step.value\n                  )}\n                </VAvatar>\n\n                <div>\n                  <div class=\"v-stepper-vertical-item__title\">\n                    { slots.title?.(slotProps.value) ?? props.title }\n                  </div>\n\n                  <div class=\"v-stepper-vertical-item__subtitle\">\n                    { slots.subtitle?.(slotProps.value) ?? props.subtitle }\n                  </div>\n                </div>\n              </>\n            ),\n            text: () => (\n              <>\n                { slots.default?.(slotProps.value) ?? props.text }\n\n                { hasActions && (\n                  <VDefaultsProvider\n                    defaults={{\n                      VStepperVerticalActions: {\n                        disabled: disabled.value,\n                        finish: groupItem.value?.isLast.value,\n                      },\n                    }}\n                  >\n                    { slots.actions?.(actionProps.value) ?? (\n                      <VStepperVerticalActions\n                        onClick:next={ onClickNext }\n                        onClick:prev={ onClickPrev }\n                        v-slots={{\n                          prev: slots.prev ? () => slots.prev?.(actionProps.value) : undefined,\n                          next: slots.next ? () => slots.next?.(actionProps.value) : undefined,\n                        }}\n                      />\n                    )}\n                  </VDefaultsProvider>\n                )}\n              </>\n            ),\n          }}\n        </VExpansionPanel>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperVerticalItem = InstanceType<typeof VStepperVerticalItem>\n", "// Components\nimport { makeVStepperActionsProps, VStepperActions } from '@/components/VStepper/VStepperActions'\n\n// Utilities\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VStepperActionsSlots } from '@/components/VStepper/VStepperActions'\n\nexport const makeVStepperVerticalActionsProps = propsFactory({\n  ...makeVStepperActionsProps(),\n}, 'VStepperActions')\n\nexport const VStepperVerticalActions = genericComponent<VStepperActionsSlots>()({\n  name: 'VStepperVerticalActions',\n\n  props: makeVStepperVerticalActionsProps(),\n\n  emits: {\n    'click:prev': () => true,\n    'click:next': () => true,\n  },\n\n  setup (props, { emit, slots }) {\n    function onClickPrev () {\n      emit('click:prev')\n    }\n\n    function onClickNext () {\n      emit('click:next')\n    }\n\n    useRender(() => {\n      const stepperActionsProps = VStepperActions.filterProps(props)\n\n      return (\n        <VStepperActions\n          class=\"v-stepper-vertical-actions\"\n          { ...stepperActionsProps }\n          onClick:prev={ onClickPrev }\n          onClick:next={ onClickNext }\n          v-slots={ slots }\n        />\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperVerticalActions = InstanceType<typeof VStepperVerticalActions>\n", "// Components\nimport { VStepperVerticalItem } from './VStepperVerticalItem'\nimport { makeVExpansionPanelsProps, VExpansionPanels } from '@/components/VExpansionPanel/VExpansionPanels'\nimport { makeStepperProps } from '@/components/VStepper/VStepper'\n\n// Composables\nimport { provideDefaults } from '@/composables/defaults'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref, toRefs } from 'vue'\nimport { genericComponent, getPropertyFromItem, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { StepperVerticalItemActionSlot } from './VStepperVerticalItem'\nimport type { VStepperSlot } from '@/components/VStepper/VStepper'\nimport type { StepperItemSlot } from '@/components/VStepper/VStepperItem'\nimport type { GenericProps } from '@/util'\n\nexport type VStepperVerticalSlots<T> = {\n  actions: StepperVerticalItemActionSlot<T>\n  default: VStepperSlot & { step: T }\n  icon: StepperItemSlot<T>\n  title: StepperItemSlot<T>\n  subtitle: StepperItemSlot<T>\n  prev: StepperVerticalItemActionSlot<T>\n  next: StepperVerticalItemActionSlot<T>\n} & {\n  [key: `header-item.${string}`]: StepperItemSlot<T>\n  [key: `item.${string}`]: StepperItemSlot<T>\n}\n\nexport const makeVStepperVerticalProps = propsFactory({\n  prevText: {\n    type: String,\n    default: '$vuetify.stepper.prev',\n  },\n  nextText: {\n    type: String,\n    default: '$vuetify.stepper.next',\n  },\n\n  ...makeStepperProps(),\n  ...omit(makeVExpansionPanelsProps({\n    mandatory: 'force' as const,\n    variant: 'accordion' as const,\n  }), ['static']),\n}, 'VStepperVertical')\n\nexport const VStepperVertical = genericComponent<new <T = number>(\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n  },\n  slots: VStepperVerticalSlots<T>,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VStepperVertical',\n\n  props: makeVStepperVerticalProps(),\n\n  emits: {\n    'update:modelValue': (val: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const vExpansionPanelsRef = ref<typeof VExpansionPanels>()\n    const { color, eager, editable, prevText, nextText, hideActions } = toRefs(props)\n\n    const model = useProxiedModel(props, 'modelValue')\n    const items = computed(() => props.items.map((item, index) => {\n      const title = getPropertyFromItem(item, props.itemTitle, item)\n      const value = getPropertyFromItem(item, props.itemValue, index + 1)\n\n      return {\n        title,\n        value,\n        raw: item,\n      }\n    }))\n\n    provideDefaults({\n      VStepperVerticalItem: {\n        color,\n        eager,\n        editable,\n        hideActions,\n        static: true,\n      },\n      VStepperVerticalActions: {\n        color,\n        nextText,\n        prevText,\n      },\n    })\n\n    useRender(() => {\n      const expansionPanelProps = VExpansionPanels.filterProps(props)\n\n      return (\n        <VExpansionPanels\n          { ...expansionPanelProps }\n          v-model={ model.value }\n          ref={ vExpansionPanelsRef }\n          class={[\n            'v-stepper',\n            {\n              'v-stepper--alt-labels': props.altLabels,\n              'v-stepper--flat': props.flat,\n              'v-stepper--non-linear': props.nonLinear,\n              'v-stepper--mobile': props.mobile,\n            },\n            props.class,\n          ]}\n          style={ props.style }\n        >\n          {{\n            ...slots,\n            default: ({ prev, next }) => {\n              return (\n                <>\n                  { items.value.map(({ raw, ...item }) => (\n                    <VStepperVerticalItem { ...item }>\n                      {{\n                        ...slots,\n                        default: slots[`item.${item.value}`],\n                      }}\n                    </VStepperVerticalItem>\n                  ))}\n\n                  { slots.default?.({ prev, next, step: model.value }) }\n                </>\n              )\n            },\n          }}\n        </VExpansionPanels>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperVertical = InstanceType<typeof VStepperVertical>\n", "// Styles\nimport './VPullToRefresh.sass'\n\n// Components\nimport { VIcon } from '@/components/VIcon'\nimport { VProgressCircular } from '@/components/VProgressCircular'\n\n// Utilities\nimport { computed, onMounted, ref, shallowRef, watch } from 'vue'\nimport { clamp, convertToUnit, genericComponent, getScrollParents, useRender } from '@/util'\n\nexport type VPullToRefreshSlots = {\n  default: never\n  pullDownPanel: {\n    canRefresh: boolean\n    goingUp: boolean\n    refreshing: boolean\n  }\n}\n\nexport const VPullToRefresh = genericComponent<VPullToRefreshSlots>()({\n  name: 'VPullToRefresh',\n\n  props: {\n    disabled: Boolean,\n    pullDownThreshold: {\n      type: Number,\n      default: 64,\n    },\n  },\n\n  emits: {\n    load: (options: { done: () => void }) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    let touchstartY = 0\n    let scrollParents: HTMLElement[] = []\n\n    const touchDiff = shallowRef(0)\n    const containerRef = ref<HTMLElement>()\n\n    const refreshing = shallowRef(false)\n    const goingUp = shallowRef(false)\n    const touching = shallowRef(false)\n\n    const canRefresh = computed(() => touchDiff.value >= props.pullDownThreshold && !refreshing.value)\n    const topOffset = computed(() => clamp(touchDiff.value, 0, props.pullDownThreshold))\n\n    function onTouchstart (e: TouchEvent | MouseEvent) {\n      if (refreshing.value || props.disabled) return\n      touching.value = true\n      touchstartY = 'clientY' in e ? e.clientY : e.touches[0].clientY\n    }\n\n    function onTouchmove (e: TouchEvent | MouseEvent) {\n      if (refreshing.value || !touching.value || props.disabled) return\n\n      const touchY = 'clientY' in e ? e.clientY : e.touches[0].clientY\n\n      if (scrollParents.length && !scrollParents[0].scrollTop) {\n        touchDiff.value = touchY - touchstartY\n      }\n    }\n\n    function onTouchend (e: TouchEvent | MouseEvent) {\n      if (refreshing.value || props.disabled) return\n      touching.value = false\n      if (canRefresh.value) {\n        function done () {\n          if (!refreshing.value) return\n          touchDiff.value = 0\n          refreshing.value = false\n        }\n        emit('load', { done })\n        refreshing.value = true\n      } else {\n        touchDiff.value = 0\n      }\n    }\n\n    onMounted(() => {\n      scrollParents = getScrollParents(containerRef.value)\n    })\n\n    watch([topOffset, refreshing], () => {\n      if (scrollParents.length) {\n        const stopScrolling = topOffset.value && !refreshing.value\n        scrollParents.forEach(p => p.style.overflow = stopScrolling ? 'hidden' : 'auto')\n      }\n    })\n\n    watch(topOffset, (newVal, oldVal) => {\n      goingUp.value = newVal < oldVal\n    })\n\n    useRender(() => {\n      return (\n        <div\n          class={[\n            'v-pull-to-refresh',\n          ]}\n          onTouchstart={ onTouchstart }\n          onTouchmove={ onTouchmove }\n          onTouchend={ onTouchend }\n          onMousedown={ onTouchstart }\n          onMouseup={ onTouchend }\n          onMouseleave={ onTouchend }\n          onMousemove={ onTouchmove }\n          ref={ containerRef }\n        >\n          <div\n            class={[\n              'v-pull-to-refresh__pull-down',\n              {\n                'v-pull-to-refresh__pull-down--touching': touching.value,\n              },\n            ]}\n            style={{\n              top: convertToUnit(-1 * props.pullDownThreshold + topOffset.value),\n              height: convertToUnit(props.pullDownThreshold),\n            }}\n          >\n            { slots.pullDownPanel\n              ? slots.pullDownPanel({\n                canRefresh: canRefresh.value,\n                goingUp: goingUp.value,\n                refreshing: refreshing.value,\n              }) : (\n                <div\n                  class={[\n                    'v-pull-to-refresh__pull-down-default',\n                  ]}\n                >\n                  {\n                    refreshing.value ? (\n                      <VProgressCircular\n                        indeterminate\n                        active={ false }\n                      />\n                    ) : (\n                      <VIcon\n                        icon={ canRefresh.value || goingUp.value ? '$sortAsc' : '$sortDesc' }\n                      />\n                    )\n                  }\n                </div>\n              )\n            }\n          </div>\n          <div\n            class={[\n              'v-pull-to-refresh__scroll-container',\n              {\n                'v-pull-to-refresh__scroll-container--touching': touching.value,\n              },\n            ]}\n            style={{ top: convertToUnit(topOffset.value) }}\n          >\n            { slots.default?.() }\n          </div>\n        </div>\n      )\n    })\n  },\n})\n\nexport type VPullToRefresh = InstanceType<typeof VPullToRefresh>\n", "/**\n * VHotkey Component\n *\n * Purpose: Renders keyboard shortcuts in a visually consistent and accessible way.\n * This component handles the complex logic of displaying keyboard combinations\n * across different platforms (Mac vs PC) and display modes (icons, symbols, text).\n *\n * Why it exists:\n * - Provides consistent visual representation of keyboard shortcuts\n * - Handles platform-specific key differences (Cmd vs Ctrl, Option vs Alt)\n * - Supports multiple display modes for different design needs\n * - Encapsulates complex key parsing and rendering logic\n * - Used throughout the command palette for instruction display\n *\n * Key Mapping Structure:\n * The keyMap uses a simple object structure where each key has:\n * - `default`: Required configuration for all platforms\n * - `mac`: Optional Mac-specific overrides\n * Each config can specify `symbol`, `icon`, and `text` representations.\n *\n * Example:\n * ```\n * ctrl: {\n *   mac: { symbol: '', icon: '$ctrl', text: 'Control' },\n *   default: { text: 'Ctrl', icon: '$ctrl' }\n * }\n * ```\n */\n\n// Styles\nimport './VHotkey.scss'\n\n// Components\nimport { VIcon } from '@/components/VIcon'\nimport { VKbd } from '@/components/VKbd'\n\n// Composables\nimport { makeBorderProps, useBorder } from '@/composables/border'\nimport { makeComponentProps } from '@/composables/component'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { splitKeyCombination, splitKeySequence } from '@/composables/hotkey/hotkey-parsing'\nimport { useLocale, useRtl } from '@/composables/locale'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useVariant } from '@/composables/variant'\n\n// Utilities\nimport { computed } from 'vue'\nimport { genericComponent, mergeDeep, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { IconValue } from '@/composables/icons'\nimport type { Variant } from '@/composables/variant'\n\n// Display mode types for different visual representations\ntype DisplayMode = 'icon' | 'symbol' | 'text'\n\n// Extended variant type that includes our custom 'contained' variant\ntype HotkeyVariant = 'elevated' | 'flat' | 'tonal' | 'outlined' | 'text' | 'plain' | 'contained'\n\n// Key display tuple: [mode, content] where content is string or IconValue\ntype KeyDisplay = [Exclude<DisplayMode, 'icon'>, string] | [Extract<DisplayMode, 'icon'>, IconValue]\n\n// Key tuple: [mode, content] where content is string or IconValue\ntype Key = [Exclude<DisplayMode, 'icon'>, string, string] | [Extract<DisplayMode, 'icon'>, IconValue, string]\n\ntype KeyConfig = {\n  symbol?: string\n  icon?: string\n  text: string\n}\n\ntype PlatformKeyConfig = {\n  mac?: KeyConfig\n  default: KeyConfig\n}\n\ntype KeyMapConfig = Record<string, PlatformKeyConfig>\n\nfunction processKey (config: PlatformKeyConfig, requestedMode: DisplayMode, isMac: boolean): KeyDisplay {\n  const keyCfg = (isMac && config.mac) ? config.mac : config.default\n\n  // 1. Resolve the safest display mode for the current platform\n  const mode: DisplayMode = (() => {\n    // Non-Mac platforms rarely use icons  prefer text\n    if (requestedMode === 'icon' && !isMac) return 'text'\n\n    // If the requested mode lacks an asset, fall back to text\n    if (requestedMode === 'icon' && !keyCfg.icon) return 'text'\n    if (requestedMode === 'symbol' && !keyCfg.symbol) return 'text'\n\n    return requestedMode\n  })()\n\n  // 2. Pick value for the chosen mode, defaulting to text representation\n  let value: string | IconValue = keyCfg[mode] ?? keyCfg.text\n\n  // 3. Guard against icon tokens leaking into text mode (e.g. \"$ctrl\")\n  if (mode === 'text' && typeof value === 'string' && value.startsWith('$') && !value.startsWith('$vuetify.')) {\n    value = value.slice(1).toUpperCase() // \"$ctrl\"  \"CTRL\"\n  }\n\n  return mode === 'icon'\n    ? ['icon', value as IconValue]\n    : [mode as Exclude<DisplayMode, 'icon'>, value as string]\n}\n\nexport const hotkeyMap: KeyMapConfig = {\n  ctrl: {\n    mac: { symbol: '', icon: '$ctrl', text: '$vuetify.hotkey.ctrl' },\n    default: { text: 'Ctrl' },\n  },\n  meta: {\n    mac: { symbol: '', icon: '$command', text: '$vuetify.hotkey.command' },\n    default: { text: 'Ctrl' },\n  },\n  cmd: {\n    mac: { symbol: '', icon: '$command', text: '$vuetify.hotkey.command' },\n    default: { text: 'Ctrl' },\n  },\n  shift: {\n    mac: { symbol: '', icon: '$shift', text: '$vuetify.hotkey.shift' },\n    default: { text: 'Shift' },\n  },\n  alt: {\n    mac: { symbol: '', icon: '$alt', text: '$vuetify.hotkey.option' },\n    default: { text: 'Alt' },\n  },\n  enter: {\n    default: { symbol: '', icon: '$enter', text: '$vuetify.hotkey.enter' },\n  },\n  arrowup: {\n    default: { symbol: '', icon: '$arrowup', text: '$vuetify.hotkey.upArrow' },\n  },\n  arrowdown: {\n    default: { symbol: '', icon: '$arrowdown', text: '$vuetify.hotkey.downArrow' },\n  },\n  arrowleft: {\n    default: { symbol: '', icon: '$arrowleft', text: '$vuetify.hotkey.leftArrow' },\n  },\n  arrowright: {\n    default: { symbol: '', icon: '$arrowright', text: '$vuetify.hotkey.rightArrow' },\n  },\n  backspace: {\n    default: { symbol: '', icon: '$backspace', text: '$vuetify.hotkey.backspace' },\n  },\n  escape: {\n    default: { text: '$vuetify.hotkey.escape' },\n  },\n  ' ': {\n    mac: { symbol: '', icon: '$space', text: '$vuetify.hotkey.space' },\n    default: { text: '$vuetify.hotkey.space' },\n  },\n  '-': {\n    default: { text: '-' },\n  },\n}\n\n// Create custom variant props that extend the base variant props with our 'contained' option\nconst makeVHotkeyVariantProps = propsFactory({\n  variant: {\n    type: String as PropType<HotkeyVariant>,\n    default: 'elevated' as const,\n    validator: (v: any) => ['elevated', 'flat', 'tonal', 'outlined', 'text', 'plain', 'contained'].includes(v),\n  },\n}, 'VHotkeyVariant')\n\nexport const makeVHotkeyProps = propsFactory({\n  // String representing keyboard shortcuts (e.g., \"ctrl+k\", \"meta+shift+p\")\n  keys: String,\n  // How to display keys: 'symbol' uses special characters (, ), 'icon' uses SVG icons, 'text' uses words\n  displayMode: {\n    type: String as PropType<DisplayMode>,\n    default: 'icon',\n  },\n  // Custom key mapping configuration. Users can import and modify the exported hotkeyMap as needed\n  keyMap: {\n    type: Object as PropType<KeyMapConfig>,\n    default: () => hotkeyMap,\n  },\n  platform: {\n    type: String as PropType<'auto' | 'pc' | 'mac'>,\n    default: 'auto',\n  },\n  inline: Boolean,\n  disabled: Boolean,\n  prefix: String,\n  suffix: String,\n\n  ...makeComponentProps(),\n  ...makeThemeProps(),\n  ...makeBorderProps(),\n  ...makeRoundedProps(),\n  ...makeElevationProps(),\n  ...makeVHotkeyVariantProps(),\n  color: String,\n}, 'VHotkey')\n\nclass Delineator {\n  val\n  constructor (delineator: string) {\n    if (['and', 'then'].includes(delineator)) this.val = delineator as 'then' | 'and'\n    else { throw new Error('Not a valid delineator') }\n  }\n\n  public isEqual (d: Delineator) {\n    return this.val === d.val\n  }\n}\n\nfunction isDelineator (value: any): value is Delineator {\n  return value instanceof Delineator\n}\nfunction isString (value: any): value is string {\n  return typeof value === 'string'\n}\n\nfunction getKeyText (keyMap: KeyMapConfig, key: string, isMac: boolean): string {\n  const lowerKey = key.toLowerCase()\n\n  if (lowerKey in keyMap) {\n    const result = processKey(keyMap[lowerKey], 'text', isMac)\n    return typeof result[1] === 'string' ? result[1] : String(result[1])\n  }\n\n  return key.toUpperCase()\n}\n\nfunction applyDisplayModeToKey (keyMap: KeyMapConfig, mode: DisplayMode, key: string, isMac: boolean): Key {\n  const lowerKey = key.toLowerCase()\n\n  if (lowerKey in keyMap) {\n    const result = processKey(keyMap[lowerKey], mode, isMac)\n\n    if (result[0] === 'text' && typeof result[1] === 'string' && result[1].startsWith('$') && !result[1].startsWith('$vuetify.')) {\n      return ['text', result[1].replace('$', '').toUpperCase(), key]\n    }\n\n    return [...result, key]\n  }\n\n  return ['text', key.toUpperCase(), key]\n}\n\nexport const VHotkey = genericComponent()({\n  name: 'VHotkey',\n\n  props: makeVHotkeyProps(),\n\n  setup (props) {\n    const { t } = useLocale()\n    const { themeClasses } = provideTheme(props)\n    const { rtlClasses } = useRtl()\n    const { borderClasses } = useBorder(props)\n    const { roundedClasses } = useRounded(props)\n    const { elevationClasses } = useElevation(props)\n\n    const isContainedVariant = computed(() => props.variant === 'contained')\n\n    const effectiveVariantProps = computed(() => ({\n      ...props,\n      variant: isContainedVariant.value ? 'elevated' as Variant : props.variant as Variant,\n    }))\n\n    const { colorClasses, colorStyles, variantClasses } = useVariant(effectiveVariantProps)\n\n    const isMac = computed(() =>\n      props.platform === 'auto'\n        ? (typeof navigator !== 'undefined' && /macintosh/i.test(navigator.userAgent))\n        : props.platform === 'mac'\n    )\n\n    const effectiveDisplayMode = computed<DisplayMode>(() => props.displayMode)\n\n    const AND_DELINEATOR = new Delineator('and') // For + separators\n    const THEN_DELINEATOR = new Delineator('then') // For - separators\n\n    const effectiveKeyMap = computed(() => props.keyMap)\n\n    const keyCombinations = computed(() => {\n      if (!props.keys) return []\n\n      // Split by spaces to handle multiple key combinations\n      // Example: \"ctrl+k meta+p\" -> [\"ctrl+k\", \"meta+p\"]\n      return props.keys.split(' ').map(combination => {\n        // Use the shared sequence splitting logic\n        const sequenceGroups = splitKeySequence(combination)\n\n        // Process each sequence group\n        return sequenceGroups.flatMap((group, groupIndex) => {\n          // Use the shared key combination splitting logic\n          const keyParts = splitKeyCombination(group)\n\n          const parts = keyParts.reduce<Array<string | Delineator>>((acc, part, index) => {\n            if (index !== 0) {\n              // Add AND delineator between keys\n              return [...acc, AND_DELINEATOR, part]\n            }\n            return [...acc, part]\n          }, [])\n\n          // Add THEN delineator between sequence groups\n          const result = parts.map(key => {\n            if (isString(key)) {\n              return applyDisplayModeToKey(effectiveKeyMap.value, effectiveDisplayMode.value, key, isMac.value)\n            }\n            return key\n          })\n\n          // Add sequence separator if not the last group\n          if (groupIndex < sequenceGroups.length - 1) {\n            result.push(THEN_DELINEATOR)\n          }\n\n          return result\n        })\n      })\n    })\n\n    const accessibleLabel = computed(() => {\n      if (!props.keys) return ''\n\n      // Convert the parsed key combinations into readable text\n      const readableShortcuts = keyCombinations.value.map(combination => {\n        const readableParts: string[] = []\n\n        for (const key of combination) {\n          if (isDelineator(key)) {\n            if (AND_DELINEATOR.isEqual(key)) {\n              readableParts.push(t('$vuetify.hotkey.plus'))\n            } else if (THEN_DELINEATOR.isEqual(key)) {\n              readableParts.push(t('$vuetify.hotkey.then'))\n            }\n          } else {\n            // Always use text representation for screen readers\n            const textKey = key[0] === 'icon' || key[0] === 'symbol'\n              ? applyDisplayModeToKey(mergeDeep(hotkeyMap, props.keyMap), 'text', String(key[1]), isMac.value)[1]\n              : key[1]\n            readableParts.push(translateKey(textKey as string))\n          }\n        }\n\n        return readableParts.join(' ')\n      })\n\n      const shortcutText = readableShortcuts.join(', ')\n      return t('$vuetify.hotkey.shortcut', shortcutText)\n    })\n\n    function translateKey (key: string) {\n      return key.startsWith('$vuetify.') ? t(key) : key\n    }\n\n    function getKeyTooltip (key: Key): string | undefined {\n      if (effectiveDisplayMode.value === 'text') return undefined\n\n      const textKey = getKeyText(effectiveKeyMap.value, String(key[2]), isMac.value)\n      return translateKey(textKey)\n    }\n\n    function renderKey (key: Key, keyIndex: number, isContained: boolean) {\n      const KeyComponent = isContained ? 'kbd' : VKbd\n      const keyClasses = [\n        'v-hotkey__key',\n        `v-hotkey__key-${key[0]}`,\n        ...(isContained ? ['v-hotkey__key--nested'] : [\n          borderClasses.value,\n          roundedClasses.value,\n          elevationClasses.value,\n          colorClasses.value,\n        ]),\n      ]\n\n      return (\n        <KeyComponent\n          key={ keyIndex }\n          class={ keyClasses }\n          style={ isContained ? undefined : colorStyles.value }\n          aria-hidden=\"true\"\n          title={ getKeyTooltip(key) }\n        >\n          {\n            key[0] === 'icon' ? (\n              <VIcon\n                icon={ key[1] }\n                aria-hidden=\"true\"\n              />\n            ) : translateKey(key[1])\n          }\n        </KeyComponent>\n      )\n    }\n\n    function renderDivider (key: Delineator, keyIndex: number) {\n      return (\n        <span\n          key={ keyIndex }\n          class=\"v-hotkey__divider\"\n          aria-hidden=\"true\"\n        >\n          {\n            AND_DELINEATOR.isEqual(key) ? '+' : t('$vuetify.hotkey.then')\n          }\n        </span>\n      )\n    }\n\n    useRender(() => (\n      <div\n        class={[\n          'v-hotkey',\n          {\n            'v-hotkey--disabled': props.disabled,\n            'v-hotkey--inline': props.inline,\n            'v-hotkey--contained': isContainedVariant.value,\n          },\n          themeClasses.value,\n          rtlClasses.value,\n          variantClasses.value,\n          props.class,\n        ]}\n        style={ props.style }\n        role=\"img\"\n        aria-label={ accessibleLabel.value }\n      >\n        { isContainedVariant.value ? (\n          <VKbd\n            key=\"contained\"\n            class={[\n              'v-hotkey__contained-wrapper',\n              borderClasses.value,\n              roundedClasses.value,\n              elevationClasses.value,\n              colorClasses.value,\n            ]}\n            style={ colorStyles.value }\n            aria-hidden=\"true\"\n          >\n            { props.prefix && (\n              <span key=\"contained-prefix\" class=\"v-hotkey__prefix\">{ props.prefix }</span>\n            )}\n            { keyCombinations.value.map((combination, comboIndex) => (\n              <span class=\"v-hotkey__combination\" key={ comboIndex }>\n                { combination.map((key, keyIndex) =>\n                  isDelineator(key)\n                    ? renderDivider(key, keyIndex)\n                    : renderKey(key, keyIndex, true)\n                )}\n                { comboIndex < keyCombinations.value.length - 1 && <span aria-hidden=\"true\">&nbsp;</span> }\n              </span>\n            ))}\n            { props.suffix && (\n              <span key=\"contained-suffix\" class=\"v-hotkey__suffix\">{ props.suffix }</span>\n            )}\n          </VKbd>\n        ) : (\n          <>\n            { props.prefix && (\n              <span key=\"prefix\" class=\"v-hotkey__prefix\">{ props.prefix }</span>\n            )}\n            { keyCombinations.value.map((combination, comboIndex) => (\n              <span class=\"v-hotkey__combination\" key={ comboIndex }>\n                { combination.map((key, keyIndex) =>\n                  isDelineator(key)\n                    ? renderDivider(key, keyIndex)\n                    : renderKey(key, keyIndex, false)\n                )}\n                { comboIndex < keyCombinations.value.length - 1 && <span aria-hidden=\"true\">&nbsp;</span> }\n              </span>\n            ))}\n            { props.suffix && (\n              <span key=\"suffix\" class=\"v-hotkey__suffix\">{ props.suffix }</span>\n            )}\n          </>\n        )}\n      </div>\n    ))\n  },\n})\n\nexport type VHotkey = InstanceType<typeof VHotkey>\n\nexport type { KeyConfig, PlatformKeyConfig, KeyMapConfig, DisplayMode }\n", "// Styles\nimport './VVideo.sass'\n\n// Components\nimport { makeVVideoControlsProps, VVideoControls } from './VVideoControls'\nimport { VFadeTransition } from '@/components/transitions'\nimport { VImg } from '@/components/VImg/VImg'\nimport { VProgressCircular } from '@/components/VProgressCircular/VProgressCircular'\nimport { VIconBtn } from '@/labs/VIconBtn/VIconBtn'\n\n// Composables\nimport { useDisplay } from '@/composables'\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { useElevation } from '@/composables/elevation'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useRounded } from '@/composables/rounded'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { MaybeTransition } from '@/composables/transition'\n\n// Utilities\nimport { nextTick, onBeforeUnmount, onMounted, ref, shallowRef, toRef, Transition, watch } from 'vue'\nimport { createRange, genericComponent, omit, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { Component, PropType, TransitionProps } from 'vue'\nimport type { VVideoControlsActionsSlot, VVideoControlsVariant } from './VVideoControls'\nimport type { LoaderSlotProps } from '@/composables/loader'\n\nexport type VVideoSlots = {\n  header: never\n  controls: VVideoControlsActionsSlot\n  prepend: VVideoControlsActionsSlot\n  append: VVideoControlsActionsSlot\n  loader: LoaderSlotProps\n  sources: never\n}\n\nconst allowedVariants = ['background', 'player'] as const\ntype Variant = typeof allowedVariants[number]\n\nexport const makeVVideoProps = propsFactory({\n  aspectRatio: [String, Number],\n  autoplay: Boolean,\n  muted: Boolean,\n  eager: Boolean,\n  src: String,\n  type: String, // e.g. video/mp4\n  image: String,\n  hideOverlay: Boolean,\n  noFullscreen: Boolean,\n  startAt: [Number, String],\n  variant: {\n    type: String as PropType<Variant>,\n    default: 'player',\n    validator: (v: any) => allowedVariants.includes(v),\n  },\n  controlsTransition: {\n    type: [Boolean, String, Object] as PropType<null | string | boolean | TransitionProps & { component?: any }>,\n    component: VFadeTransition as Component,\n  },\n  controlsVariant: {\n    type: String as PropType<VVideoControlsVariant>,\n    default: 'default',\n  },\n  controlsProps: {\n    type: Object as PropType<VVideoControls['$props']>,\n  },\n  rounded: [Boolean, Number, String, Array] as PropType<boolean | number | string | (boolean | number | string)[]>,\n\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeThemeProps(),\n  ...omit(makeVVideoControlsProps(), [\n    'fullscreen',\n    'variant',\n  ]),\n}, 'VVideo')\n\nexport const VVideo = genericComponent<VVideoSlots>()({\n  name: 'VVideo',\n\n  inheritAttrs: false,\n\n  props: makeVVideoProps(),\n\n  emits: {\n    loaded: (element: HTMLVideoElement) => true,\n    'update:playing': (val: boolean) => true,\n    'update:progress': (val: number) => true,\n    'update:volume': (val: number) => true,\n  },\n\n  setup (props, { attrs, emit, slots }) {\n    const { themeClasses } = provideTheme(props)\n    const { densityClasses } = useDensity(props)\n    const { dimensionStyles } = useDimension(props)\n    const { elevationClasses } = useElevation(props)\n    const { ssr } = useDisplay()\n\n    const roundedForContainer = toRef(() => Array.isArray(props.rounded) ? props.rounded[0] : props.rounded)\n    const roundedForControls = toRef(() => Array.isArray(props.rounded) ? props.rounded.at(-1) : props.rounded ?? false)\n    const { roundedClasses: roundedContainerClasses } = useRounded(roundedForContainer)\n    const { roundedClasses: roundedControlsClasses } = useRounded(roundedForControls)\n\n    const containerRef = ref<HTMLDivElement>()\n    const videoRef = ref<HTMLVideoElement>()\n    const controlsRef = ref<VVideoControls>()\n\n    const playing = useProxiedModel(props, 'playing')\n    const progress = useProxiedModel(props, 'progress')\n    const volume = useProxiedModel(props, 'volume', 0, (v?: number | string) => Number(v ?? 0))\n\n    const fullscreen = shallowRef(false)\n    const waiting = shallowRef(false)\n    const triggered = shallowRef(false)\n    const startAfterLoad = shallowRef(false)\n    const state = shallowRef<'idle' | 'loading' | 'loaded' | 'error'>(props.autoplay ? 'loading' : 'idle')\n    const duration = shallowRef(0)\n\n    const fullscreenEnabled = toRef(() => !props.noFullscreen && !String(attrs.controlsList ?? '').includes('nofullscreen'))\n\n    function onTimeupdate () {\n      const { currentTime, duration } = videoRef.value!\n      progress.value = duration === 0 ? 0 : 100 * currentTime / duration\n    }\n\n    async function onTriggered () {\n      await nextTick()\n      if (!videoRef.value) return\n      videoRef.value.addEventListener('timeupdate', onTimeupdate)\n      videoRef.value.volume = volume.value / 100\n      if (state.value !== 'loaded') {\n        state.value = 'loading'\n      }\n    }\n\n    function onVideoLoaded () {\n      state.value = 'loaded'\n      duration.value = videoRef.value!.duration\n\n      const startTime = Number(props.startAt ?? 0)\n      if (startTime && startTime <= duration.value) {\n        videoRef.value!.currentTime = startTime\n        progress.value = duration.value === 0 ? 0 : 100 * startTime / duration.value\n      }\n\n      if (startAfterLoad.value) {\n        setTimeout(() => playing.value = true, 100)\n      }\n\n      emit('loaded', videoRef.value!)\n    }\n\n    function onClick () {\n      if (state.value !== 'loaded') {\n        triggered.value = true\n        startAfterLoad.value = !startAfterLoad.value\n      }\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      if (!videoRef.value || e.ctrlKey) return\n      if (e.key.startsWith('Arrow')) {\n        e.preventDefault()\n      }\n      switch (true) {\n        case e.key === ' ': {\n          if (!['A', 'BUTTON'].includes((e.target as Element)?.tagName)) {\n            e.preventDefault()\n            playing.value = !playing.value\n          }\n          break\n        }\n        case e.key === 'ArrowRight': {\n          const step = 10 * (e.shiftKey ? 6 : 1)\n          videoRef.value.currentTime = Math.min(videoRef.value.currentTime + step, duration.value)\n          // TODO: show skip indicator\n          break\n        }\n        case e.key === 'ArrowLeft': {\n          const step = 10 * (e.shiftKey ? 6 : 1)\n          videoRef.value.currentTime = Math.max(videoRef.value.currentTime - step, 0)\n          // TODO: show skip indicator\n          break\n        }\n        case createRange(10).map(String).includes(e.key): {\n          skipTo(Number(e.key) * 10)\n          break\n        }\n        case e.key === 'ArrowUp': {\n          volume.value = Math.min(volume.value + 10, 100)\n          // TODO: show volume change indicator\n          break\n        }\n        case e.key === 'ArrowDown': {\n          volume.value = Math.max(volume.value - 10, 0)\n          // TODO: show volume change indicator\n          break\n        }\n        case e.key === 'm': {\n          controlsRef.value?.toggleMuted()\n          break\n        }\n        case e.key === 'f': {\n          toggleFullscreen()\n          break\n        }\n      }\n    }\n\n    function skipTo (v: number) {\n      if (!videoRef.value) return\n      progress.value = v\n      videoRef.value.currentTime = duration.value * v / 100\n    }\n\n    watch(() => props.src, v => {\n      progress.value = 0\n    })\n\n    watch(playing, v => {\n      if (!videoRef.value) return\n      if (v) {\n        videoRef.value.play()\n      } else {\n        videoRef.value.pause()\n      }\n    })\n\n    watch(volume, v => {\n      if (!videoRef.value) return\n      videoRef.value.volume = v / 100\n    })\n\n    watch(triggered, () => onTriggered(), { once: true })\n\n    watch(() => props.eager, v => v && (triggered.value = true), { immediate: true })\n\n    onMounted(() => {\n      if (props.autoplay && !ssr) {\n        triggered.value = true\n        startAfterLoad.value = true\n      }\n    })\n\n    onBeforeUnmount(() => {\n      videoRef.value?.removeEventListener('timeupdate', onTimeupdate)\n    })\n\n    function focusSlider () {\n      const container = videoRef.value?.closest('.v-video') as HTMLElement\n      const innerSlider = container?.querySelector('[role=\"slider\"]') as HTMLElement\n      innerSlider?.focus()\n    }\n\n    function fullscreenExitShortcut (e: KeyboardEvent) {\n      if (['ESC', 'f'].includes(e.key)) {\n        toggleFullscreen()\n        document.body.removeEventListener('keydown', fullscreenExitShortcut)\n      }\n    }\n\n    async function toggleFullscreen () {\n      if (!fullscreenEnabled.value || !document.fullscreenEnabled) {\n        return\n      }\n      if (document.fullscreenElement) {\n        document.exitFullscreen()\n        onFullscreenExit()\n      } else {\n        await containerRef.value?.requestFullscreen()\n        document.body.addEventListener('keydown', fullscreenExitShortcut)\n        document.addEventListener('fullscreenchange', onFullscreenExit)\n        fullscreen.value = true\n      }\n    }\n\n    function onFullscreenExit () {\n      // event fires with a delay after requestFullscreen(), ignore first run\n      if (document.fullscreenElement) return\n\n      focusSlider()\n      fullscreen.value = false\n      document.body.removeEventListener('keydown', fullscreenExitShortcut)\n      document.removeEventListener('fullscreenchange', onFullscreenExit)\n    }\n\n    function onVideoClick (e: Event) {\n      e.preventDefault()\n      if (state.value === 'loaded') {\n        playing.value = !playing.value\n        focusSlider()\n      }\n    }\n\n    function onDoubleClick (e: Event) {\n      e.preventDefault()\n      toggleFullscreen()\n    }\n\n    let lastTap = 0\n    function onTouchend (e: Event) {\n      const now = performance.now()\n      if ((now - lastTap) < 500) {\n        e.preventDefault()\n        toggleFullscreen()\n      } else {\n        lastTap = now\n      }\n    }\n\n    useRender(() => {\n      const showControls = state.value === 'loaded' &&\n        props.variant === 'player' &&\n        props.controlsVariant !== 'hidden'\n\n      const posterTransition = props.variant === 'background'\n        ? 'poster-fade-out'\n        : 'fade-transition'\n\n      const controlsProps = {\n        ...VVideoControls.filterProps(omit(props, ['variant', 'rounded', 'hideVolume'])),\n        rounded: Array.isArray(props.rounded) ? props.rounded.at(-1) : props.rounded,\n        fullscreen: fullscreen.value,\n        hideVolume: props.hideVolume || props.muted,\n        hideFullscreen: props.hideFullscreen || !fullscreenEnabled.value,\n        density: props.density,\n        variant: props.controlsVariant,\n        playing: playing.value,\n        progress: progress.value,\n        duration: duration.value,\n        volume: volume.value,\n        ...props.controlsProps,\n      }\n\n      const controlsEventHandlers = {\n        onSkip: (v: number) => skipTo(v),\n        'onClick:fullscreen': () => toggleFullscreen(),\n        'onUpdate:playing': (v: boolean) => playing.value = v,\n        'onUpdate:progress': (v: number) => skipTo(v),\n        'onUpdate:volume': (v: number) => volume.value = v,\n        onClick: (e: Event) => e.stopPropagation(),\n      }\n\n      const controlslist = [\n        attrs.controlslist,\n        props.noFullscreen ? 'nofullscreen' : '',\n      ].filter(Boolean).join(' ')\n\n      const loadingIndicator = (\n        <VProgressCircular\n          indeterminate\n          color={ props.color }\n          width=\"3\"\n          size={ Math.min(100, Number(props.height) / 2 || 50) }\n        />\n      )\n\n      const overlayPlayIcon = (\n        <VIconBtn\n          icon=\"$play\"\n          size=\"80\"\n          color=\"#fff\"\n          variant=\"outlined\"\n          iconSize=\"50\"\n          class=\"v-video__center-icon\"\n          onClick={ onVideoClick }\n        />\n      )\n\n      const activeOverlays = {\n        playIcon: props.variant === 'player' &&\n          state.value === 'loaded' &&\n          !props.hideOverlay &&\n          !playing.value,\n        poster: state.value !== 'loaded',\n        loading: props.variant === 'player' &&\n          (\n            state.value === 'loading' ||\n            waiting.value\n          ),\n      }\n\n      return (\n        <div\n          ref={ containerRef }\n          class={[\n            'v-video',\n            `v-video--variant-${props.variant}`,\n            `v-video--${state.value}`,\n            { 'v-video--playing': playing.value },\n            themeClasses.value,\n            densityClasses.value,\n            roundedContainerClasses.value,\n            props.class,\n          ]}\n          style={[\n            { '--v-video-aspect-ratio': props.aspectRatio },\n            props.variant === 'background' ? [] : pick(dimensionStyles.value, ['width', 'minWidth', 'maxWidth']),\n            props.style,\n          ]}\n          onKeydown={ onKeydown }\n          onClick={ onClick }\n        >\n          <div\n            class={[\n              'v-video__content',\n              elevationClasses.value,\n            ]}\n            style={[\n              props.variant === 'background' ? [] : dimensionStyles.value,\n            ]}\n          >\n            { (props.eager || triggered.value) && (\n              <video\n                key=\"video-element\"\n                class={[\n                  'v-video__video',\n                  roundedContainerClasses.value,\n                ]}\n                { ...omit(attrs, ['controlslist', 'class', 'style']) }\n                controlslist={ controlslist }\n                autoplay={ props.autoplay }\n                muted={ props.muted }\n                playsinline\n                ref={ videoRef }\n                onLoadeddata={ onVideoLoaded }\n                onPlay={ () => playing.value = true }\n                onPause={ () => playing.value = false }\n                onWaiting={ () => waiting.value = true }\n                onPlaying={ () => waiting.value = false }\n                onClick={ onVideoClick }\n                onDblclick={ onDoubleClick }\n                onTouchend={ onTouchend }\n              >\n                { slots.sources?.() ?? <source src={ props.src } type={ props.type } /> }\n              </video>\n            )}\n            <Transition name=\"fade-transition\">\n              { activeOverlays.playIcon && (\n                <div class=\"v-video__overlay-fill\">\n                  { overlayPlayIcon }\n                </div>\n              )}\n            </Transition>\n            { props.variant === 'player' &&\n              !!slots.header &&\n              (\n                <div key=\"header\" class=\"v-video__header\">\n                  { slots.header() }\n                </div>\n              )\n            }\n            <MaybeTransition transition={ posterTransition }>\n              { activeOverlays.poster && (\n                <div class=\"v-video__overlay-fill\">\n                  <VImg cover src={ props.image }>\n                    <div\n                      class={[\n                        'v-video__overlay-fill',\n                        ...roundedContainerClasses.value,\n                      ]}\n                    >\n                      { props.variant === 'player' && overlayPlayIcon }\n                    </div>\n                  </VImg>\n                </div>\n              )}\n            </MaybeTransition>\n            { activeOverlays.loading && (\n              <div class=\"v-video__overlay-fill\">\n                { loadingIndicator }\n              </div>\n            )}\n          </div>\n          <MaybeTransition key=\"actions\" transition={ props.controlsTransition }>\n            { showControls && (\n              <VVideoControls\n                ref={ controlsRef }\n                class={ roundedControlsClasses.value }\n                { ...controlsProps }\n                { ...controlsEventHandlers }\n              >\n                {{\n                  default: slots.controls,\n                  prepend: slots.prepend,\n                  append: slots.append,\n                }}\n              </VVideoControls>\n            )}\n          </MaybeTransition>\n        </div>\n      )\n    })\n\n    return {\n      video: videoRef,\n      ...forwardRefs({\n        skipTo,\n        toggleFullscreen,\n      }, controlsRef),\n    }\n  },\n})\n\nexport type VVideo = InstanceType<typeof VVideo>\n", "// Components\nimport { VIcon } from '@/components/VIcon/VIcon'\nimport { VMenu } from '@/components/VMenu/VMenu'\nimport { VSlider } from '@/components/VSlider/VSlider'\nimport { VIconBtn } from '@/labs/VIconBtn/VIconBtn'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Directives\nimport vTooltip from '@/directives/tooltip'\n\n// Utilities\nimport { ref, toRef } from 'vue'\nimport { EventProp, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const makeVVideoVolumeProps = propsFactory({\n  inline: Boolean,\n  label: String,\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'vertical',\n  },\n  modelValue: {\n    type: Number,\n    default: 0,\n  },\n  menuProps: Object as PropType<VMenu['$props']>,\n  sliderProps: Object as PropType<Pick<VSlider['$props'], 'color' | 'disabled' | 'thumbSize' | 'trackColor' | 'maxWidth' | 'width'>>,\n  onClick: EventProp<[MouseEvent | KeyboardEvent]>(),\n\n  ...makeComponentProps(),\n}, 'VVideoVolume')\n\nexport const VVideoVolume = genericComponent()({\n  name: 'VVideoVolume',\n\n  directives: { vTooltip: vTooltip as any },\n\n  props: makeVVideoVolumeProps(),\n\n  emits: {\n    'update:modelValue': (val: number) => true,\n  },\n\n  setup (props, { attrs }) {\n    const { t } = useLocale()\n    const volume = useProxiedModel(props, 'modelValue')\n\n    const volumeIcon = toRef(() => volume.value > 70 ? '$volumeHigh'\n      : volume.value > 40 ? '$volumeMedium'\n      : volume.value > 10 ? '$volumeLow'\n      : '$volumeOff')\n\n    const containerRef = ref<HTMLElement>()\n\n    useRender(() => {\n      const sliderDefaults = {\n        hideDetails: true,\n        step: 5,\n        thumbSize: 16,\n      }\n\n      return (\n        <div\n          class={[\n            'v-video-volume',\n            { 'v-video-volume--inline': props.inline },\n            props.class,\n          ]}\n          style={ props.style }\n          ref={ containerRef }\n        >\n            <VIconBtn\n              icon={ volumeIcon.value }\n              aria-label={ props.label }\n              v-tooltip={[props.label, 'top']}\n              onClick={ props.onClick as any }\n              { ...attrs }\n            >\n              <VIcon />\n              { !props.inline && (\n                <VMenu\n                  offset=\"8\"\n                  activator=\"parent\"\n                  attach={ containerRef.value }\n                  location={ props.menuProps?.location ?? 'top center' }\n                  closeOnContentClick={ false }\n                >\n                  <div\n                    class={[\n                      'v-video-volume__menu',\n                      `v-video-volume__menu--${props.direction}`,\n                    ]}\n                  >\n                    <VSlider\n                      direction={ props.direction }\n                      aria-label={ t('$vuetify.video.volume') }\n                      modelValue={ volume.value }\n                      onUpdate:modelValue={ v => volume.value = v }\n                      { ...sliderDefaults }\n                      { ...props.sliderProps }\n                    />\n                  </div>\n                </VMenu>\n              )}\n            </VIconBtn>\n\n            { props.inline && (\n              <VSlider\n                class=\"v-video-volume-inline__slider\"\n                minWidth=\"50\"\n                aria-label={ t('$vuetify.video.volume') }\n                modelValue={ volume.value }\n                onUpdate:modelValue={ v => volume.value = v }\n                onKeydown={ (e: KeyboardEvent) => { e.stopPropagation() } }\n                { ...sliderDefaults }\n                { ...props.sliderProps }\n              />\n            )}\n        </div>\n      )\n    })\n  },\n})\n\nexport type VVideoVolume = InstanceType<typeof VVideoVolume>\n", "/* eslint-disable complexity */\n\n// Components\nimport { VVideoVolume } from './VVideoVolume'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider/VDefaultsProvider'\nimport { VSpacer } from '@/components/VGrid/VSpacer'\nimport { VSlider } from '@/components/VSlider/VSlider'\nimport { VIconBtn } from '@/labs/VIconBtn/VIconBtn'\n\n// Composables\nimport { useBackgroundColor } from '@/composables/color'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\n\n// Directives\nimport vTooltip from '@/directives/tooltip'\n\n// Utilities\nimport { computed, shallowRef, toRef } from 'vue'\nimport { formatTime, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType, Ref } from 'vue'\n\nexport type VVideoControlsActionsSlot = {\n  play: () => void\n  pause: () => void\n  skipTo: (v: number) => void\n  volume: Ref<number>\n  playing: boolean\n  progress: number\n  toggleMuted: () => void\n  fullscreen: boolean\n  toggleFullscreen: () => void\n  labels: Record<string, string>\n}\n\nexport type VVideoControlsSlots = {\n  default: VVideoControlsActionsSlot\n  prepend: VVideoControlsActionsSlot\n  append: VVideoControlsActionsSlot\n}\n\nconst allowedVariants = ['hidden', 'default', 'tube', 'mini'] as const\nexport type VVideoControlsVariant = typeof allowedVariants[number]\n\nexport const makeVVideoControlsProps = propsFactory({\n  color: String,\n  backgroundColor: String,\n  trackColor: String,\n  playing: Boolean,\n  hidePlay: Boolean,\n  hideVolume: Boolean,\n  hideFullscreen: Boolean,\n  fullscreen: Boolean,\n  floating: Boolean,\n  splitTime: Boolean,\n  pills: Boolean,\n  detached: Boolean,\n  progress: {\n    type: Number,\n    default: 0,\n  },\n  duration: {\n    type: Number,\n    default: 0,\n  },\n  volume: [Number, String],\n  variant: {\n    type: String as PropType<VVideoControlsVariant>,\n    default: 'default',\n    validator: (v: any) => allowedVariants.includes(v),\n  },\n  volumeProps: Object as PropType<Pick<VVideoVolume['$props'], 'direction' | 'inline' | 'sliderProps' | 'menuProps'>>,\n\n  ...makeDensityProps(),\n  ...makeElevationProps(),\n  ...makeThemeProps(),\n}, 'VVideoControls')\n\nexport const VVideoControls = genericComponent<VVideoControlsSlots>()({\n  name: 'VVideoControls',\n\n  directives: { vTooltip: vTooltip as any },\n\n  props: makeVVideoControlsProps(),\n\n  emits: {\n    'update:playing': (val: boolean) => true,\n    'update:progress': (val: number) => true,\n    'update:volume': (val: number) => true,\n    skip: (val: number) => true,\n    'click:fullscreen': () => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { t } = useLocale()\n    const { themeClasses, current: currentTheme } = provideTheme(props)\n    const { densityClasses } = useDensity(props)\n    const { elevationClasses } = useElevation(props)\n\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(() => {\n      const fallbackBackground = props.detached ? 'surface' : undefined\n      return props.backgroundColor ?? fallbackBackground\n    })\n\n    const trackColor = toRef(() => {\n      if (props.trackColor) {\n        return props.trackColor\n      }\n\n      const fallback = currentTheme.value.dark || !props.pills ? undefined : 'surface'\n      return (props.pills ? props.backgroundColor : props.color) ?? fallback\n    })\n\n    const playing = useProxiedModel(props, 'playing')\n    const progress = useProxiedModel(props, 'progress')\n    const volume = useProxiedModel(props, 'volume', 0, (v?: number | string) => Number(v ?? 0))\n    const lastVolume = shallowRef<number>()\n\n    const currentTime = computed(() => {\n      const secondsElapsed = Math.round(props.progress / 100 * props.duration)\n      return {\n        elapsed: formatTime(secondsElapsed),\n        remaining: formatTime(props.duration - secondsElapsed),\n        total: formatTime(props.duration),\n      }\n    })\n\n    const labels = computed(() => {\n      const playIconLocaleKey = playing.value ? 'pause' : 'play'\n      const volumeIconLocaleKey = props.volumeProps?.inline ? (volume.value ? 'mute' : 'unmute') : 'showVolume'\n      const fullscreenIconLocaleKey = props.fullscreen ? 'exitFullscreen' : 'enterFullscreen'\n      return {\n        seek: t('$vuetify.video.seek'),\n        volume: t('$vuetify.video.volume'),\n        playAction: t(`$vuetify.video.${playIconLocaleKey}`),\n        volumeAction: t(`$vuetify.video.${volumeIconLocaleKey}`),\n        fullscreenAction: t(`$vuetify.video.${fullscreenIconLocaleKey}`),\n      }\n    })\n\n    function play () {\n      playing.value = true\n    }\n\n    function pause () {\n      playing.value = false\n    }\n\n    function skipTo (v: number) {\n      progress.value = v\n    }\n\n    function toggleMuted () {\n      if (volume.value) {\n        lastVolume.value = volume.value\n        volume.value = 0\n      } else {\n        volume.value = lastVolume.value ?? 100\n      }\n    }\n\n    function toggleFullscreen () {\n      emit('click:fullscreen')\n    }\n\n    useRender(() => {\n      const sizes = props.pills\n        ? [42, 36, 30]\n        : [32, 28, 24]\n\n      const innerDefaults = {\n        VIconBtn: {\n          size: props.density === 'compact' ? sizes[2]\n          : props.density === 'comfortable' ? sizes[1]\n          : sizes[0],\n          iconSize: props.density === 'compact' ? 20\n          : props.density === 'comfortable' ? 24\n          : 26,\n          variant: 'text',\n          color: props.color,\n        },\n        VSlider: {\n          thumbSize: props.variant === 'tube' ? 10 : 16,\n          hideDetails: true,\n        },\n      }\n\n      const regularBtnSize = innerDefaults.VIconBtn.size\n      const playBtnSize = props.pills ? (regularBtnSize + 8) : regularBtnSize\n\n      const pillClasses = [\n        'v-video-control__pill',\n        props.pills ? elevationClasses.value : [],\n        props.pills ? backgroundColorClasses.value : [],\n      ]\n\n      const pillStyles = props.pills ? backgroundColorStyles.value : []\n\n      const slotProps = {\n        play,\n        pause,\n        playing: playing.value,\n        progress: progress.value,\n        currentTime: currentTime.value,\n        skipTo,\n        volume,\n        toggleMuted,\n        fullscreen: props.fullscreen,\n        toggleFullscreen,\n        labels: labels.value,\n      }\n\n      return (\n        <div\n          class={[\n            'v-video-controls',\n            `v-video-controls--variant-${props.variant}`,\n            { 'v-video-controls--pills': props.pills },\n            { 'v-video-controls--detached': props.detached },\n            { 'v-video-controls--floating': props.floating },\n            { 'v-video-controls--split-time': props.splitTime },\n            !props.pills ? backgroundColorClasses.value : [],\n            props.detached && !props.pills ? elevationClasses.value : [],\n            densityClasses.value,\n            themeClasses.value,\n          ]}\n          style={[\n            !props.pills ? backgroundColorStyles.value : [],\n            { '--v-video-controls-pill-height': `${regularBtnSize}px` },\n          ]}\n        >\n          <VDefaultsProvider defaults={ innerDefaults }>\n            { slots.default?.(slotProps) ?? (\n              <>\n                { props.variant !== 'mini' && (\n                  <>\n                    { !props.hidePlay && (\n                      <div\n                        class={[pillClasses, 'v-video__action-play']}\n                        style={ pillStyles }\n                      >\n                        <VIconBtn\n                          icon={ playing.value ? '$pause' : '$play' }\n                          size={ playBtnSize }\n                          aria-label={ labels.value.playAction }\n                          v-tooltip={[labels.value.playAction, 'top']}\n                          onClick={ () => playing.value = !playing.value }\n                        />\n                      </div>\n                    )}\n                    { slots.prepend && (\n                      <div\n                        class={ pillClasses }\n                        style={ pillStyles }\n                      >\n                        { slots.prepend(slotProps) }\n                      </div>\n                    )}\n                    { props.splitTime\n                      ? (\n                        <span\n                          class={[pillClasses, 'v-video__time']}\n                          style={ pillStyles }\n                        >\n                          { currentTime.value.elapsed }\n                        </span>\n                      )\n                      : props.variant !== 'default'\n                        ? (\n                          <span\n                            class={[pillClasses, 'v-video__time']}\n                            style={ pillStyles }\n                          >\n                            { currentTime.value.elapsed } / { currentTime.value.total }\n                          </span>\n                        )\n                        : ''\n                    }\n                    <VSlider\n                      modelValue={ props.progress }\n                      noKeyboard\n                      color={ trackColor.value ?? 'surface-variant' }\n                      trackColor={ props.variant === 'tube' ? 'white' : undefined }\n                      class=\"v-video__track\"\n                      thumbLabel=\"always\"\n                      aria-label={ labels.value.seek }\n                      onUpdate:modelValue={ skipTo }\n                    >\n                      {{\n                        'thumb-label': () => currentTime.value.elapsed,\n                      }}\n                    </VSlider>\n                    { props.variant === 'tube' && <VSpacer /> }\n                    { props.splitTime\n                      ? (\n                        <span\n                          class={[pillClasses, 'v-video__time']}\n                          style={ pillStyles }\n                        >\n                          { currentTime.value.remaining }\n                        </span>\n                      )\n                      : ''\n                    }\n                  </>\n                )}\n                { props.variant === 'mini' && (\n                  <>\n                    <VSpacer />\n                    { slots.prepend && (\n                      <div\n                        class={ pillClasses }\n                        style={ pillStyles }\n                      >\n                        { slots.prepend(slotProps) }\n                      </div>\n                    )}\n                    { !props.hidePlay && (\n                      <div\n                        class={[pillClasses, 'v-video__action-play']}\n                        style={ pillStyles }\n                      >\n                        <VIconBtn\n                          icon={ playing.value ? '$pause' : '$play' }\n                          size={ playBtnSize }\n                          aria-label={ labels.value.playAction }\n                          v-tooltip={[labels.value.playAction, 'top']}\n                          onClick={ () => playing.value = !playing.value }\n                        />\n                      </div>\n                    )}\n                  </>\n                )}\n                { (!props.hideVolume || !props.hideFullscreen || slots.append) && (\n                  <div\n                    class={ pillClasses }\n                    style={ pillStyles }\n                  >\n                    { !props.hideVolume && (\n                      <VVideoVolume\n                        key=\"volume-control\"\n                        sliderProps={{ color: props.color }}\n                        modelValue={ volume.value }\n                        label={ labels.value.volumeAction }\n                        onUpdate:modelValue={ v => volume.value = v }\n                        onClick={ () => props.volumeProps?.inline && toggleMuted() }\n                        { ...props.volumeProps }\n                      />\n                    )}\n                    { slots.append?.(slotProps) }\n                    { !props.hideFullscreen && (\n                      <VIconBtn\n                        icon={ props.fullscreen ? '$fullscreenExit' : '$fullscreen' }\n                        aria-label={ labels.value.fullscreenAction }\n                        v-tooltip={[labels.value.fullscreenAction, 'top']}\n                        onClick={ toggleFullscreen }\n                      />\n                    )}\n                  </div>\n                )}\n\n                { props.variant === 'mini' && (<VSpacer />) }\n              </>\n            )}\n          </VDefaultsProvider>\n        </div>\n      )\n    })\n\n    return {\n      toggleMuted,\n    }\n  },\n})\n\nexport type VVideoControls = InstanceType<typeof VVideoControls>\n"],
  "mappings": "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",
  "names": ["makeVIconBtnProps", "propsFactory", "active", "type", "Boolean", "default", "undefined", "activeColor", "String", "activeIcon", "Function", "Object", "activeVariant", "baseVariant", "disabled", "height", "Number", "width", "hideOverlay", "icon", "iconColor", "loading", "opacity", "readonly", "rotate", "size", "sizes", "Array", "text", "makeBorderProps", "makeComponentProps", "makeElevationProps", "makeIconSizeProps", "makeRoundedProps", "makeTagProps", "tag", "makeThemeProps", "makeVariantProps", "variant", "VIconBtn", "genericComponent", "name", "props", "emits", "value", "setup", "_ref", "attrs", "slots", "isActive", "useProxiedModel", "themeClasses", "provideTheme", "borderClasses", "useBorder", "elevationClasses", "useElevation", "roundedClasses", "useRounded", "colorClasses", "colorStyles", "variantClasses", "useVariant", "color", "btnSizeMap", "Map", "onClick", "href", "useRender", "_btnSize", "hasNamedSize", "has", "btnSize", "get", "btnHeight", "btnWidth", "iconSize", "useIconSizes", "iconSizes", "iconProps", "_createVNode", "_normalizeClass", "class", "_normalizeStyle", "convertToUnit", "style", "genOverlays", "_createElementVNode", "VIcon", "_mergeProps", "VDefaultsProvider", "toDisplayString", "loader", "VProgressCircular", "createUTCDate", "year", "month", "arguments", "length", "undefined", "day", "date", "Date", "UTC", "isFinite", "getUTCFullYear", "setUTCFullYear", "firstWeekOffset", "firstDayOfWeek", "firstDayOfYear", "firstWeekDayInFirstWeek", "firstWeekDayOfYear", "getUTCDay", "dayOfYear", "isLeapYear", "weeksInYear", "weekOffset", "weekOffsetNext", "daysInYear", "weekNumber", "localeFirstDayOfYear", "week", "Math", "ceil", "PARSE_REGEX", "PARSE_TIME", "DAYS_IN_MONTH", "DAYS_IN_MONTH_LEAP", "DAYS_IN_MONTH_MIN", "DAYS_IN_MONTH_MAX", "MONTH_MAX", "MONTH_MIN", "DAY_MIN", "DAYS_IN_WEEK", "MINUTES_IN_HOUR", "MINUTE_MAX", "MINUTES_IN_DAY", "HOUR_MAX", "OFFSET_YEAR", "OFFSET_MONTH", "OFFSET_HOUR", "OFFSET_TIME", "getStartOfWeek", "timestamp", "weekdays", "today", "start", "copyTimestamp", "findWeekday", "prevDay", "updateFormatted", "updateRelative", "hasTime", "getEndOfWeek", "end", "length", "getStartOfMonth", "day", "DAY_MIN", "updateWeekday", "getEndOfMonth", "daysInMonth", "year", "month", "validateNumber", "input", "isFinite", "parseInt", "validateTime", "PARSE_TIME", "exec", "hour", "minute", "parseTime", "parts", "validateTimestamp", "PARSE_REGEX", "Date", "parseTimestamp", "required", "arguments", "undefined", "now", "date", "parseDate", "Error", "time", "weekday", "hasDay", "past", "present", "future", "getFullYear", "getMonth", "getDate", "getDay", "getHours", "getMinutes", "getDayIdentifier", "getTimeIdentifier", "getTimestampIdentifier", "a", "b", "isTimedless", "updateHasTime", "HOUR_MAX", "MINUTE_MAX", "getTime", "updateMinutes", "minutes", "Math", "floor", "MINUTES_IN_HOUR", "getWeekday", "_", "k", "m", "MONTH_MAX", "C", "Y", "isLeapYear", "DAYS_IN_MONTH_LEAP", "DAYS_IN_MONTH", "padNumber", "x", "padded", "String", "str", "nextDay", "timestamp", "day", "weekday", "DAYS_IN_WEEK", "DAYS_IN_MONTH_MIN", "daysInMonth", "year", "month", "DAY_MIN", "MONTH_MAX", "MONTH_MIN", "prevDay", "relativeDays", "mover", "arguments", "length", "undefined", "days", "diffMinutes", "min", "max", "Y", "M", "D", "h", "hour", "m", "minute", "findWeekday", "maxDays", "getWeekdaySkips", "weekdays", "skips", "filled", "i", "k", "skip", "j", "next", "timestampToDate", "time", "padNumber", "date", "Date", "createDayList", "start", "end", "now", "weekdaySkips", "stop", "getDayIdentifier", "current", "copyTimestamp", "currentIdentifier", "stopped", "Error", "updateFormatted", "updateRelative", "push", "createIntervalList", "first", "minutes", "count", "intervals", "mins", "int", "updateMinutes", "createNativeLocaleFormatter", "locale", "getOptions", "emptyFormatter", "_t", "_s", "Intl", "DateTimeFormat", "short", "intlFormatter", "format", "e", "validateWeekdays", "input", "split", "Array", "isArray", "ints", "map", "x", "parseInt", "visited", "wrapped", "isFinite", "d", "useTimes", "props", "times", "reactive", "now", "parseTimestamp", "today", "parsedNow", "computed", "validateTimestamp", "setPresent", "present", "past", "future", "getNow", "parseDate", "Date", "updateDay", "target", "date", "year", "month", "day", "weekday", "updateTime", "time", "hour", "minute", "updateTimes", "value", "watch", "makeCalendarBaseProps", "propsFactory", "start", "type", "String", "Number", "Date", "validate", "validateTimestamp", "default", "parseDate", "date", "end", "weekdays", "Array", "validateWeekdays", "weekdayFormat", "Function", "dayFormat", "locale", "now", "validator", "useCalendarBase", "props", "times", "useTimes", "provideLocale", "parsedStart", "computed", "getStartOfMonth", "parseTimestamp", "parsedEnd", "value", "getTimestampIdentifier", "getEndOfMonth", "parsedValue", "modelValue", "today", "parsedWeekdays", "isArray", "split", "map", "x", "parseInt", "effectiveWeekdays", "days", "categoryDays", "weekday", "from", "length", "_", "i", "weekdaySkips", "getWeekdaySkips", "createDayList", "dayFormatter", "createNativeLocaleFormatter", "current", "timeZone", "day", "weekdayFormatter", "_tms", "short", "getColorProps", "colors", "computeColor", "getRelativeClasses", "timestamp", "outside", "arguments", "undefined", "present", "past", "future", "_getStartOfWeek", "getStartOfWeek", "_getEndOfWeek", "getEndOfWeek", "getFormatter", "options", "makeCalendarWithIntervalsProps", "propsFactory", "maxDays", "type", "Number", "default", "intervalHeight", "String", "validate", "validateNumber", "intervalWidth", "intervalMinutes", "firstInterval", "firstTime", "Object", "validateTime", "intervalCount", "intervalFormat", "Function", "intervalStyle", "showIntervalLabel", "useCalendarWithIntervals", "props", "base", "useCalendarBase", "scrollAreaRef", "shallowRef", "parsedFirstInterval", "computed", "parseInt", "parsedIntervalMinutes", "parsedIntervalCount", "parsedIntervalHeight", "parseFloat", "parsedFirstTime", "parseTime", "firstMinute", "time", "value", "MINUTES_IN_DAY", "bodyHeight", "days", "createDayList", "parsedStart", "parsedEnd", "times", "today", "weekdaySkips", "intervals", "daysValue", "first", "minutes", "count", "now", "map", "d", "createIntervalList", "intervalFormatter", "createNativeLocaleFormatter", "locale", "current", "tms", "short", "timeZone", "hour", "minute", "showIntervalLabelDefault", "interval", "isFirst", "intervalStyleDefault", "_interval", "undefined", "getTimestampAtEvent", "e", "day", "timestamp", "copyTimestamp", "bounds", "currentTarget", "getBoundingClientRect", "baseMinutes", "touchEvent", "mouseEvent", "touches", "changedTouches", "clientY", "addIntervals", "top", "addMinutes", "Math", "floor", "updateMinutes", "getSlotScope", "scope", "timeToY", "timeDelta", "minutesToPixels", "week", "scrollToTime", "y", "pane", "scrollTop", "clamp", "arguments", "length", "min", "gap", "VCalendarDaily", "defineComponent", "name", "directives", "vResize", "props", "color", "String", "shortWeekdays", "type", "Boolean", "default", "shortIntervals", "hideHeader", "makeCalendarBaseProps", "makeCalendarWithIntervalsProps", "setup", "_ref", "slots", "attrs", "scrollPush", "ref", "scrollArea", "pane", "base", "useCalendarWithIntervals", "init", "nextTick", "onResize", "value", "getScrollPush", "offsetWidth", "genHead", "_createElementVNode", "marginRight", "genHeadIntervals", "genHeadDays", "width", "convertToUnit", "intervalWidth", "days", "map", "genHeadDay", "day", "index", "events", "getPrefixedEventHandlers", "nativeEvent", "getSlotScope", "_mergeProps", "date", "getRelativeClasses", "genHeadWeekday", "genHeadDayLabel", "genDayHeader", "week", "present", "undefined", "getColorProps", "text", "weekdayFormatter", "genHeadDayButton", "_createVNode", "VIconBtn", "dayFormatter", "genBody", "genScrollArea", "genPane", "height", "bodyHeight", "genDayContainer", "genBodyIntervals", "genDays", "getTimestampAtEvent", "genDayIntervals", "genDayBody", "intervals", "genDayInterval", "interval", "intervalHeight", "styler", "intervalStyle", "intervalStyleDefault", "time", "_normalizeStyle", "parsedStart", "genIntervalLabels", "length", "genIntervalLabel", "short", "shower", "showIntervalLabel", "showIntervalLabelDefault", "show", "label", "intervalFormatter", "onMounted", "useRender", "_withDirectives", "_normalizeClass", "class", "e", "preventDefault", "quiet", "parsedCategoryText", "category", "categoryText", "getParsedCategories", "categories", "split", "Array", "isArray", "map", "categoryName", "VCalendarCategory", "defineComponent", "name", "props", "categories", "type", "Array", "String", "default", "categoryText", "Function", "categoryForInvalid", "makeCalendarBaseProps", "makeCalendarWithIntervalsProps", "setup", "_ref", "slots", "attrs", "base", "useCalendarWithIntervals", "parsedCategories", "computed", "getParsedCategories", "getCategoryScope", "scope", "category", "cat", "categoryName", "genDayHeader", "_createElementVNode", "value", "map", "genDayHeaderCategory", "day", "headerTitle", "events", "getPrefixedEventHandlers", "getSlotScope", "_mergeProps", "genDayHeaderCategoryTitle", "genDays", "days", "forEach", "d", "j", "length", "fill", "push", "v", "i", "genDay", "index", "categoryIndex", "e", "getTimestampAtEvent", "date", "getRelativeClasses", "genDayIntervals", "genDayBody", "intervals", "genDayInterval", "interval", "height", "convertToUnit", "intervalHeight", "styler", "intervalStyle", "intervalStyleDefault", "time", "_normalizeStyle", "genDayBodyCategory", "useRender", "_createVNode", "VCalendarDaily", "VCalendarWeekly", "defineComponent", "name", "props", "minWeeks", "validate", "validateNumber", "default", "monthFormat", "Function", "showWeek", "Boolean", "color", "String", "shortWeekdays", "type", "localeFirstDayOfYear", "Number", "showMonthOnFirst", "shortMonths", "hideHeader", "makeCalendarBaseProps", "setup", "_ref", "slots", "attrs", "base", "useCalendarBase", "theme", "useTheme", "parsedMinWeeks", "computed", "parseInt", "days", "minDays", "value", "parsedWeekdays", "length", "start", "getStartOfWeek", "parsedStart", "end", "getEndOfWeek", "parsedEnd", "createDayList", "times", "today", "weekdaySkips", "MAX_SAFE_INTEGER", "todayWeek", "monthFormatter", "createNativeLocaleFormatter", "locale", "current", "_tms", "short", "timeZone", "month", "isOutside", "day", "dayIdentifier", "getDayIdentifier", "genHead", "_createElementVNode", "genHeadDays", "header", "map", "genHeadDay", "unshift", "index", "outside", "present", "undefined", "_mergeProps", "getColorProps", "text", "date", "getRelativeClasses", "weekdayFormatter", "genWeeks", "daysValue", "weekDays", "weeks", "i", "push", "genWeek", "slice", "getWeekNumber", "week", "weekNumber", "weekNodes", "genDay", "genWeekNumber", "determineDay", "year", "events", "getPrefixedEventHandlers", "nativeEvent", "genDayLabel", "genDayLabelButton", "hasMonth", "_createVNode", "VIconBtn", "dayFormatter", "useRender", "_normalizeClass", "themeClasses", "e", "preventDefault", "MILLIS_IN_DAY", "getVisuals", "events", "minStart", "arguments", "length", "undefined", "visuals", "map", "event", "columnCount", "column", "left", "width", "sort", "a", "b", "Math", "max", "startTimestampIdentifier", "endTimestampIdentifier", "hasOverlap", "s0", "e0", "s1", "e1", "exclude", "setColumnCount", "groups", "forEach", "group", "groupVisual", "getRange", "getDayRange", "startIdentifier", "endIdentifier", "getNormalizedRange", "dayStart", "min", "getOpenGroup", "start", "end", "timed", "i", "intersected", "k", "groupStart", "groupEnd", "getOverlapGroupHandler", "firstWeekday", "handler", "reset", "day", "dayEvents", "weekday", "getTimestampIdentifier", "visual", "targetGroup", "push", "target", "FULL_WIDTH", "column", "events", "firstWeekday", "overlapThreshold", "handler", "getOverlapGroupHandler", "day", "dayEvents", "timed", "reset", "visuals", "getVisuals", "forEach", "visual", "left", "columnCount", "width", "FULL_WIDTH", "DEFAULT_OFFSET", "WIDTH_MULTIPLIER", "stack", "events", "firstWeekday", "overlapThreshold", "handler", "getOverlapGroupHandler", "day", "dayEvents", "timed", "reset", "getVisuals", "dayStart", "getTimestampIdentifier", "visuals", "groups", "getGroups", "group", "nodes", "visual", "child", "getNode", "index", "getNextIndex", "parent", "getParent", "sibling", "hasOverlap", "start", "end", "addTime", "children", "push", "getOverlappingRange", "length", "grand", "grandNext", "calculateBounds", "sort", "a", "b", "left", "event", "startTimestampIdentifier", "node", "columns", "getMaxChildIndex", "spaceLeft", "spaceWidth", "offset", "Math", "min", "columnWidthMultiplier", "getColumnWidthMultiplier", "columnOffset", "columnWidth", "width", "hasFullWidth", "maxColumn", "minColumn", "reduce", "c", "getOverlappingIndices", "indices", "other", "i", "indexMin", "indexMax", "returnFirstColumn", "arguments", "undefined", "overlapping", "first", "n", "filter", "getNormalizedRange", "added", "max", "childMax", "identifier", "minutes", "removeMinutes", "totalMinutes", "addHours", "floor", "addMinutes", "CalendarEventOverlapModes", "stack", "column", "parseEvent", "input", "index", "startProperty", "endProperty", "timed", "arguments", "length", "undefined", "category", "startInput", "endInput", "startParsed", "parseTimestamp", "endParsed", "start", "isTimedless", "updateHasTime", "end", "startIdentifier", "getDayIdentifier", "startTimestampIdentifier", "getTimestampIdentifier", "endIdentifier", "endOffset", "hasTime", "endTimestampIdentifier", "allDay", "isEventOn", "event", "dayIdentifier", "isEventHiddenOn", "day", "time", "date", "isEventStart", "firstWeekday", "weekday", "isEventOverlapping", "WIDTH_FULL", "WIDTH_START", "MINUTES_IN_DAY", "makeCalendarWithEventsProps", "propsFactory", "events", "type", "Array", "default", "eventStart", "String", "eventEnd", "eventTimed", "Function", "eventCategory", "eventHeight", "Number", "eventColor", "eventTextColor", "eventName", "eventOverlapThreshold", "eventOverlapMode", "validate", "mode", "CalendarEventOverlapModes", "eventMore", "Boolean", "eventMoreText", "eventRipple", "Object", "eventMarginBottom", "useCalendarWithEvents", "props", "slots", "attrs", "base", "useCalendarBase", "noEvents", "computed", "isArray", "length", "categoryMode", "eventTimedFunction", "event", "eventCategoryFunction", "parsedEvents", "map", "index", "parseEvent", "value", "parsedEventOverlapThreshold", "parseInt", "eventTextColorFunction", "eventNameFunction", "timedEvent", "input", "eventModeFunction", "eventWeekdays", "effectiveWeekdays", "eventColorFunction", "e", "color", "eventsRef", "ref", "updateEventVisibility", "eventsMap", "getEventsMap", "date", "parent", "more", "parentBounds", "getBoundingClientRect", "last", "eventsSorted", "bottom", "sort", "a", "b", "hidden", "i", "hide", "style", "display", "innerHTML", "locale", "t", "elements", "forEach", "el", "getAttribute", "parentElement", "push", "genDayEvent", "_ref", "day", "dayIdentifier", "getDayIdentifier", "week", "start", "startIdentifier", "end", "endIdentifier", "width", "WIDTH_START", "weekdayIdentifier", "WIDTH_FULL", "scope", "eventParsed", "timed", "genEvent", "class", "height", "marginBottom", "genTimedEvent", "_ref2", "left", "endDelta", "timeDelta", "startDelta", "isEventHiddenOn", "top", "timeToY", "MINUTES_IN_DAY", "Math", "max", "scopeInput", "data", "slot", "text", "background", "overlapsNoon", "hour", "singline", "diffMinutes", "formatTime", "withTime", "ampm", "formatter", "getFormatter", "timeZone", "minute", "undefined", "timeSummary", "eventSummary", "name", "hasTime", "time", "delimiter", "_createElementVNode", "_createTextVNode", "outside", "getPrefixedEventHandlers", "nativeEvent", "_withDirectives", "_mergeProps", "getColorProps", "genName", "vRipple", "genPlaceholder", "genMore", "getVisibleEvents", "days", "filter", "isEventOverlapping", "isEventForCategory", "category", "categoryName", "getEventsForDay", "identifier", "firstWeekday", "isEventStart", "getEventsForDayAll", "allDay", "isEventOn", "getEventsForDayTimed", "getScopedSlots", "isNode", "getSlotChildren", "getter", "mapper", "visuals", "visual", "children", "column", "mapped", "concat", "VCalendar", "genericComponent", "name", "directives", "vResize", "props", "modelValue", "type", "String", "Number", "Date", "validate", "validateTimestamp", "categoryDays", "default", "x", "isFinite", "parseInt", "categories", "Array", "categoryText", "Function", "maxDays", "categoryHideDynamic", "Boolean", "categoryShowAll", "categoryForInvalid", "makeCalendarBaseProps", "makeCalendarWithEventsProps", "setup", "_ref", "slots", "attrs", "emit", "root", "ref", "base", "useCalendarWithEvents", "lastStart", "lastEnd", "parsedCategoryDays", "computed", "parsedCategories", "getParsedCategories", "renderProps", "around", "parsedValue", "value", "component", "start", "end", "VCalendarWeekly", "getStartOfMonth", "getEndOfMonth", "VCalendarDaily", "getStartOfWeek", "getEndOfWeek", "relativeDays", "copyTimestamp", "nextDay", "updateFormatted", "parsedStart", "parsedEnd", "days", "VCalendarCategory", "getCategoryList", "Error", "eventWeekdays", "effectiveWeekdays", "categoryMode", "monthLongFormatter", "getFormatter", "timeZone", "month", "monthShortFormatter", "title", "spanYears", "year", "spanMonths", "checkChange", "date", "move", "amount", "arguments", "length", "undefined", "moved", "forward", "mover", "prevDay", "limit", "DAYS_IN_MONTH_MAX", "DAY_MIN", "times", "day", "DAYS_IN_WEEK", "updateWeekday", "updateRelative", "now", "timestampToDate", "getTime", "next", "prev", "noEvents", "categoryMap", "reduce", "map", "category", "index", "categoryName", "count", "categoryLength", "parsedEvents", "forEach", "ev", "filter", "hasOwnProperty", "watch", "onMounted", "updateEventVisibility", "onUpdated", "window", "requestAnimationFrame", "useRender", "Component", "_withDirectives", "_createVNode", "_mergeProps", "filterProps", "onClick:date", "e", "getScopedSlots", "quiet", "forwardRefs", "availablePipLocations", "makeVColorInputProps", "propsFactory", "hidePip", "Boolean", "colorPip", "pipIcon", "type", "String", "default", "pipLocation", "validator", "v", "includes", "pipVariant", "makeFocusProps", "makeVConfirmEditProps", "makeVTextFieldProps", "omit", "makeVColorPickerProps", "VColorInput", "genericComponent", "name", "props", "emits", "val", "setup", "_ref", "slots", "model", "useProxiedModel", "menu", "shallowRef", "isFocused", "focused", "isInteractive", "computed", "disabled", "readonly", "display", "value", "onKeydown", "e", "key", "target", "onClick", "preventDefault", "stopPropagation", "onSave", "onCancel", "useRender", "confirmEditProps", "VConfirmEdit", "filterProps", "colorPickerProps", "VColorPicker", "textFieldProps", "VTextField", "slotWithPip", "undefined", "arg", "_createElementVNode", "_Fragment", "_createVNode", "VAvatar", "_mergeProps", "class", "style", "event", "VMenu", "$event", "_ref2", "actions", "proxyModel", "save", "cancel", "isPristine", "onUpdateModel", "hideActions", "DateFormatSpec", "constructor", "order", "separator", "format", "split", "map", "sign", "join", "replace", "canBeParsed", "v", "lowercase", "toLowerCase", "every", "includes", "some", "parse", "Error", "filter", "c", "i", "all", "indexOf", "find", "makeDateFormatProps", "propsFactory", "inputFormat", "type", "String", "validator", "useDateFormat", "props", "locale", "adapter", "useDate", "inferFromLocale", "localeForDateFormat", "value", "formatFromLocale", "Intl", "DateTimeFormat", "year", "month", "day", "toJsDate", "parseISO", "consoleWarn", "currentFormat", "toRef", "parseDate", "dateString", "parseDateParts", "text", "parts", "trim", "y", "Number", "m", "d", "validateDateParts", "dateParts", "autoFixYear", "currentYear", "getYear", "date", "currentCentury", "validatedParts", "pad", "padStart", "isValid", "formatDate", "toISO", "parserFormat", "makeVDateInputProps", "propsFactory", "displayFormat", "type", "Function", "String", "default", "undefined", "location", "menu", "Boolean", "updateOn", "Array", "makeDateFormatProps", "makeDisplayProps", "mobile", "makeFocusProps", "makeVConfirmEditProps", "hideActions", "makeVTextFieldProps", "prependIcon", "omit", "makeVDatePickerProps", "hideHeader", "showAdjacentMonths", "VDateInput", "genericComponent", "name", "props", "emits", "save", "value", "cancel", "val", "setup", "_ref", "emit", "slots", "t", "current", "currentLocale", "useLocale", "adapter", "useDate", "isValid", "parseDate", "formatDate", "parserFormat", "useDateFormat", "useDisplay", "emptyModelValue", "multiple", "model", "useProxiedModel", "isArray", "map", "item", "toJsDate", "date", "isEditingInput", "shallowRef", "isFocused", "focused", "vTextFieldRef", "ref", "disabledActions", "format", "display", "computed", "wrapInArray", "length", "start", "end", "inputmode", "isInteractive", "disabled", "readonly", "isReadonly", "watch", "onKeydown", "e", "key", "includes", "onUserInput", "target", "onClick", "preventDefault", "stopPropagation", "onCancel", "onSave", "onUpdateDisplayModel", "onBlur", "_ref2", "trim", "parts", "split", "every", "stop", "toSorted", "a", "b", "isAfter", "createDateRange", "useRender", "confirmEditProps", "VConfirmEdit", "filterProps", "datePickerProps", "VDatePicker", "datePickerSlots", "pick", "textFieldProps", "VTextField", "_createVNode", "_mergeProps", "class", "style", "placeholder", "event", "_createElementVNode", "_Fragment", "VMenu", "$event", "_ref3", "actions", "proxyModel", "isPristine", "onUpdateModel", "forwardRefs", "makeVFileUploadItemProps", "propsFactory", "clearable", "Boolean", "file", "type", "Object", "default", "fileIcon", "String", "showSize", "makeVListItemProps", "border", "rounded", "lines", "VFileUploadItem", "genericComponent", "name", "props", "emits", "click:remove", "click", "e", "setup", "_ref", "emit", "slots", "preview", "ref", "base", "computed", "undefined", "onClickRemove", "watchEffect", "value", "startsWith", "URL", "createObjectURL", "useRender", "listItemProps", "VListItem", "filterProps", "_createVNode", "_mergeProps", "class", "title", "humanReadableFileSize", "size", "style", "prepend", "slotProps", "_createElementVNode", "_Fragment", "VAvatar", "VDefaultsProvider", "image", "icon", "append", "clear", "VBtn", "density", "variant", "onClick", "makeVFileUploadProps", "propsFactory", "browseText", "type", "String", "default", "dividerText", "title", "subtitle", "icon", "IconValue", "modelValue", "Array", "Object", "validator", "val", "wrapInArray", "every", "v", "clearable", "Boolean", "disabled", "hideBrowse", "multiple", "scrim", "showSize", "name", "makeFileFilterProps", "makeDelayProps", "makeDensityProps", "pick", "makeVDividerProps", "length", "makeVSheetProps", "VFileUpload", "genericComponent", "inheritAttrs", "props", "emits", "files", "rejected", "setup", "_ref", "attrs", "emit", "slots", "t", "useLocale", "densityClasses", "useDensity", "filterAccepted", "useFileFilter", "model", "useProxiedModel", "isArray", "isDragging", "shallowRef", "vSheetRef", "ref", "inputRef", "handleDrop", "useFileDrop", "onDragover", "e", "preventDefault", "stopImmediatePropagation", "value", "onDragleave", "onDrop", "allDroppedFiles", "selectAccepted", "onFileSelection", "target", "repack", "filterByType", "dataTransfer", "DataTransfer", "accepted", "file", "items", "add", "event", "Event", "bubbles", "dispatchEvent", "onClick", "click", "onClickRemove", "index", "newValue", "filter", "_", "i", "useRender", "hasTitle", "hasIcon", "hasBrowse", "browse", "density", "cardProps", "VSheet", "filterProps", "dividerProps", "VDivider", "rootAttrs", "inputAttrs", "filterInputAttrs", "expectsDirectory", "webkitdirectory", "undefined", "acceptFallback", "accept", "inputAccept", "inputNode", "_createElementVNode", "_mergeProps", "_Fragment", "_createVNode", "class", "style", "VIcon", "VDefaultsProvider", "divider", "VBtn", "readonly", "size", "text", "variant", "VOverlay", "input", "map", "slotProps", "onClick:remove", "VFileUploadItem", "item", "makeVMaskInputProps", "propsFactory", "returnMaskedValue", "Boolean", "makeVTextFieldProps", "makeMaskProps", "VMaskInput", "genericComponent", "name", "props", "emits", "val", "setup", "_ref", "slots", "emit", "vTextFieldRef", "ref", "inputAction", "shallowRef", "caretPosition", "mask", "useMask", "computed", "model", "useProxiedModel", "undefined", "unmask", "valueWithoutDelimiters", "removeMaskDelimiters", "newMaskedValue", "newUnmaskedValue", "newCaretPosition", "getNewCaretPosition", "oldValue", "value", "newValue", "oldCaret", "setSelectionRange", "validationValue", "toRef", "split", "filter", "ch", "isMaskDelimiter", "join", "_ref2", "length", "newCaret", "onBeforeMount", "onKeyDown", "e", "metaKey", "inputElement", "target", "selectionStart", "key", "hasSelection", "selectionEnd", "preventDefault", "deleteSelection", "onCut", "copySelectionToClipboard", "onPaste", "pastedString", "clipboardData", "getData", "pastedCharacters", "replaceSelection", "insertCharacters", "start", "end", "selectedText", "substring", "navigator", "clipboard", "writeText", "curStart", "success", "simulateBackspace", "slice", "nextTick", "i", "insertCharacter", "character", "replaceCharacter", "index", "targetIndex", "useRender", "textFieldProps", "VTextField", "filterProps", "_createVNode", "_mergeProps", "$event", "forwardRefs", "makeRevealProps", "propsFactory", "reveal", "type", "Boolean", "Object", "default", "useReveal", "props", "defaultDuration", "duration", "toRef", "Math", "max", "Number", "state", "shallowRef", "onMounted", "value", "Promise", "resolve", "requestAnimationFrame", "setTimeout", "pointOnArc", "center", "radius", "angle", "radians", "Math", "PI", "cos", "sin", "drawCircle", "_ref", "r", "width", "x", "y", "innerRadius", "simpleArc", "startAngle", "endAngle", "start", "end", "sweep", "join", "roundedArc", "rounding", "min", "abs", "innerR", "circumference", "innerR2", "outerRadius", "oStart", "oEnd", "iStart", "iEnd", "iSection", "oSection", "iArcStart", "iArcEnd", "oArcStart", "oArcEnd", "arcSweep1", "arcSweep2", "formatTextTemplate", "template", "item", "replaceAll", "title", "String", "value", "undefined", "usePieArc", "props", "isHovering", "hoverZoomRatio", "toRef", "clamp", "Number", "hoverScale", "normalizedValue", "gap", "normalizedInnerCut", "min", "rounded", "innerCut", "radians", "computed", "Math", "PI", "arcWidth", "outerX", "cos", "outerY", "sin", "useOuterSlicePath", "_ref", "angle", "radius", "size", "width", "roundedArc", "toValue", "useInnerSlicePath", "_ref2", "simpleArc", "makeVPieSegmentProps", "propsFactory", "active", "Boolean", "rotate", "Number", "String", "value", "type", "default", "color", "innerCut", "hoverScale", "gap", "rounded", "animation", "Object", "pattern", "hideSlice", "makeRevealProps", "VPieSegment", "genericComponent", "name", "props", "emits", "val", "setup", "isActive", "useProxiedModel", "state", "revealState", "duration", "revealDuration", "useReveal", "transitionConfig", "computed", "defaultEasing", "defaultDuration", "easingName", "easing", "includes", "transition", "easingPatterns", "hoverZoomRatio", "normalizedValue", "normalizedInnerCut", "outerX", "outerY", "arcWidth", "usePieArc", "arcSize", "toRef", "currentArcSize", "useTransition", "angle", "currentAngle", "arcRadius", "currentArcRadius", "currentArcWidth", "outerSlicePath", "useOuterSlicePath", "radius", "size", "width", "innerSlicePath", "useInnerSlicePath", "overlayPath", "_createElementVNode", "onMouseenter", "onMouseleave", "makeVPieTooltipProps", "propsFactory", "modelValue", "Boolean", "target", "Object", "item", "type", "default", "titleFormat", "String", "Function", "subtitleFormat", "makeTransitionProps", "pick", "makeVTooltipProps", "VPieTooltip", "genericComponent", "name", "props", "setup", "_ref", "slots", "tooltipTitleFormatFunction", "toRef", "segment", "formatTextTemplate", "tooltipSubtitleFormatFunction", "_createVNode", "VTooltip", "offset", "MaybeTransition", "transition", "VListItem", "key", "value", "prepend", "undefined", "makeVPieProps", "propsFactory", "title", "String", "bgColor", "items", "type", "Array", "default", "palette", "itemKey", "itemValue", "itemTitle", "size", "Number", "rotate", "gaugeCut", "legend", "Boolean", "Object", "tooltip", "makeDensityProps", "pick", "makeVPieSegmentProps", "VPie", "genericComponent", "name", "directives", "vClickOutside", "props", "setup", "_ref", "slots", "legendConfig", "computed", "visible", "position", "textFormat", "colorClasses", "colorStyles", "useColor", "background", "textColorStyles", "toRef", "value", "legendAvatarSize", "comfortable", "compact", "density", "legendDirection", "includes", "legendMode", "legendTextFormatFunction", "item", "formatTextTemplate", "arcs", "filter", "map", "index", "key", "color", "colorFromPalette", "pattern", "patternFromPalette", "raw", "visibleItemsKeys", "shallowRef", "watch", "length", "a", "immediate", "visibleItems", "isVisible", "total", "reduce", "sum", "gaugeOffset", "Math", "cos", "PI", "min", "rotateDeg", "arcOffset", "slice", "acc", "s", "arcSize", "v", "undefined", "paletteItem", "toggle", "x", "tooltipItem", "tooltipVisible", "tooltipTarget", "mouseLeaveTimeout", "setItemActive", "active", "forEach", "isActive", "setTooltip", "clearTimeout", "setTimeout", "frame", "onSvgMousemove", "_ref2", "clientX", "clientY", "cancelAnimationFrame", "requestAnimationFrame", "onSvgTouchstart", "_ref3", "touches", "onSvgClickOutside", "segmentProps", "defaultTooltipTransition", "duration", "tooltipProps", "modelValue", "titleFormat", "subtitleFormat", "transition", "offset", "target", "legendDefaults", "VChipGroup", "direction", "VChip", "VAvatar", "tooltipDefaults", "avatarSize", "avatarSlot", "_ref4", "_createVNode", "_createElementVNode", "_normalizeClass", "convertToUnit", "_normalizeStyle", "transform", "marginBottom", "_withDirectives", "VPieSegment", "_mergeProps", "val", "onTouchend", "handler", "center", "VDefaultsProvider", "$event", "prepend", "VPieTooltip", "slotProps", "makeVStepperVerticalActionsProps", "propsFactory", "makeVStepperActionsProps", "VStepperVerticalActions", "genericComponent", "name", "props", "emits", "click:prev", "click:next", "setup", "_ref", "emit", "slots", "onClickPrev", "onClickNext", "useRender", "stepperActionsProps", "VStepperActions", "filterProps", "_createVNode", "_mergeProps", "makeVStepperVerticalItemProps", "propsFactory", "hideActions", "Boolean", "makeStepperItemProps", "omit", "makeVExpansionPanelProps", "expandIcon", "collapseIcon", "VStepperVerticalItem", "genericComponent", "name", "props", "emits", "click:next", "click:prev", "click:finish", "setup", "_ref", "emit", "slots", "vExpansionPanelRef", "ref", "step", "computed", "isNaN", "parseInt", "value", "Number", "groupItem", "isSelected", "isValid", "rules", "every", "handler", "canEdit", "disabled", "editable", "hasError", "error", "hasCompleted", "complete", "length", "isFirst", "icon", "errorIcon", "completeIcon", "editIcon", "slotProps", "title", "subtitle", "actionProps", "prev", "onClickPrev", "next", "onClickNext", "isLast", "group", "useRender", "hasColor", "hasActions", "actions", "expansionPanelProps", "VExpansionPanel", "filterProps", "_createVNode", "_mergeProps", "class", "style", "_createElementVNode", "_Fragment", "VAvatar", "color", "undefined", "default", "VIcon", "text", "VDefaultsProvider", "VStepperVerticalActions", "finish", "makeVStepperVerticalProps", "propsFactory", "prevText", "type", "String", "default", "nextText", "makeStepperProps", "omit", "makeVExpansionPanelsProps", "mandatory", "variant", "VStepperVertical", "genericComponent", "name", "props", "emits", "val", "setup", "_ref", "slots", "vExpansionPanelsRef", "ref", "color", "eager", "editable", "hideActions", "toRefs", "model", "useProxiedModel", "items", "computed", "map", "item", "index", "title", "getPropertyFromItem", "itemTitle", "value", "itemValue", "raw", "provideDefaults", "VStepperVerticalItem", "static", "VStepperVerticalActions", "useRender", "expansionPanelProps", "VExpansionPanels", "filterProps", "_createVNode", "_mergeProps", "$event", "altLabels", "flat", "nonLinear", "mobile", "class", "style", "_ref2", "prev", "next", "_createElementVNode", "_Fragment", "_ref3", "step", "VPullToRefresh", "genericComponent", "name", "props", "disabled", "Boolean", "pullDownThreshold", "type", "Number", "default", "emits", "load", "options", "setup", "_ref", "slots", "emit", "touchstartY", "scrollParents", "touchDiff", "shallowRef", "containerRef", "ref", "refreshing", "goingUp", "touching", "canRefresh", "computed", "value", "topOffset", "clamp", "onTouchstart", "e", "clientY", "touches", "onTouchmove", "touchY", "length", "scrollTop", "onTouchend", "done", "onMounted", "getScrollParents", "watch", "stopScrolling", "forEach", "p", "style", "overflow", "newVal", "oldVal", "useRender", "_createElementVNode", "_normalizeClass", "top", "convertToUnit", "height", "pullDownPanel", "_createVNode", "VProgressCircular", "VIcon", "processKey", "config", "requestedMode", "isMac", "keyCfg", "mac", "default", "mode", "icon", "symbol", "value", "text", "startsWith", "slice", "toUpperCase", "hotkeyMap", "ctrl", "meta", "cmd", "shift", "alt", "enter", "arrowup", "arrowdown", "arrowleft", "arrowright", "backspace", "escape", "makeVHotkeyVariantProps", "propsFactory", "variant", "type", "String", "validator", "v", "includes", "makeVHotkeyProps", "keys", "displayMode", "keyMap", "Object", "platform", "inline", "Boolean", "disabled", "prefix", "suffix", "makeComponentProps", "makeThemeProps", "makeBorderProps", "makeRoundedProps", "makeElevationProps", "color", "Delineator", "constructor", "delineator", "val", "Error", "isEqual", "d", "isDelineator", "isString", "getKeyText", "key", "lowerKey", "toLowerCase", "result", "applyDisplayModeToKey", "replace", "VHotkey", "genericComponent", "name", "props", "setup", "t", "useLocale", "themeClasses", "provideTheme", "rtlClasses", "useRtl", "borderClasses", "useBorder", "roundedClasses", "useRounded", "elevationClasses", "useElevation", "isContainedVariant", "computed", "effectiveVariantProps", "colorClasses", "colorStyles", "variantClasses", "useVariant", "navigator", "test", "userAgent", "effectiveDisplayMode", "AND_DELINEATOR", "THEN_DELINEATOR", "effectiveKeyMap", "keyCombinations", "split", "map", "combination", "sequenceGroups", "splitKeySequence", "flatMap", "group", "groupIndex", "keyParts", "splitKeyCombination", "parts", "reduce", "acc", "part", "index", "length", "push", "accessibleLabel", "readableShortcuts", "readableParts", "textKey", "mergeDeep", "translateKey", "join", "shortcutText", "getKeyTooltip", "undefined", "renderKey", "keyIndex", "isContained", "KeyComponent", "VKbd", "keyClasses", "_createVNode", "_normalizeClass", "_normalizeStyle", "VIcon", "renderDivider", "_createElementVNode", "useRender", "class", "style", "comboIndex", "_createTextVNode", "_Fragment", "makeVVideoVolumeProps", "propsFactory", "inline", "Boolean", "label", "String", "direction", "type", "default", "modelValue", "Number", "menuProps", "Object", "sliderProps", "onClick", "EventProp", "makeComponentProps", "VVideoVolume", "genericComponent", "name", "directives", "vTooltip", "props", "emits", "val", "setup", "_ref", "attrs", "t", "useLocale", "volume", "useProxiedModel", "volumeIcon", "toRef", "value", "containerRef", "ref", "useRender", "sliderDefaults", "hideDetails", "step", "thumbSize", "_createElementVNode", "_normalizeClass", "class", "_normalizeStyle", "style", "_withDirectives", "_createVNode", "VIconBtn", "_mergeProps", "VIcon", "VMenu", "location", "VSlider", "v", "e", "stopPropagation", "allowedVariants", "makeVVideoControlsProps", "propsFactory", "color", "String", "backgroundColor", "trackColor", "playing", "Boolean", "hidePlay", "hideVolume", "hideFullscreen", "fullscreen", "floating", "splitTime", "pills", "detached", "progress", "type", "Number", "default", "duration", "volume", "variant", "validator", "v", "includes", "volumeProps", "Object", "makeDensityProps", "makeElevationProps", "makeThemeProps", "VVideoControls", "genericComponent", "name", "directives", "vTooltip", "props", "emits", "val", "skip", "click:fullscreen", "setup", "_ref", "emit", "slots", "t", "useLocale", "themeClasses", "current", "currentTheme", "provideTheme", "densityClasses", "useDensity", "elevationClasses", "useElevation", "backgroundColorClasses", "backgroundColorStyles", "useBackgroundColor", "fallbackBackground", "undefined", "toRef", "fallback", "value", "dark", "useProxiedModel", "lastVolume", "shallowRef", "currentTime", "computed", "secondsElapsed", "Math", "round", "elapsed", "formatTime", "remaining", "total", "labels", "playIconLocaleKey", "volumeIconLocaleKey", "inline", "fullscreenIconLocaleKey", "seek", "playAction", "volumeAction", "fullscreenAction", "play", "pause", "skipTo", "toggleMuted", "toggleFullscreen", "useRender", "sizes", "innerDefaults", "VIconBtn", "size", "density", "iconSize", "VSlider", "thumbSize", "hideDetails", "regularBtnSize", "playBtnSize", "pillClasses", "pillStyles", "slotProps", "_createElementVNode", "_normalizeClass", "_normalizeStyle", "_createVNode", "VDefaultsProvider", "_Fragment", "_withDirectives", "onClick", "prepend", "_createTextVNode", "thumb-label", "VSpacer", "append", "VVideoVolume", "_mergeProps", "allowedVariants", "makeVVideoProps", "propsFactory", "aspectRatio", "String", "Number", "autoplay", "Boolean", "muted", "eager", "src", "type", "image", "hideOverlay", "noFullscreen", "startAt", "variant", "default", "validator", "v", "includes", "controlsTransition", "Object", "component", "VFadeTransition", "controlsVariant", "controlsProps", "rounded", "Array", "makeComponentProps", "makeDensityProps", "makeDimensionProps", "makeThemeProps", "omit", "makeVVideoControlsProps", "VVideo", "genericComponent", "name", "inheritAttrs", "props", "emits", "loaded", "element", "val", "setup", "_ref", "attrs", "emit", "slots", "themeClasses", "provideTheme", "densityClasses", "useDensity", "dimensionStyles", "useDimension", "elevationClasses", "useElevation", "ssr", "useDisplay", "roundedForContainer", "toRef", "isArray", "roundedForControls", "at", "roundedClasses", "roundedContainerClasses", "useRounded", "roundedControlsClasses", "containerRef", "ref", "videoRef", "controlsRef", "playing", "useProxiedModel", "progress", "volume", "fullscreen", "shallowRef", "waiting", "triggered", "startAfterLoad", "state", "duration", "fullscreenEnabled", "controlsList", "onTimeupdate", "currentTime", "value", "onTriggered", "nextTick", "addEventListener", "onVideoLoaded", "startTime", "setTimeout", "onClick", "onKeydown", "e", "ctrlKey", "key", "startsWith", "preventDefault", "target", "tagName", "step", "shiftKey", "Math", "min", "max", "createRange", "map", "skipTo", "toggleMuted", "toggleFullscreen", "watch", "play", "pause", "once", "immediate", "onMounted", "onBeforeUnmount", "removeEventListener", "focusSlider", "container", "closest", "innerSlider", "querySelector", "focus", "fullscreenExitShortcut", "document", "body", "fullscreenElement", "exitFullscreen", "onFullscreenExit", "requestFullscreen", "onVideoClick", "onDoubleClick", "lastTap", "onTouchend", "now", "performance", "useRender", "showControls", "posterTransition", "VVideoControls", "filterProps", "hideVolume", "hideFullscreen", "density", "controlsEventHandlers", "onSkip", "onClick:fullscreen", "stopPropagation", "controlslist", "filter", "join", "loadingIndicator", "_createVNode", "VProgressCircular", "color", "height", "overlayPlayIcon", "VIconBtn", "activeOverlays", "playIcon", "poster", "loading", "_createElementVNode", "_normalizeClass", "class", "_normalizeStyle", "pick", "style", "_mergeProps", "onPlay", "onPause", "onWaiting", "onPlaying", "sources", "Transition", "header", "MaybeTransition", "VImg", "controls", "prepend", "append", "video", "forwardRefs"]
}
